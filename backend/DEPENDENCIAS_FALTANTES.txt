# DEPENDENCIAS FALTANTES - CRMGeoFal Backend
# Generado: 2025-09-25
# Proyecto: CRMGeoFal - Sistema de Gesti√≥n de Laboratorio

## RESUMEN EJECUTIVO
Este documento lista todas las dependencias que fueron identificadas como faltantes durante el an√°lisis del proyecto CRMGeoFal, incluyendo las que ya se instalaron y las que a√∫n pueden ser necesarias.

## DEPENDENCIAS YA INSTALADAS ‚úÖ

### Dependencias Principales (Ya en package.json):
- **express**: ^4.18.2 - Framework web principal
- **pg**: ^8.11.3 - Cliente PostgreSQL
- **bcryptjs**: ^2.4.3 - Hash de contrase√±as
- **jsonwebtoken**: ^9.0.2 - Autenticaci√≥n JWT
- **dotenv**: ^16.3.1 - Variables de entorno
- **cors**: ^2.8.5 - CORS middleware
- **helmet**: ^7.0.0 - Seguridad HTTP
- **morgan**: ^1.10.0 - Logging HTTP
- **express-rate-limit**: ^8.1.0 - Rate limiting
- **multer**: ^1.4.5-lts.1 - Subida de archivos
- **socket.io**: ^4.7.2 - WebSockets
- **nodemon**: ^3.0.1 - Desarrollo (dev dependency)

### Dependencias Agregadas Durante el An√°lisis:
- **winston**: ^3.11.0 - Sistema de logging avanzado
- **nodemailer**: ^6.9.7 - Env√≠o de emails
- **exceljs**: ^4.4.0 - Generaci√≥n de archivos Excel
- **pdfkit**: ^0.14.0 - Generaci√≥n de archivos PDF
- **express-validator**: ^7.0.1 - Validaci√≥n de datos
- **supertest**: ^6.3.3 - Testing de APIs
- **jest**: ^29.7.0 - Framework de testing
- **prettier**: ^3.1.1 - Formateo de c√≥digo
- **axios**: ^1.6.2 - Cliente HTTP para testing

## DEPENDENCIAS POTENCIALMENTE FALTANTES ‚ö†Ô∏è

### Para Funcionalidades de Exportaci√≥n:
- **archiver**: ^7.0.1 - Compresi√≥n de archivos (YA INSTALADO)
- **csv-parser**: ^3.0.0 - Parsing de archivos CSV
- **csv-writer**: ^1.6.0 - Escritura de archivos CSV
- **moment**: ^2.29.4 - Manipulaci√≥n de fechas
- **lodash**: ^4.17.21 - Utilidades JavaScript

### Para Funcionalidades de Email:
- **handlebars**: ^4.7.8 - Templates de email
- **nodemailer-html-to-text**: ^3.1.0 - Conversi√≥n HTML a texto
- **email-templates**: ^8.0.0 - Templates de email avanzados

### Para Funcionalidades de PDF:
- **puppeteer**: ^21.5.2 - Generaci√≥n de PDFs con Chrome
- **html-pdf**: ^3.0.1 - Conversi√≥n HTML a PDF
- **wkhtmltopdf**: ^0.4.1 - Generaci√≥n de PDFs desde HTML

### Para Funcionalidades de Base de Datos:
- **knex**: ^3.0.1 - Query builder
- **sequelize**: ^6.35.0 - ORM alternativo
- **typeorm**: ^0.3.17 - ORM con TypeScript

### Para Funcionalidades de Seguridad:
- **bcrypt**: ^5.1.1 - Hash de contrase√±as (alternativa a bcryptjs)
- **crypto**: ^1.0.1 - Criptograf√≠a nativa
- **express-session**: ^1.17.3 - Manejo de sesiones
- **connect-redis**: ^7.1.0 - Sesiones con Redis

### Para Funcionalidades de Cach√©:
- **redis**: ^4.6.10 - Cliente Redis
- **node-cache**: ^5.1.2 - Cach√© en memoria
- **memory-cache**: ^0.2.0 - Cach√© simple

### Para Funcionalidades de Monitoreo:
- **winston-daily-rotate-file**: ^4.7.1 - Rotaci√≥n de logs
- **express-winston**: ^4.2.0 - Logging de Express
- **morgan-body**: ^2.0.0 - Logging de body de requests

### Para Funcionalidades de Validaci√≥n:
- **joi**: ^17.11.0 - Validaci√≥n de esquemas
- **yup**: ^1.3.3 - Validaci√≥n de formularios
- **class-validator**: ^0.14.0 - Validaci√≥n con decoradores

### Para Funcionalidades de Testing:
- **@types/jest**: ^29.5.8 - Tipos de Jest
- **@types/supertest**: ^2.0.16 - Tipos de Supertest
- **jest-environment-node**: ^29.7.0 - Entorno de Jest
- **cross-env**: ^7.0.3 - Variables de entorno cross-platform

### Para Funcionalidades de Desarrollo:
- **eslint**: ^8.54.0 - Linting de c√≥digo
- **eslint-config-prettier**: ^9.0.0 - Configuraci√≥n ESLint + Prettier
- **eslint-plugin-node**: ^11.1.0 - Plugin ESLint para Node.js
- **husky**: ^8.0.3 - Git hooks
- **lint-staged**: ^15.1.0 - Linting en commits

## COMANDOS DE INSTALACI√ìN

### Instalaci√≥n de Dependencias Cr√≠ticas:
```bash
npm install csv-parser csv-writer moment lodash
npm install handlebars nodemailer-html-to-text
npm install puppeteer html-pdf
npm install knex sequelize
npm install redis node-cache
npm install winston-daily-rotate-file express-winston
npm install joi yup class-validator
```

### Instalaci√≥n de Dependencias de Desarrollo:
```bash
npm install --save-dev @types/jest @types/supertest
npm install --save-dev eslint eslint-config-prettier
npm install --save-dev husky lint-staged
npm install --save-dev cross-env
```

### Instalaci√≥n de Dependencias de Testing:
```bash
npm install --save-dev jest-environment-node
npm install --save-dev @types/node
npm install --save-dev ts-jest
```

## DEPENDENCIAS ESPEC√çFICAS POR M√ìDULO

### M√≥dulo de Exportaciones:
- **archiver** ‚úÖ (Ya instalado)
- **exceljs** ‚úÖ (Ya instalado)
- **pdfkit** ‚úÖ (Ya instalado)
- **csv-parser** ‚ö†Ô∏è (Faltante)
- **csv-writer** ‚ö†Ô∏è (Faltante)

### M√≥dulo de Email:
- **nodemailer** ‚úÖ (Ya instalado)
- **handlebars** ‚ö†Ô∏è (Faltante)
- **nodemailer-html-to-text** ‚ö†Ô∏è (Faltante)

### M√≥dulo de PDF:
- **pdfkit** ‚úÖ (Ya instalado)
- **puppeteer** ‚ö†Ô∏è (Faltante - para PDFs complejos)
- **html-pdf** ‚ö†Ô∏è (Faltante - alternativa)

### M√≥dulo de Base de Datos:
- **pg** ‚úÖ (Ya instalado)
- **knex** ‚ö†Ô∏è (Faltante - query builder)
- **sequelize** ‚ö†Ô∏è (Faltante - ORM)

### M√≥dulo de Logging:
- **winston** ‚úÖ (Ya instalado)
- **winston-daily-rotate-file** ‚ö†Ô∏è (Faltante)
- **express-winston** ‚ö†Ô∏è (Faltante)

## PRIORIDADES DE INSTALACI√ìN

### üî¥ CR√çTICAS (Instalar inmediatamente):
1. **csv-parser** - Para importar datos CSV
2. **csv-writer** - Para exportar datos CSV
3. **moment** - Para manejo de fechas
4. **lodash** - Utilidades JavaScript

### üü° IMPORTANTES (Instalar pronto):
1. **handlebars** - Templates de email
2. **puppeteer** - PDFs complejos
3. **redis** - Cach√© y sesiones
4. **joi** - Validaci√≥n robusta

### üü¢ OPCIONALES (Instalar seg√∫n necesidad):
1. **sequelize** - ORM alternativo
2. **knex** - Query builder
3. **puppeteer** - PDFs avanzados
4. **class-validator** - Validaci√≥n con decoradores

## NOTAS T√âCNICAS

### Compatibilidad:
- Todas las dependencias son compatibles con Node.js 18+
- Se recomienda usar versiones LTS
- Verificar compatibilidad con PostgreSQL 12+

### Rendimiento:
- **redis** mejora significativamente el rendimiento
- **knex** puede ser m√°s eficiente que consultas SQL directas
- **puppeteer** es m√°s lento pero m√°s potente que pdfkit

### Seguridad:
- **joi** proporciona validaci√≥n robusta
- **bcrypt** es m√°s seguro que bcryptjs
- **express-session** mejora la seguridad de sesiones

## PR√ìXIMOS PASOS

1. **Instalar dependencias cr√≠ticas** inmediatamente
2. **Probar funcionalidades** con las nuevas dependencias
3. **Instalar dependencias importantes** seg√∫n prioridad
4. **Configurar herramientas de desarrollo** (ESLint, Prettier)
5. **Implementar testing** con Jest y Supertest

---
*Documento generado autom√°ticamente durante el an√°lisis del proyecto CRMGeoFal*
