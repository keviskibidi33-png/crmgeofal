import{j as e,F as r,b as T,c as A,d as h,e as j,B as F,f as $,g as B}from"./index-Vrmn15ab.js";import{u as n}from"./useQuery-C0PUex0E.js";import{P as Q,R as u,C as l}from"./PageHeader-BlrN-WgO.js";import{S as d}from"./StatsCard-uVAG-g3O.js";import{l as M}from"./users-DI5ZyYaW.js";import{l as S}from"./projects-b3Cl7FnY.js";import{l as q}from"./quotes-DpGW3LqO.js";import{l as E}from"./tickets-D4u3AEb4.js";import{C as i}from"./Card-DbstLWov.js";const L=()=>{var p,N,f,b,g,y,v,w,P,k,C,z;const{data:m}=n(["users"],M),{data:c}=n(["projects"],S),{data:o}=n(["quotes"],q),{data:a}=n(["tickets"],E),t={totalUsers:((p=m==null?void 0:m.users)==null?void 0:p.length)||0,totalProjects:((N=c==null?void 0:c.projects)==null?void 0:N.length)||0,totalQuotes:((f=o==null?void 0:o.quotes)==null?void 0:f.length)||0,totalTickets:((b=a==null?void 0:a.tickets)==null?void 0:b.length)||0,activeProjects:((y=(g=c==null?void 0:c.projects)==null?void 0:g.filter(s=>s.status==="activo"))==null?void 0:y.length)||0,pendingQuotes:((w=(v=o==null?void 0:o.quotes)==null?void 0:v.filter(s=>s.status==="pendiente"))==null?void 0:w.length)||0,openTickets:((k=(P=a==null?void 0:a.tickets)==null?void 0:P.filter(s=>s.status==="abierto"))==null?void 0:k.length)||0,completedProjects:((z=(C=c==null?void 0:c.projects)==null?void 0:C.filter(s=>s.status==="completado"))==null?void 0:z.length)||0},H=[{id:1,type:"quote",title:"Nueva cotización creada",description:"Cotización #2024-001 para Proyecto ABC",time:"Hace 2 horas",icon:h,color:"primary"},{id:2,type:"project",title:"Proyecto completado",description:"Proyecto XYZ finalizado exitosamente",time:"Hace 4 horas",icon:B,color:"success"},{id:3,type:"ticket",title:"Nuevo ticket de soporte",description:"Solicitud de soporte técnico",time:"Hace 6 horas",icon:j,color:"warning"},{id:4,type:"user",title:"Usuario registrado",description:"Nuevo usuario agregado al sistema",time:"Hace 8 horas",icon:T,color:"info"}],R=[{title:"Nuevo Proyecto",description:"Crear un nuevo proyecto",icon:A,color:"primary",href:"/proyectos"},{title:"Nueva Cotización",description:"Generar cotización",icon:h,color:"success",href:"/cotizaciones"},{title:"Nuevo Ticket",description:"Crear ticket de soporte",icon:j,color:"warning",href:"/tickets"},{title:"Ver Reportes",description:"Analizar datos del sistema",icon:r,color:"info",href:"/reportes"}];return e.jsxs("div",{className:"fade-in",children:[e.jsx(Q,{title:"Dashboard",subtitle:"Resumen general del sistema CRM GeoFal",icon:r}),e.jsxs(u,{className:"mb-4",children:[e.jsx(l,{lg:3,md:6,className:"mb-3",children:e.jsx(d,{title:"Total Usuarios",value:t.totalUsers,icon:T,color:"primary",trend:12,subtitle:"Usuarios activos"})}),e.jsx(l,{lg:3,md:6,className:"mb-3",children:e.jsx(d,{title:"Proyectos Activos",value:t.activeProjects,icon:A,color:"success",trend:8,subtitle:`${t.totalProjects} proyectos totales`})}),e.jsx(l,{lg:3,md:6,className:"mb-3",children:e.jsx(d,{title:"Cotizaciones Pendientes",value:t.pendingQuotes,icon:h,color:"warning",trend:-3,subtitle:`${t.totalQuotes} cotizaciones totales`})}),e.jsx(l,{lg:3,md:6,className:"mb-3",children:e.jsx(d,{title:"Tickets Abiertos",value:t.openTickets,icon:j,color:"danger",trend:5,subtitle:`${t.totalTickets} tickets totales`})})]}),e.jsxs(u,{children:[e.jsx(l,{lg:8,className:"mb-4",children:e.jsxs(i,{className:"h-100",children:[e.jsxs(i.Header,{className:"d-flex justify-content-between align-items-center",children:[e.jsx("h5",{className:"mb-0",children:"Actividades Recientes"}),e.jsxs(F,{variant:"outline-primary",size:"sm",children:[e.jsx($,{className:"me-1"}),"Ver todas"]})]}),e.jsx(i.Body,{children:e.jsx("div",{className:"activity-list",children:H.map(s=>{const x=s.icon;return e.jsxs("div",{className:"activity-item d-flex align-items-start mb-3",children:[e.jsx("div",{className:`activity-icon bg-${s.color} bg-opacity-10 rounded-circle p-2 me-3`,children:e.jsx(x,{size:20,className:`text-${s.color}`})}),e.jsxs("div",{className:"flex-grow-1",children:[e.jsx("h6",{className:"mb-1",children:s.title}),e.jsx("p",{className:"text-muted mb-1 small",children:s.description}),e.jsx("small",{className:"text-muted",children:s.time})]})]},s.id)})})})]})}),e.jsx(l,{lg:4,className:"mb-4",children:e.jsxs(i,{className:"h-100",children:[e.jsx(i.Header,{children:e.jsx("h5",{className:"mb-0",children:"Acciones Rápidas"})}),e.jsx(i.Body,{children:e.jsx("div",{className:"quick-actions",children:R.map((s,x)=>{const U=s.icon;return e.jsxs(F,{variant:`outline-${s.color}`,className:"w-100 mb-3 d-flex align-items-center justify-content-start",href:s.href,children:[e.jsx("div",{className:`me-3 bg-${s.color} bg-opacity-10 rounded-circle p-2`,children:e.jsx(U,{size:20,className:`text-${s.color}`})}),e.jsxs("div",{className:"text-start",children:[e.jsx("div",{className:"fw-medium",children:s.title}),e.jsx("small",{className:"text-muted",children:s.description})]})]},x)})})})]})})]}),e.jsxs(u,{children:[e.jsx(l,{lg:6,className:"mb-4",children:e.jsxs(i,{children:[e.jsx(i.Header,{children:e.jsx("h5",{className:"mb-0",children:"Resumen de Proyectos"})}),e.jsxs(i.Body,{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[e.jsx("span",{children:"Proyectos Completados"}),e.jsx("span",{className:"fw-bold text-success",children:t.completedProjects})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[e.jsx("span",{children:"Proyectos Activos"}),e.jsx("span",{className:"fw-bold text-primary",children:t.activeProjects})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("span",{children:"Total Proyectos"}),e.jsx("span",{className:"fw-bold",children:t.totalProjects})]})]})]})}),e.jsx(l,{lg:6,className:"mb-4",children:e.jsxs(i,{children:[e.jsx(i.Header,{children:e.jsx("h5",{className:"mb-0",children:"Estado del Sistema"})}),e.jsxs(i.Body,{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[e.jsx("span",{children:"Usuarios Online"}),e.jsxs("span",{className:"fw-bold text-success",children:[e.jsx(r,{className:"me-1"}),Math.floor(t.totalUsers*.3)]})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[e.jsx("span",{children:"Cotizaciones Este Mes"}),e.jsxs("span",{className:"fw-bold text-primary",children:[e.jsx(r,{className:"me-1"}),Math.floor(t.totalQuotes*.4)]})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("span",{children:"Tickets Resueltos"}),e.jsxs("span",{className:"fw-bold text-success",children:[e.jsx(r,{className:"me-1"}),Math.floor(t.totalTickets*.7)]})]})]})]})})]})]})};export{L as default};
//# sourceMappingURL=Dashboard-D9XY3Xyh.js.map
