{"version":3,"file":"MisCotizaciones-C9ME_ajY.js","sources":["../../src/services/quoteApproval.js","../../src/pages/MisCotizaciones.jsx"],"sourcesContent":["import apiFetch from './api';\r\n\r\n// Aprobar cotización (vendedor autónomo)\r\nexport const approveQuote = async (quoteId) => {\r\n  try {\r\n    const response = await apiFetch(`/api/quote-approval/${quoteId}/approve`, {\r\n      method: 'POST',\r\n    });\r\n    return response;\r\n  } catch (error) {\r\n    console.error('Error approving quote:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Revertir cotización a borrador (vendedor autónomo)\r\nexport const revertQuoteToDraft = async (quoteId) => {\r\n  try {\r\n    const response = await apiFetch(`/api/quote-approval/${quoteId}/revert`, {\r\n      method: 'POST',\r\n    });\r\n    return response;\r\n  } catch (error) {\r\n    console.error('Error reverting quote:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Marcar como facturada (solo facturación)\r\nexport const markQuoteAsInvoiced = async (quoteId) => {\r\n  try {\r\n    const response = await apiFetch(`/api/quote-approval/${quoteId}/invoice`, {\r\n      method: 'POST',\r\n    });\r\n    return response;\r\n  } catch (error) {\r\n    console.error('Error marking quote as invoiced:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Obtener mis cotizaciones (con filtros)\r\nexport const getMyQuotes = async (filters = {}) => {\r\n  try {\r\n    const queryParams = new URLSearchParams();\r\n    \r\n    if (filters.status) queryParams.append('status', filters.status);\r\n    if (filters.page) queryParams.append('page', filters.page);\r\n    if (filters.limit) queryParams.append('limit', filters.limit);\r\n    \r\n    const queryString = queryParams.toString();\r\n    const url = `/api/quote-approval/my-quotes${queryString ? `?${queryString}` : ''}`;\r\n    \r\n    const response = await apiFetch(url);\r\n    return response;\r\n  } catch (error) {\r\n    console.error('Error getting my quotes:', error);\r\n    throw error;\r\n  }\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useQuery, useQueryClient } from 'react-query';\r\nimport { Container, Row, Col, Card, Button, Badge, Form, Spinner, Alert } from 'react-bootstrap';\r\nimport { FiX, FiEye, FiFileText } from 'react-icons/fi';\r\nimport { getMyQuotes } from '../services/quoteApproval';\r\nimport { useAuth } from '../contexts/AuthContext';\r\n\r\nconst MisCotizaciones = () => {\r\n  const { user } = useAuth();\r\n  const queryClient = useQueryClient();\r\n  \r\n  // Estados\r\n  const [filters, setFilters] = useState({\r\n    status: '',\r\n    page: 1,\r\n    limit: 20\r\n  });\r\n  const [selectedQuote, setSelectedQuote] = useState(null);\r\n  const [showDetails, setShowDetails] = useState(false);\r\n\r\n  // Queries\r\n  const { data: quotesData, isLoading, error, refetch } = useQuery(\r\n    ['myQuotes', filters],\r\n    () => getMyQuotes(filters),\r\n    {\r\n      enabled: !!user,\r\n      refetchOnWindowFocus: false\r\n    }\r\n  );\r\n\r\n  // Handlers\r\n\r\n  const handleFilterChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFilters(prev => ({\r\n      ...prev,\r\n      [name]: value,\r\n      page: 1 // Reset page when filtering\r\n    }));\r\n  };\r\n\r\n  const handlePageChange = (newPage) => {\r\n    setFilters(prev => ({\r\n      ...prev,\r\n      page: newPage\r\n    }));\r\n  };\r\n\r\n  const getStatusBadge = (status) => {\r\n    const statusConfig = {\r\n      'borrador': { variant: 'warning', text: 'Borrador' },\r\n      'aprobada': { variant: 'success', text: 'Aprobada' },\r\n      'facturada': { variant: 'info', text: 'Facturada' }\r\n    };\r\n    \r\n    const config = statusConfig[status] || { variant: 'secondary', text: status };\r\n    return <Badge bg={config.variant}>{config.text}</Badge>;\r\n  };\r\n\r\n  const getStatusActions = (quote) => {\r\n    const actions = [];\r\n    \r\n    // Botón \"Ver más\" para ver detalles completos\r\n    actions.push(\r\n      <Button\r\n        key=\"view-more\"\r\n        variant=\"primary\"\r\n        size=\"sm\"\r\n        onClick={() => {\r\n          setSelectedQuote(quote);\r\n          setShowDetails(true);\r\n        }}\r\n      >\r\n        <FiEye className=\"me-1\" />\r\n        Ver más\r\n      </Button>\r\n    );\r\n    \r\n    \r\n    return actions;\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <Container className=\"py-4\">\r\n        <div className=\"text-center\">\r\n          <Spinner animation=\"border\" />\r\n          <p className=\"mt-2\">Cargando mis cotizaciones...</p>\r\n        </div>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <Container className=\"py-4\">\r\n        <Alert variant=\"danger\">\r\n          Error cargando cotizaciones: {error.message}\r\n        </Alert>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  const quotes = quotesData?.data || [];\r\n  const pagination = quotesData?.pagination || {};\r\n\r\n  return (\r\n    <Container className=\"py-4\">\r\n      <Row className=\"mb-4\">\r\n        <Col>\r\n          <h2>Mis Cotizaciones</h2>\r\n          <p className=\"text-muted\">Gestiona tus cotizaciones de forma autónoma</p>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Filtros */}\r\n      <Row className=\"mb-4\">\r\n        <Col md={4}>\r\n          <Form.Select\r\n            name=\"status\"\r\n            value={filters.status}\r\n            onChange={handleFilterChange}\r\n          >\r\n            <option value=\"\">Todos los estados</option>\r\n            <option value=\"borrador\">Borrador</option>\r\n            <option value=\"aprobada\">Aprobada</option>\r\n            <option value=\"facturada\">Facturada</option>\r\n          </Form.Select>\r\n        </Col>\r\n        <Col md={4}>\r\n          <Button variant=\"outline-secondary\" onClick={() => refetch()}>\r\n            🔄 Actualizar\r\n          </Button>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Lista de cotizaciones */}\r\n      <Row>\r\n        {quotes.length === 0 ? (\r\n          <Col>\r\n            <Card>\r\n              <Card.Body className=\"text-center py-5\">\r\n                <FiFileText size={48} className=\"text-muted mb-3\" />\r\n                <h5>No hay cotizaciones</h5>\r\n                <p className=\"text-muted\">\r\n                  {filters.status \r\n                    ? `No se encontraron cotizaciones en estado \"${filters.status}\"`\r\n                    : 'No tienes cotizaciones registradas'\r\n                  }\r\n                </p>\r\n              </Card.Body>\r\n            </Card>\r\n          </Col>\r\n        ) : (\r\n          quotes.map((quote) => (\r\n            <Col key={quote.id} md={6} lg={4} className=\"mb-3\">\r\n              <Card>\r\n                <Card.Header className=\"d-flex justify-content-between align-items-center\">\r\n                  <strong>{quote.quote_number || `COT-${quote.id}`}</strong>\r\n                  {getStatusBadge(quote.status)}\r\n                </Card.Header>\r\n                <Card.Body>\r\n                  <div className=\"mb-2\">\r\n                    <strong>Cliente:</strong> {quote.company_name || 'N/A'}\r\n                  </div>\r\n                  <div className=\"mb-2\">\r\n                    <strong>Proyecto:</strong> {quote.project_name || 'N/A'}\r\n                  </div>\r\n                  {/* Información distintiva */}\r\n                  {quote.distinctive_info?.variant && (\r\n                    <div className=\"mb-2\">\r\n                      <strong>Variante:</strong> \r\n                      <Badge bg=\"primary\" className=\"ms-2\">{quote.distinctive_info.variant}</Badge>\r\n                    </div>\r\n                  )}\r\n                  {quote.distinctive_info?.delivery_days && (\r\n                    <div className=\"mb-2\">\r\n                      <strong>Días hábiles:</strong> \r\n                      <Badge bg=\"success\" className=\"ms-2\">{quote.distinctive_info.delivery_days}</Badge>\r\n                    </div>\r\n                  )}\r\n                  <div className=\"mb-2\">\r\n                    <strong>Total:</strong> S/ {parseFloat(quote.total || 0).toFixed(2)}\r\n                  </div>\r\n                  <div className=\"mb-2\">\r\n                    <strong>Autor:</strong> {quote.created_by_name || 'N/A'} \r\n                    {quote.created_by_role && (\r\n                      <Badge bg=\"info\" className=\"ms-2\">{quote.created_by_role}</Badge>\r\n                    )}\r\n                  </div>\r\n                  {quote.meta?.file_name && (\r\n                    <div className=\"mb-2\">\r\n                      <strong>Archivo:</strong> {quote.meta.file_name}\r\n                    </div>\r\n                  )}\r\n                  <div className=\"mb-3\">\r\n                    <strong>Fecha:</strong> {new Date(quote.created_at).toLocaleDateString()}\r\n                  </div>\r\n                  \r\n                  <div className=\"d-flex gap-2 flex-wrap\">\r\n                    {getStatusActions(quote)}\r\n                  </div>\r\n                </Card.Body>\r\n              </Card>\r\n            </Col>\r\n          ))\r\n        )}\r\n      </Row>\r\n\r\n      {/* Paginación */}\r\n      {pagination.pages > 1 && (\r\n        <Row className=\"mt-4\">\r\n          <Col>\r\n            <div className=\"d-flex justify-content-center\">\r\n              <div className=\"btn-group\">\r\n                <Button\r\n                  variant=\"outline-secondary\"\r\n                  disabled={pagination.page === 1}\r\n                  onClick={() => handlePageChange(pagination.page - 1)}\r\n                >\r\n                  Anterior\r\n                </Button>\r\n                <Button variant=\"outline-secondary\" disabled>\r\n                  Página {pagination.page} de {pagination.pages}\r\n                </Button>\r\n                <Button\r\n                  variant=\"outline-secondary\"\r\n                  disabled={pagination.page === pagination.pages}\r\n                  onClick={() => handlePageChange(pagination.page + 1)}\r\n                >\r\n                  Siguiente\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n      )}\r\n\r\n      {/* Modal de detalles */}\r\n      {showDetails && selectedQuote && (\r\n        <div className=\"modal show d-block\" style={{ backgroundColor: 'rgba(0,0,0,0.5)' }}>\r\n          <div className=\"modal-dialog modal-lg\">\r\n            <div className=\"modal-content\">\r\n              <div className=\"modal-header\">\r\n                <h5 className=\"modal-title\">\r\n                  Detalles de Cotización\r\n                </h5>\r\n                <Button\r\n                  variant=\"outline-secondary\"\r\n                  onClick={() => setShowDetails(false)}\r\n                >\r\n                  <FiX />\r\n                </Button>\r\n              </div>\r\n              <div className=\"modal-body\">\r\n                <Row>\r\n                  <Col md={6}>\r\n                    <strong>Número:</strong> {selectedQuote.quote_number || `COT-${selectedQuote.id}`}\r\n                  </Col>\r\n                  <Col md={6}>\r\n                    <strong>Estado:</strong> {getStatusBadge(selectedQuote.status)}\r\n                  </Col>\r\n                </Row>\r\n                <hr />\r\n                <Row>\r\n                  <Col md={6}>\r\n                    <strong>Cliente:</strong> {selectedQuote.company_name || 'N/A'}\r\n                  </Col>\r\n                  <Col md={6}>\r\n                    <strong>RUC:</strong> {selectedQuote.company_ruc || 'N/A'}\r\n                  </Col>\r\n                </Row>\r\n                <Row>\r\n                  <Col md={6}>\r\n                    <strong>Proyecto:</strong> {selectedQuote.project_name || 'N/A'}\r\n                  </Col>\r\n                  <Col md={6}>\r\n                    <strong>Total:</strong> S/ {parseFloat(selectedQuote.total || 0).toFixed(2)}\r\n                  </Col>\r\n                </Row>\r\n                {/* Información distintiva en modal */}\r\n                {selectedQuote.distinctive_info?.variant && (\r\n                  <Row>\r\n                    <Col md={6}>\r\n                      <strong>Variante:</strong> \r\n                      <Badge bg=\"primary\" className=\"ms-2\">{selectedQuote.distinctive_info.variant}</Badge>\r\n                    </Col>\r\n                    <Col md={6}>\r\n                      <strong>Días hábiles:</strong> \r\n                      <Badge bg=\"success\" className=\"ms-2\">{selectedQuote.distinctive_info.delivery_days}</Badge>\r\n                    </Col>\r\n                  </Row>\r\n                )}\r\n                <Row>\r\n                  <Col md={6}>\r\n                    <strong>Autor:</strong> {selectedQuote.created_by_name || 'N/A'}\r\n                    {selectedQuote.created_by_role && (\r\n                      <Badge bg=\"info\" className=\"ms-2\">{selectedQuote.created_by_role}</Badge>\r\n                    )}\r\n                  </Col>\r\n                  <Col md={6}>\r\n                    <strong>Contacto:</strong> {selectedQuote.client_contact || 'N/A'}\r\n                  </Col>\r\n                </Row>\r\n                <Row>\r\n                  <Col md={6}>\r\n                    <strong>Email:</strong> {selectedQuote.client_email || 'N/A'}\r\n                  </Col>\r\n                  <Col md={6}>\r\n                    <strong>Teléfono:</strong> {selectedQuote.client_phone || 'N/A'}\r\n                  </Col>\r\n                </Row>\r\n                <hr />\r\n                <Row>\r\n                  <Col md={6}>\r\n                    <strong>Fecha de creación:</strong> {new Date(selectedQuote.created_at).toLocaleString()}\r\n                  </Col>\r\n                  <Col md={6}>\r\n                    <strong>Última actualización:</strong> {new Date(selectedQuote.updated_at).toLocaleString()}\r\n                  </Col>\r\n                </Row>\r\n              </div>\r\n              <div className=\"modal-footer\">\r\n                <Button\r\n                  variant=\"secondary\"\r\n                  onClick={() => setShowDetails(false)}\r\n                >\r\n                  Cerrar\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default MisCotizaciones;\r\n"],"names":["getMyQuotes","filters","queryParams","queryString","url","apiFetch","error","MisCotizaciones","user","useAuth","useQueryClient","setFilters","useState","selectedQuote","setSelectedQuote","showDetails","setShowDetails","quotesData","isLoading","refetch","useQuery","handleFilterChange","name","value","prev","handlePageChange","newPage","getStatusBadge","status","config","Badge","getStatusActions","quote","actions","jsxs","Button","jsx","FiEye","Container","Spinner","Alert","quotes","pagination","Row","Col","Form","Card","FiFileText","_a","_b","_c","FiX"],"mappings":"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"}