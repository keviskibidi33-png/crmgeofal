{"version":3,"file":"ItemsCotizacion-dyFJxnqs.js","sources":["../../src/pages/ItemsCotizacion.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useQuery } from 'react-query';\r\nimport ModuloBase from '../components/ModuloBase';\r\nimport DataTable from '../components/DataTable';\r\nimport Toolbar from '../components/Toolbar';\r\nimport { listQuoteItems } from '../services/quotes';\r\n\r\nexport default function ItemsCotizacion() {\r\n  const [quoteId, setQuoteId] = useState('');\r\n\r\n  const { data, isLoading, isFetching } = useQuery(\r\n    ['quoteItems', quoteId],\r\n    () => listQuoteItems(quoteId),\r\n    {\r\n      enabled: !!quoteId, // Only run query if quoteId is set\r\n    }\r\n  );\r\n\r\n  const rows = Array.isArray(data) ? data : [];\r\n\r\n  const columns = React.useMemo(() => [\r\n    { header: 'ID', key: 'id', width: 80 },\r\n    { header: 'Código', key: 'code' },\r\n    { header: 'Descripción', key: 'description' },\r\n    { header: 'Norma', key: 'norm' },\r\n    { header: 'Precio Unitario', key: 'unit_price', render: (r) => `S/ ${Number(r.unit_price || 0).toFixed(2)}` },\r\n    { header: 'Cantidad', key: 'quantity' },\r\n    { header: 'Precio Parcial', key: 'partial_price', render: (r) => `S/ ${Number(r.partial_price || 0).toFixed(2)}` },\r\n  ], []);\r\n\r\n  return (\r\n    <ModuloBase titulo=\"Items de Cotización\" descripcion=\"Consulta los ítems de una cotización específica.\">\r\n      <Toolbar\r\n        left={\r\n          <div className=\"d-flex align-items-end gap-2\">\r\n            <div style={{ minWidth: '200px' }}>\r\n              <label htmlFor=\"quote-id-input\" className=\"form-label\">ID de Cotización</label>\r\n              <input\r\n                id=\"quote-id-input\"\r\n                type=\"number\"\r\n                className=\"form-control\"\r\n                placeholder=\"Ingrese ID de cotización\"\r\n                value={quoteId}\r\n                onChange={(e) => setQuoteId(e.target.value)}\r\n              />\r\n            </div>\r\n          </div>\r\n        }\r\n      />\r\n\r\n      {quoteId ? (\r\n        <DataTable columns={columns} rows={rows} loading={isLoading || isFetching} />\r\n      ) : (\r\n        <div className=\"alert alert-info mt-3\">\r\n          Por favor, ingrese un ID de cotización para ver sus ítems.\r\n        </div>\r\n      )}\r\n    </ModuloBase>\r\n  );\r\n}"],"names":["ItemsCotizacion","quoteId","setQuoteId","useState","data","isLoading","isFetching","useQuery","listQuoteItems","rows","columns","React","r","jsxs","ModuloBase","jsx","Toolbar","e","DataTable"],"mappings":"yOAOA,SAAwBA,GAAkB,CACxC,KAAM,CAACC,EAASC,CAAU,EAAIC,EAAAA,SAAS,EAAE,EAEnC,CAAE,KAAAC,EAAM,UAAAC,EAAW,WAAAC,CAAA,EAAeC,EACtC,CAAC,aAAcN,CAAO,EACtB,IAAMO,EAAeP,CAAO,EAC5B,CACE,QAAS,CAAC,CAACA,CAAA,CACb,EAGIQ,EAAO,MAAM,QAAQL,CAAI,EAAIA,EAAO,CAAA,EAEpCM,EAAUC,EAAM,QAAQ,IAAM,CAClC,CAAE,OAAQ,KAAM,IAAK,KAAM,MAAO,EAAA,EAClC,CAAE,OAAQ,SAAU,IAAK,MAAA,EACzB,CAAE,OAAQ,cAAe,IAAK,aAAA,EAC9B,CAAE,OAAQ,QAAS,IAAK,MAAA,EACxB,CAAE,OAAQ,kBAAmB,IAAK,aAAc,OAASC,GAAM,MAAM,OAAOA,EAAE,YAAc,CAAC,EAAE,QAAQ,CAAC,CAAC,EAAA,EACzG,CAAE,OAAQ,WAAY,IAAK,UAAA,EAC3B,CAAE,OAAQ,iBAAkB,IAAK,gBAAiB,OAASA,GAAM,MAAM,OAAOA,EAAE,eAAiB,CAAC,EAAE,QAAQ,CAAC,CAAC,EAAA,CAAG,EAChH,EAAE,EAEL,OACEC,EAAAA,KAACC,EAAA,CAAW,OAAO,sBAAsB,YAAY,mDACnD,SAAA,CAAAC,EAAAA,IAACC,EAAA,CACC,KACED,EAAAA,IAAC,MAAA,CAAI,UAAU,+BACb,SAAAF,EAAAA,KAAC,MAAA,CAAI,MAAO,CAAE,SAAU,OAAA,EACtB,SAAA,CAAAE,MAAC,QAAA,CAAM,QAAQ,iBAAiB,UAAU,aAAa,SAAA,mBAAgB,EACvEA,EAAAA,IAAC,QAAA,CACC,GAAG,iBACH,KAAK,SACL,UAAU,eACV,YAAY,2BACZ,MAAOd,EACP,SAAWgB,GAAMf,EAAWe,EAAE,OAAO,KAAK,CAAA,CAAA,CAC5C,CAAA,CACF,CAAA,CACF,CAAA,CAAA,EAIHhB,EACCc,EAAAA,IAACG,EAAA,CAAU,QAAAR,EAAkB,KAAAD,EAAY,QAASJ,GAAaC,CAAA,CAAY,EAE3ES,EAAAA,IAAC,MAAA,CAAI,UAAU,wBAAwB,SAAA,4DAAA,CAEvC,CAAA,EAEJ,CAEJ"}