{"version":3,"file":"companies-CMTUE1PH.js","sources":["../../src/services/companies.js"],"sourcesContent":["import { apiFetch } from './api';\r\n\r\nexport const listCompanies = (params = {}) => {\r\n  const sp = new URLSearchParams();\r\n  if (params.page) sp.set('page', params.page);\r\n  if (params.limit) sp.set('limit', params.limit);\r\n  if (params.search) sp.set('search', params.search);\r\n  if (params.type) sp.set('type', params.type);\r\n  if (params.city) sp.set('city', params.city);\r\n  if (params.sector) sp.set('sector', params.sector);\r\n  const qs = sp.toString();\r\n  const path = qs ? `/api/companies?${qs}` : '/api/companies';\r\n  \r\n  console.log('🔍 listCompanies - Llamando a:', path);\r\n  console.log('🔍 listCompanies - Token:', localStorage.getItem('token') ? 'Presente' : 'Ausente');\r\n  \r\n  return apiFetch(path).then(data => {\r\n    console.log('✅ listCompanies - Respuesta recibida:', data);\r\n    return data;\r\n  }).catch(error => {\r\n    console.error('❌ listCompanies - Error:', error);\r\n    throw error;\r\n  });\r\n};\r\n\r\nexport const getCompany = (id) => apiFetch(`/api/companies/${id}`);\r\n\r\nexport const getCompanyStats = () => {\r\n  console.log('📊 getCompanyStats - Llamando a: /api/companies/stats');\r\n  console.log('📊 getCompanyStats - Token:', localStorage.getItem('token') ? 'Presente' : 'Ausente');\r\n  \r\n  return apiFetch('/api/companies/stats').then(data => {\r\n    console.log('✅ getCompanyStats - Respuesta recibida:', data);\r\n    return data;\r\n  }).catch(error => {\r\n    console.error('❌ getCompanyStats - Error:', error);\r\n    throw error;\r\n  });\r\n};\r\n\r\nexport const getCompanyFilterOptions = () => {\r\n  console.log('🔍 getCompanyFilterOptions - Llamando a: /api/companies/filter-options');\r\n  console.log('🔍 getCompanyFilterOptions - Token:', localStorage.getItem('token') ? 'Presente' : 'Ausente');\r\n  \r\n  return apiFetch('/api/companies/filter-options').then(data => {\r\n    console.log('✅ getCompanyFilterOptions - Respuesta recibida:', data);\r\n    return data;\r\n  }).catch(error => {\r\n    console.error('❌ getCompanyFilterOptions - Error:', error);\r\n    throw error;\r\n  });\r\n};\r\n\r\nexport const createCompany = (payload) =>\r\n  apiFetch('/api/companies', {\r\n    method: 'POST',\r\n    body: JSON.stringify(payload),\r\n  });\r\n\r\nexport const updateCompany = (id, payload) =>\r\n  apiFetch(`/api/companies/${id}`, {\r\n    method: 'PATCH',\r\n    body: JSON.stringify(payload),\r\n  });\r\n\r\nexport const deleteCompany = (id) =>\r\n  apiFetch(`/api/companies/${id}`, {\r\n    method: 'DELETE',\r\n  });\r\n\r\nexport default { listCompanies, getCompany, createCompany, updateCompany, deleteCompany };\r\n"],"names":["listCompanies","params","sp","qs","path","apiFetch","data","error","getCompanyStats","getCompanyFilterOptions","createCompany","payload","updateCompany","id","deleteCompany"],"mappings":"wCAEY,MAACA,EAAgB,CAACC,EAAS,KAAO,CAC5C,MAAMC,EAAK,IAAI,gBACXD,EAAO,MAAMC,EAAG,IAAI,OAAQD,EAAO,IAAI,EACvCA,EAAO,OAAOC,EAAG,IAAI,QAASD,EAAO,KAAK,EAC1CA,EAAO,QAAQC,EAAG,IAAI,SAAUD,EAAO,MAAM,EAC7CA,EAAO,MAAMC,EAAG,IAAI,OAAQD,EAAO,IAAI,EACvCA,EAAO,MAAMC,EAAG,IAAI,OAAQD,EAAO,IAAI,EACvCA,EAAO,QAAQC,EAAG,IAAI,SAAUD,EAAO,MAAM,EACjD,MAAME,EAAKD,EAAG,WACRE,EAAOD,EAAK,kBAAkBA,CAAE,GAAK,iBAE3C,eAAQ,IAAI,iCAAkCC,CAAI,EAClD,QAAQ,IAAI,4BAA6B,aAAa,QAAQ,OAAO,EAAI,WAAa,SAAS,EAExFC,EAASD,CAAI,EAAE,KAAKE,IACzB,QAAQ,IAAI,wCAAyCA,CAAI,EAClDA,EACR,EAAE,MAAMC,GAAS,CAChB,cAAQ,MAAM,2BAA4BA,CAAK,EACzCA,CACR,CAAC,CACH,EAIaC,EAAkB,KAC7B,QAAQ,IAAI,uDAAuD,EACnE,QAAQ,IAAI,8BAA+B,aAAa,QAAQ,OAAO,EAAI,WAAa,SAAS,EAE1FH,EAAS,sBAAsB,EAAE,KAAKC,IAC3C,QAAQ,IAAI,0CAA2CA,CAAI,EACpDA,EACR,EAAE,MAAMC,GAAS,CAChB,cAAQ,MAAM,6BAA8BA,CAAK,EAC3CA,CACR,CAAC,GAGUE,EAA0B,KACrC,QAAQ,IAAI,wEAAwE,EACpF,QAAQ,IAAI,sCAAuC,aAAa,QAAQ,OAAO,EAAI,WAAa,SAAS,EAElGJ,EAAS,+BAA+B,EAAE,KAAKC,IACpD,QAAQ,IAAI,kDAAmDA,CAAI,EAC5DA,EACR,EAAE,MAAMC,GAAS,CAChB,cAAQ,MAAM,qCAAsCA,CAAK,EACnDA,CACR,CAAC,GAGUG,EAAiBC,GAC5BN,EAAS,iBAAkB,CACzB,OAAQ,OACR,KAAM,KAAK,UAAUM,CAAO,CAChC,CAAG,EAEUC,EAAgB,CAACC,EAAIF,IAChCN,EAAS,kBAAkBQ,CAAE,GAAI,CAC/B,OAAQ,QACR,KAAM,KAAK,UAAUF,CAAO,CAChC,CAAG,EAEUG,EAAiBD,GAC5BR,EAAS,kBAAkBQ,CAAE,GAAI,CAC/B,OAAQ,QACZ,CAAG"}