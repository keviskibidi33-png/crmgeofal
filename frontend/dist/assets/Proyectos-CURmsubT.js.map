{"version":3,"file":"Proyectos-CURmsubT.js","sources":["../../node_modules/@restart/hooks/esm/useMounted.js","../../node_modules/@restart/hooks/esm/useTimeout.js","../../node_modules/react-bootstrap/esm/ToastFade.js","../../node_modules/react-bootstrap/esm/ToastContext.js","../../node_modules/react-bootstrap/esm/ToastHeader.js","../../node_modules/react-bootstrap/esm/ToastBody.js","../../node_modules/react-bootstrap/esm/Toast.js","../../node_modules/react-bootstrap/esm/ToastContainer.js","../../src/pages/Proyectos.jsx"],"sourcesContent":["import { useRef, useEffect } from 'react';\n\n/**\n * Track whether a component is current mounted. Generally less preferable than\n * properlly canceling effects so they don't run after a component is unmounted,\n * but helpful in cases where that isn't feasible, such as a `Promise` resolution.\n *\n * @returns a function that returns the current isMounted state of the component\n *\n * ```ts\n * const [data, setData] = useState(null)\n * const isMounted = useMounted()\n *\n * useEffect(() => {\n *   fetchdata().then((newData) => {\n *      if (isMounted()) {\n *        setData(newData);\n *      }\n *   })\n * })\n * ```\n */\nexport default function useMounted() {\n  const mounted = useRef(true);\n  const isMounted = useRef(() => mounted.current);\n  useEffect(() => {\n    mounted.current = true;\n    return () => {\n      mounted.current = false;\n    };\n  }, []);\n  return isMounted.current;\n}","import { useMemo, useRef } from 'react';\nimport useMounted from './useMounted';\nimport useWillUnmount from './useWillUnmount';\n\n/*\n * Browsers including Internet Explorer, Chrome, Safari, and Firefox store the\n * delay as a 32-bit signed integer internally. This causes an integer overflow\n * when using delays larger than 2,147,483,647 ms (about 24.8 days),\n * resulting in the timeout being executed immediately.\n *\n * via: https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/setTimeout\n */\nconst MAX_DELAY_MS = 2 ** 31 - 1;\nfunction setChainedTimeout(handleRef, fn, timeoutAtMs) {\n  const delayMs = timeoutAtMs - Date.now();\n  handleRef.current = delayMs <= MAX_DELAY_MS ? setTimeout(fn, delayMs) : setTimeout(() => setChainedTimeout(handleRef, fn, timeoutAtMs), MAX_DELAY_MS);\n}\n\n/**\n * Returns a controller object for setting a timeout that is properly cleaned up\n * once the component unmounts. New timeouts cancel and replace existing ones.\n *\n *\n *\n * ```tsx\n * const { set, clear } = useTimeout();\n * const [hello, showHello] = useState(false);\n * //Display hello after 5 seconds\n * set(() => showHello(true), 5000);\n * return (\n *   <div className=\"App\">\n *     {hello ? <h3>Hello</h3> : null}\n *   </div>\n * );\n * ```\n */\nexport default function useTimeout() {\n  const isMounted = useMounted();\n\n  // types are confused between node and web here IDK\n  const handleRef = useRef();\n  useWillUnmount(() => clearTimeout(handleRef.current));\n  return useMemo(() => {\n    const clear = () => clearTimeout(handleRef.current);\n    function set(fn, delayMs = 0) {\n      if (!isMounted()) return;\n      clear();\n      if (delayMs <= MAX_DELAY_MS) {\n        // For simplicity, if the timeout is short, just set a normal timeout.\n        handleRef.current = setTimeout(fn, delayMs);\n      } else {\n        setChainedTimeout(handleRef, fn, Date.now() + delayMs);\n      }\n    }\n    return {\n      set,\n      clear,\n      handleRef\n    };\n  }, []);\n}","import * as React from 'react';\nimport { ENTERING, EXITING } from 'react-transition-group/Transition';\nimport Fade from './Fade';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst fadeStyles = {\n  [ENTERING]: 'showing',\n  [EXITING]: 'showing show'\n};\nconst ToastFade = /*#__PURE__*/React.forwardRef((props, ref) => /*#__PURE__*/_jsx(Fade, {\n  ...props,\n  ref: ref,\n  transitionClasses: fadeStyles\n}));\nToastFade.displayName = 'ToastFade';\nexport default ToastFade;","\"use client\";\n\nimport * as React from 'react';\nconst ToastContext = /*#__PURE__*/React.createContext({\n  onClose() {}\n});\nexport default ToastContext;","\"use client\";\n\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { useContext } from 'react';\nimport useEventCallback from '@restart/hooks/useEventCallback';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport CloseButton from './CloseButton';\nimport ToastContext from './ToastContext';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst ToastHeader = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  closeLabel = 'Close',\n  closeVariant,\n  closeButton = true,\n  className,\n  children,\n  ...props\n}, ref) => {\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'toast-header');\n  const context = useContext(ToastContext);\n  const handleClick = useEventCallback(e => {\n    context == null || context.onClose == null || context.onClose(e);\n  });\n  return /*#__PURE__*/_jsxs(\"div\", {\n    ref: ref,\n    ...props,\n    className: classNames(bsPrefix, className),\n    children: [children, closeButton && /*#__PURE__*/_jsx(CloseButton, {\n      \"aria-label\": closeLabel,\n      variant: closeVariant,\n      onClick: handleClick,\n      \"data-dismiss\": \"toast\"\n    })]\n  });\n});\nToastHeader.displayName = 'ToastHeader';\nexport default ToastHeader;","\"use client\";\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst ToastBody = /*#__PURE__*/React.forwardRef(({\n  className,\n  bsPrefix,\n  as: Component = 'div',\n  ...props\n}, ref) => {\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'toast-body');\n  return /*#__PURE__*/_jsx(Component, {\n    ref: ref,\n    className: classNames(className, bsPrefix),\n    ...props\n  });\n});\nToastBody.displayName = 'ToastBody';\nexport default ToastBody;","\"use client\";\n\nimport * as React from 'react';\nimport { useEffect, useMemo, useRef, useCallback } from 'react';\nimport classNames from 'classnames';\nimport useTimeout from '@restart/hooks/useTimeout';\nimport ToastFade from './ToastFade';\nimport ToastHeader from './ToastHeader';\nimport ToastBody from './ToastBody';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport ToastContext from './ToastContext';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst Toast = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  className,\n  transition: Transition = ToastFade,\n  show = true,\n  animation = true,\n  delay = 5000,\n  autohide = false,\n  onClose,\n  onEntered,\n  onExit,\n  onExiting,\n  onEnter,\n  onEntering,\n  onExited,\n  bg,\n  ...props\n}, ref) => {\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'toast');\n\n  // We use refs for these, because we don't want to restart the autohide\n  // timer in case these values change.\n  const delayRef = useRef(delay);\n  const onCloseRef = useRef(onClose);\n  useEffect(() => {\n    delayRef.current = delay;\n    onCloseRef.current = onClose;\n  }, [delay, onClose]);\n  const autohideTimeout = useTimeout();\n  const autohideToast = !!(autohide && show);\n  const autohideFunc = useCallback(() => {\n    if (autohideToast) {\n      onCloseRef.current == null || onCloseRef.current();\n    }\n  }, [autohideToast]);\n  useEffect(() => {\n    // Only reset timer if show or autohide changes.\n    autohideTimeout.set(autohideFunc, delayRef.current);\n  }, [autohideTimeout, autohideFunc]);\n  const toastContext = useMemo(() => ({\n    onClose\n  }), [onClose]);\n  const hasAnimation = !!(Transition && animation);\n  const toast = /*#__PURE__*/_jsx(\"div\", {\n    ...props,\n    ref: ref,\n    className: classNames(bsPrefix, className, bg && `bg-${bg}`, !hasAnimation && (show ? 'show' : 'hide')),\n    role: \"alert\",\n    \"aria-live\": \"assertive\",\n    \"aria-atomic\": \"true\"\n  });\n  return /*#__PURE__*/_jsx(ToastContext.Provider, {\n    value: toastContext,\n    children: hasAnimation && Transition ? /*#__PURE__*/_jsx(Transition, {\n      in: show,\n      onEnter: onEnter,\n      onEntering: onEntering,\n      onEntered: onEntered,\n      onExit: onExit,\n      onExiting: onExiting,\n      onExited: onExited,\n      unmountOnExit: true,\n      children: toast\n    }) : toast\n  });\n});\nToast.displayName = 'Toast';\nexport default Object.assign(Toast, {\n  Body: ToastBody,\n  Header: ToastHeader\n});","\"use client\";\n\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst positionClasses = {\n  'top-start': 'top-0 start-0',\n  'top-center': 'top-0 start-50 translate-middle-x',\n  'top-end': 'top-0 end-0',\n  'middle-start': 'top-50 start-0 translate-middle-y',\n  'middle-center': 'top-50 start-50 translate-middle',\n  'middle-end': 'top-50 end-0 translate-middle-y',\n  'bottom-start': 'bottom-0 start-0',\n  'bottom-center': 'bottom-0 start-50 translate-middle-x',\n  'bottom-end': 'bottom-0 end-0'\n};\nconst ToastContainer = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  position,\n  containerPosition,\n  className,\n  // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\n  as: Component = 'div',\n  ...props\n}, ref) => {\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'toast-container');\n  return /*#__PURE__*/_jsx(Component, {\n    ref: ref,\n    ...props,\n    className: classNames(bsPrefix, position && positionClasses[position], containerPosition && `position-${containerPosition}`, className)\n  });\n});\nToastContainer.displayName = 'ToastContainer';\nexport default ToastContainer;","import React, { useState, useMemo } from 'react';\r\nimport { useQuery, useMutation, useQueryClient } from 'react-query';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\nimport { Button, Badge, Row, Col, Card, Container, Tabs, Tab, Toast, ToastContainer } from 'react-bootstrap';\r\nimport { FiPlus, FiEdit, FiTrash2, FiHome, FiMapPin, FiCalendar, FiUser, FiCheckCircle, FiClock, FiX, FiRefreshCw, FiFolder, FiMessageCircle, FiCheck, FiSettings, FiEye, FiUsers } from 'react-icons/fi';\r\nimport PageHeader from '../components/common/PageHeader';\r\nimport DataTable from '../components/common/DataTable';\r\nimport ModalForm from '../components/common/ModalForm';\r\nimport StatsCard from '../components/common/StatsCard';\r\nimport { listProjects, createProject, updateProject, deleteProject, getProjectStats, updateProjectStatus, updateProjectCategories, updateProjectQueries, updateProjectMark } from '../services/projects';\r\n\r\nconst emptyForm = { company_id: '', name: '', location: '', vendedor_id: '', laboratorio_id: '', requiere_laboratorio: false, requiere_ingenieria: false, contact_name: '', contact_phone: '', contact_email: '' };\r\n\r\nexport default function Proyectos() {\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [editingProject, setEditingProject] = useState(null);\r\n  const [deletingProject, setDeletingProject] = useState(null);\r\n  const [showCategoriesModal, setShowCategoriesModal] = useState(false);\r\n  const [showQueriesModal, setShowQueriesModal] = useState(false);\r\n  const [showStatusModal, setShowStatusModal] = useState(false);\r\n  const [showViewModal, setShowViewModal] = useState(false);\r\n  const [selectedProject, setSelectedProject] = useState(null);\r\n  const [activeTab, setActiveTab] = useState('view');\r\n  const [editingData, setEditingData] = useState({});\r\n  const [showToast, setShowToast] = useState(false);\r\n  const [toastMessage, setToastMessage] = useState('');\r\n  const [toastVariant, setToastVariant] = useState('success');\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [selectedStatus, setSelectedStatus] = useState('');\r\n  const [selectedCompany, setSelectedCompany] = useState('');\r\n  const [selectedProjectType, setSelectedProjectType] = useState('');\r\n  const [isSearching, setIsSearching] = useState(false);\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  \r\n  // Obtener cliente pre-seleccionado desde la navegación\r\n  const selectedClient = location.state?.selectedClient;\r\n\r\n  const queryClient = useQueryClient();\r\n\r\n  const { data, isLoading, refetch } = useQuery(\r\n    ['projects', currentPage, searchTerm, selectedStatus, selectedCompany, selectedProjectType],\r\n    () => listProjects({ \r\n      page: currentPage, \r\n      limit: 20, \r\n      search: searchTerm, \r\n      status: selectedStatus, \r\n      company_id: selectedCompany,\r\n      project_type: selectedProjectType\r\n    }),\r\n    { \r\n      keepPreviousData: true,\r\n      refetchOnWindowFocus: false, // No refrescar automáticamente\r\n      refetchOnMount: false, // No refrescar al montar\r\n      staleTime: 30000, // 30 segundos - considerar datos frescos\r\n      cacheTime: 300000, // 5 minutos - cachear datos\r\n      retry: 2, // Reintentar máximo 2 veces\r\n      retryDelay: 1000, // Esperar 1 segundo entre reintentos\r\n    }\r\n  );\r\n\r\n  // Estadísticas separadas\r\n  const { data: statsData, isLoading: statsLoading } = useQuery(\r\n    ['projectStats'],\r\n    getProjectStats,\r\n    {\r\n      refetchOnWindowFocus: false, // No refrescar automáticamente\r\n      refetchOnMount: false, // No refrescar al montar\r\n      staleTime: 60000, // 1 minuto - considerar datos frescos\r\n      cacheTime: 300000, // 5 minutos - cachear datos\r\n      retry: 1, // Reintentar máximo 1 vez\r\n    }\r\n  );\r\n\r\n  const handleMutationSuccess = (message) => {\r\n    queryClient.invalidateQueries('projects');\r\n    queryClient.invalidateQueries('projectStats');\r\n    setShowModal(false);\r\n    setEditingProject(null);\r\n    setDeletingProject(null);\r\n  };\r\n\r\n  const showNotification = (message, variant = 'success') => {\r\n    setToastMessage(message);\r\n    setToastVariant(variant);\r\n    setShowToast(true);\r\n  };\r\n\r\n  // Función para manejar búsqueda\r\n  const handleSearch = (searchValue) => {\r\n    console.log('🔍 handleSearch - Búsqueda:', searchValue);\r\n    setSearchTerm(searchValue);\r\n    setCurrentPage(1); // Resetear a la primera página\r\n    setIsSearching(true);\r\n    setTimeout(() => setIsSearching(false), 1000);\r\n  };\r\n\r\n  // Función para manejar filtros\r\n  const handleFilter = (filters) => {\r\n    console.log('🔍 handleFilter - Filtros:', filters);\r\n    setSelectedStatus(filters.status || '');\r\n    setSelectedCompany(filters.company_id || '');\r\n    setSelectedProjectType(filters.project_type || '');\r\n    setCurrentPage(1); // Resetear a la primera página\r\n  };\r\n\r\n  // Opciones de filtros específicas para proyectos\r\n  const projectFilterOptions = [\r\n    {\r\n      title: 'Por Estado',\r\n      options: [\r\n        { label: 'Pendientes', filter: { status: 'pendiente' } },\r\n        { label: 'Activos', filter: { status: 'activo' } },\r\n        { label: 'Completados', filter: { status: 'completado' } },\r\n        { label: 'Cancelados', filter: { status: 'cancelado' } }\r\n      ]\r\n    },\r\n    {\r\n      title: 'Por Tipo de Proyecto',\r\n      options: [\r\n        { label: 'Análisis de Suelos', filter: { project_type: 'Análisis de Suelos' } },\r\n        { label: 'Estudio Geotécnico', filter: { project_type: 'Estudio Geotécnico' } },\r\n        { label: 'Evaluación Ambiental', filter: { project_type: 'Evaluación Ambiental' } },\r\n        { label: 'Control de Calidad', filter: { project_type: 'Control de Calidad' } },\r\n        { label: 'Análisis de Agua', filter: { project_type: 'Análisis de Agua' } },\r\n        { label: 'Estudio de Impacto', filter: { project_type: 'Estudio de Impacto' } },\r\n        { label: 'Análisis Químico', filter: { project_type: 'Análisis Químico' } },\r\n        { label: 'Pruebas de Laboratorio', filter: { project_type: 'Pruebas de Laboratorio' } },\r\n        { label: 'Inspección Técnica', filter: { project_type: 'Inspección Técnica' } },\r\n        { label: 'Certificación de Materiales', filter: { project_type: 'Certificación de Materiales' } }\r\n      ]\r\n    }\r\n  ];\r\n\r\n  const createMutation = useMutation(createProject, {\r\n    onSuccess: () => handleMutationSuccess('Proyecto creado exitosamente'),\r\n    onError: (error) => console.error('Error creating project:', error)\r\n  });\r\n\r\n  const updateMutation = useMutation(updateProject, {\r\n    onSuccess: () => handleMutationSuccess('Proyecto actualizado exitosamente'),\r\n    onError: (error) => console.error('Error updating project:', error)\r\n  });\r\n\r\n  const deleteMutation = useMutation(deleteProject, {\r\n    onSuccess: () => handleMutationSuccess('Proyecto eliminado exitosamente'),\r\n    onError: (error) => console.error('Error deleting project:', error)\r\n  });\r\n\r\n  const updateStatusMutation = useMutation(\r\n    ({ id, ...data }) => updateProjectStatus(id, data),\r\n    {\r\n      onSuccess: (updatedProject) => {\r\n        setSelectedProject(updatedProject);\r\n        setEditingData(updatedProject);\r\n        handleMutationSuccess('Estado del proyecto actualizado exitosamente');\r\n      },\r\n      onError: (error) => console.error('Error updating project status:', error)\r\n    }\r\n  );\r\n\r\n  const updateCategoriesMutation = useMutation(\r\n    ({ id, ...data }) => updateProjectCategories(id, data),\r\n    {\r\n      onSuccess: (updatedProject) => {\r\n        console.log('✅ updateCategoriesMutation - Success:', updatedProject);\r\n        // Actualizar el proyecto seleccionado con los nuevos datos\r\n        setSelectedProject(updatedProject);\r\n        setEditingData(updatedProject);\r\n        showNotification('✅ Categorías guardadas correctamente!', 'success');\r\n        queryClient.invalidateQueries('projects');\r\n      },\r\n      onError: (error) => {\r\n        console.error('❌ updateCategoriesMutation - Error:', error);\r\n        showNotification('❌ Error al guardar categorías', 'danger');\r\n      }\r\n    }\r\n  );\r\n\r\n  const updateQueriesMutation = useMutation(\r\n    ({ id, ...data }) => updateProjectQueries(id, data),\r\n    {\r\n      onSuccess: (updatedProject) => {\r\n        setSelectedProject(updatedProject);\r\n        setEditingData(updatedProject);\r\n        handleMutationSuccess('Consultas del proyecto actualizadas exitosamente');\r\n      },\r\n      onError: (error) => console.error('Error updating project queries:', error)\r\n    }\r\n  );\r\n\r\n  const updateMarkMutation = useMutation(\r\n    ({ id, ...data }) => updateProjectMark(id, data),\r\n    {\r\n      onSuccess: (updatedProject) => {\r\n        setSelectedProject(updatedProject);\r\n        setEditingData(updatedProject);\r\n        handleMutationSuccess('Proyecto marcado/desmarcado exitosamente');\r\n      },\r\n      onError: (error) => console.error('Error updating project mark:', error)\r\n    }\r\n  );\r\n\r\n  const handleCreate = () => {\r\n    // Si hay un cliente pre-seleccionado, pre-llenar el formulario\r\n    const formData = selectedClient ? {\r\n      ...emptyForm,\r\n      company_id: selectedClient.id,\r\n      name: `${selectedClient.sector || 'Proyecto'} - ${selectedClient.name}`,\r\n      location: selectedClient.city || '',\r\n      contact_name: selectedClient.contact_name || '',\r\n      contact_phone: selectedClient.phone || '',\r\n      contact_email: selectedClient.email || ''\r\n    } : emptyForm;\r\n    \r\n    setEditingProject(formData);\r\n    setShowModal(true);\r\n  };\r\n\r\n  const handleEdit = (project) => {\r\n    setEditingProject(project);\r\n    setShowModal(true);\r\n  };\r\n\r\n  const handleDelete = (project) => {\r\n    if (window.confirm(`¿Estás seguro de que quieres eliminar el proyecto \"${project.name}\"?`)) {\r\n      deleteMutation.mutate(project.id);\r\n    }\r\n  };\r\n\r\n  const handleViewCategories = (project) => {\r\n    setSelectedProject(project);\r\n    setShowCategoriesModal(true);\r\n  };\r\n\r\n  const handleViewQueries = (project) => {\r\n    setSelectedProject(project);\r\n    setShowQueriesModal(true);\r\n  };\r\n\r\n  const handleToggleMark = async (project) => {\r\n    try {\r\n      // Aquí implementarías la lógica para marcar/desmarcar\r\n      console.log('Marcar/desmarcar proyecto:', project);\r\n      // Por ahora solo mostramos un mensaje\r\n      alert(`Proyecto ${project.marked ? 'desmarcado' : 'marcado'}: ${project.name}`);\r\n    } catch (error) {\r\n      console.error('Error al marcar proyecto:', error);\r\n    }\r\n  };\r\n\r\n  const handleUpdateStatus = (project) => {\r\n    setSelectedProject(project);\r\n    setShowStatusModal(true);\r\n  };\r\n\r\n  const handleViewProject = (project) => {\r\n    console.log('🔍 handleViewProject - Project recibido:', project);\r\n    console.log('🔍 handleViewProject - Project.id:', project?.id);\r\n    console.log('🔍 handleViewProject - Type of project.id:', typeof project?.id);\r\n    \r\n    setSelectedProject(project);\r\n    \r\n    // Inicializar editingData con todos los campos del proyecto\r\n    const initialEditingData = {\r\n      ...project,\r\n      // Asegurar que los campos booleanos tengan valores por defecto\r\n      requiere_laboratorio: project.requiere_laboratorio || false,\r\n      requiere_ingenieria: project.requiere_ingenieria || false,\r\n      requiere_consultoria: project.requiere_consultoria || false,\r\n      requiere_capacitacion: project.requiere_capacitacion || false,\r\n      requiere_auditoria: project.requiere_auditoria || false,\r\n      marked: project.marked || false,\r\n      priority: project.priority || 'normal',\r\n      queries: project.queries || '',\r\n      contact_name: project.contact_name || '',\r\n      contact_phone: project.contact_phone || '',\r\n      contact_email: project.contact_email || ''\r\n    };\r\n    \r\n    console.log('🔍 handleViewProject - editingData inicializado:', initialEditingData);\r\n    setEditingData(initialEditingData);\r\n    setActiveTab('view');\r\n    setShowViewModal(true);\r\n  };\r\n\r\n  const handleSubmit = async (formData) => {\r\n    if (editingProject.id) {\r\n      await updateMutation.mutateAsync({ id: editingProject.id, ...formData });\r\n    } else {\r\n      await createMutation.mutateAsync(formData);\r\n    }\r\n  };\r\n\r\n  const getStatusBadge = (status) => {\r\n    const statusConfig = {\r\n      'activo': { bg: 'success', text: 'Activo' },\r\n      'pendiente': { bg: 'warning', text: 'Pendiente' },\r\n      'completado': { bg: 'primary', text: 'Completado' },\r\n      'cancelado': { bg: 'danger', text: 'Cancelado' }\r\n    };\r\n    \r\n    const config = statusConfig[status] || { bg: 'secondary', text: status };\r\n    return <Badge bg={config.bg} className=\"status-badge\">{config.text}</Badge>;\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      header: 'ID',\r\n      accessor: 'id',\r\n      width: '80px'\r\n    },\r\n    {\r\n      header: 'Proyecto',\r\n      accessor: 'name',\r\n      render: (value, row) => (\r\n        <div>\r\n          <div className=\"fw-medium\">{row.name}</div>\r\n          {row.location && (\r\n            <small className=\"text-muted\">\r\n              <FiMapPin size={12} className=\"me-1\" />\r\n              {row.location}\r\n            </small>\r\n          )}\r\n        </div>\r\n      )\r\n    },\r\n    {\r\n      header: 'Tipo de Proyecto',\r\n      accessor: 'project_type',\r\n      render: (value, row) => {\r\n        const projectType = row.project_type || 'General';\r\n        let typeColor = 'secondary';\r\n        \r\n        // Asignar colores según el tipo de proyecto\r\n        switch (projectType) {\r\n          case 'Análisis de Suelos':\r\n            typeColor = 'success';\r\n            break;\r\n          case 'Estudio Geotécnico':\r\n            typeColor = 'primary';\r\n            break;\r\n          case 'Evaluación Ambiental':\r\n            typeColor = 'info';\r\n            break;\r\n          case 'Control de Calidad':\r\n            typeColor = 'warning';\r\n            break;\r\n          case 'Análisis de Agua':\r\n            typeColor = 'info';\r\n            break;\r\n          case 'Estudio de Impacto':\r\n            typeColor = 'danger';\r\n            break;\r\n          case 'Análisis Químico':\r\n            typeColor = 'primary';\r\n            break;\r\n          case 'Pruebas de Laboratorio':\r\n            typeColor = 'success';\r\n            break;\r\n          case 'Inspección Técnica':\r\n            typeColor = 'warning';\r\n            break;\r\n          case 'Certificación de Materiales':\r\n            typeColor = 'info';\r\n            break;\r\n          default:\r\n            typeColor = 'secondary';\r\n        }\r\n        \r\n        return (\r\n          <Badge bg={typeColor} className=\"px-2 py-1\">\r\n            {projectType}\r\n          </Badge>\r\n        );\r\n      }\r\n    },\r\n    {\r\n      header: 'Empresa',\r\n      accessor: 'company_name',\r\n      render: (value, row) => (\r\n        <div>\r\n          <div className=\"fw-medium\">{row.company_name || 'Sin empresa'}</div>\r\n          {row.company_ruc && (\r\n            <small className=\"text-muted\">RUC: {row.company_ruc}</small>\r\n          )}\r\n        </div>\r\n      )\r\n    },\r\n    {\r\n      header: 'Estado',\r\n      accessor: 'status',\r\n      render: (value) => getStatusBadge(value || 'activo')\r\n    },\r\n    {\r\n      header: 'Servicios Requeridos',\r\n      accessor: 'services',\r\n      render: (value, row) => (\r\n        <div className=\"d-flex flex-wrap gap-1\">\r\n          {row.requiere_laboratorio && (\r\n            <Badge bg=\"info\" className=\"px-2 py-1\">\r\n              <FiHome size={12} className=\"me-1\" />\r\n              Laboratorio\r\n            </Badge>\r\n          )}\r\n          {row.requiere_ingenieria && (\r\n            <Badge bg=\"primary\" className=\"px-2 py-1\">\r\n              <FiUser size={12} className=\"me-1\" />\r\n              Ingeniería\r\n            </Badge>\r\n          )}\r\n          {!row.requiere_laboratorio && !row.requiere_ingenieria && (\r\n            <Badge bg=\"secondary\" className=\"px-2 py-1\">\r\n              Sin servicios\r\n            </Badge>\r\n          )}\r\n        </div>\r\n      )\r\n    },\r\n    {\r\n      header: 'Contacto',\r\n      accessor: 'contacto',\r\n      render: (value, row) => (\r\n        <div className=\"small\">\r\n          {row.contact_name && (\r\n            <div><strong>{row.contact_name}</strong></div>\r\n          )}\r\n          {row.contact_phone && (\r\n            <div className=\"text-muted\">{row.contact_phone}</div>\r\n          )}\r\n          {row.contact_email && (\r\n            <div className=\"text-muted\">{row.contact_email}</div>\r\n          )}\r\n          {!row.contact_name && !row.contact_phone && !row.contact_email && (\r\n            <span className=\"text-muted\">Sin contacto</span>\r\n          )}\r\n        </div>\r\n      )\r\n    },\r\n    {\r\n      header: 'Asignado a',\r\n      accessor: 'vendedor_name',\r\n      render: (value, row) => (\r\n        <div>\r\n          {row.vendedor_name && (\r\n            <div className=\"d-flex align-items-center\">\r\n              <FiUser size={14} className=\"me-1 text-muted\" />\r\n              <span>{row.vendedor_name}</span>\r\n            </div>\r\n          )}\r\n          {row.laboratorio_name && (\r\n            <div className=\"d-flex align-items-center mt-1\">\r\n              <FiHome size={14} className=\"me-1 text-muted\" />\r\n              <span className=\"small text-muted\">{row.laboratorio_name}</span>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )\r\n    },\r\n    {\r\n      header: 'Fecha Creación',\r\n      accessor: 'created_at',\r\n      type: 'date'\r\n    }\r\n  ];\r\n\r\n  const formFields = [\r\n    {\r\n      name: 'company_id',\r\n      label: 'Empresa/Cliente',\r\n      type: 'select',\r\n      required: true,\r\n      options: data?.companies?.map(company => ({\r\n        value: company.id,\r\n        label: `${company.name} (${company.ruc || company.dni || 'Sin RUC/DNI'})`\r\n      })) || [],\r\n      description: 'Selecciona un cliente existente o crea uno nuevo desde el módulo de clientes'\r\n    },\r\n    {\r\n      name: 'name',\r\n      label: 'Nombre del Proyecto',\r\n      type: 'text',\r\n      required: true,\r\n      placeholder: 'Ingresa el nombre del proyecto'\r\n    },\r\n    {\r\n      name: 'location',\r\n      label: 'Ubicación del Proyecto',\r\n      type: 'text',\r\n      placeholder: 'Ingresa la ubicación del proyecto',\r\n      required: true\r\n    },\r\n    {\r\n      name: 'contact_name',\r\n      label: 'Persona de Contacto',\r\n      type: 'text',\r\n      placeholder: 'Nombre de la persona con quien negociar',\r\n      description: 'Persona responsable del proyecto en el cliente'\r\n    },\r\n    {\r\n      name: 'contact_phone',\r\n      label: 'Teléfono de Contacto',\r\n      type: 'text',\r\n      placeholder: 'Teléfono para comunicación directa',\r\n      description: 'Número para llamadas urgentes o seguimiento'\r\n    },\r\n    {\r\n      name: 'contact_email',\r\n      label: 'Email de Contacto',\r\n      type: 'email',\r\n      placeholder: 'Email para comunicación',\r\n      description: 'Email para envío de reportes y documentos'\r\n    },\r\n    {\r\n      name: 'vendedor_id',\r\n      label: 'Vendedor Asignado',\r\n      type: 'select',\r\n      options: data?.users?.filter(user => \r\n        ['vendedor_comercial', 'jefa_comercial'].includes(user.role)\r\n      ).map(user => ({\r\n        value: user.id,\r\n        label: `${user.name} ${user.apellido}`\r\n      })) || []\r\n    },\r\n    {\r\n      name: 'laboratorio_id',\r\n      label: 'Responsable de Laboratorio',\r\n      type: 'select',\r\n      options: data?.users?.filter(user => \r\n        ['jefe_laboratorio', 'usuario_laboratorio', 'laboratorio'].includes(user.role)\r\n      ).map(user => ({\r\n        value: user.id,\r\n        label: `${user.name} ${user.apellido}`\r\n      })) || []\r\n    },\r\n    {\r\n      name: 'requiere_laboratorio',\r\n      label: 'Requiere Servicios de Laboratorio',\r\n      type: 'checkbox',\r\n      description: 'Marcar si el proyecto necesita análisis o pruebas de laboratorio'\r\n    },\r\n    {\r\n      name: 'requiere_ingenieria',\r\n      label: 'Requiere Servicios de Ingeniería',\r\n      type: 'checkbox',\r\n      description: 'Marcar si el proyecto necesita estudios o consultoría de ingeniería'\r\n    }\r\n  ];\r\n\r\n  // Calcular estadísticas\r\n  const stats = useMemo(() => {\r\n    if (statsData) {\r\n      console.log('📊 Stats - Usando estadísticas reales del backend:', statsData);\r\n      return {\r\n        total: statsData.total || 0,\r\n        activos: statsData.activos || 0,\r\n        completados: statsData.completados || 0,\r\n        pendientes: statsData.pendientes || 0,\r\n        cancelados: statsData.cancelados || 0\r\n      };\r\n    }\r\n    // Fallback: calcular desde los datos de la página actual\r\n    const projects = data?.data || [];\r\n    console.log('📊 Stats - Fallback: calculando desde página actual:', projects);\r\n    return {\r\n      total: projects.length,\r\n      activos: projects.filter(p => p.status === 'activo').length,\r\n      completados: projects.filter(p => p.status === 'completado').length,\r\n      pendientes: projects.filter(p => p.status === 'pendiente').length,\r\n      cancelados: projects.filter(p => p.status === 'cancelado').length\r\n    };\r\n  }, [statsData, data]);\r\n\r\n  return (\r\n    <Container fluid className=\"py-4\">\r\n      <div className=\"fade-in\">\r\n        <PageHeader\r\n          title=\"Gestión de Proyectos\"\r\n          subtitle={selectedClient ? `Crear proyecto para: ${selectedClient.name}` : \"Crear, editar y gestionar proyectos del sistema\"}\r\n          icon={FiHome}\r\n          actions={\r\n            <div className=\"d-flex gap-2\">\r\n              {selectedClient && (\r\n                <Badge bg=\"info\" className=\"px-3 py-2 d-flex align-items-center\">\r\n                  <FiUser className=\"me-1\" />\r\n                  Cliente: {selectedClient.name}\r\n                </Badge>\r\n              )}\r\n              <Button variant=\"primary\" onClick={handleCreate}>\r\n                <FiPlus className=\"me-2\" />\r\n                {selectedClient ? 'Crear Proyecto' : 'Nuevo Proyecto'}\r\n              </Button>\r\n            </div>\r\n          }\r\n        />\r\n\r\n        {/* Estadísticas */}\r\n        <Row className=\"g-4 mb-4\">\r\n          <Col md={6} lg={3}>\r\n            <StatsCard\r\n              title=\"Total Proyectos\"\r\n              value={stats.total}\r\n              icon={FiHome}\r\n              color=\"primary\"\r\n              subtitle=\"Proyectos registrados\"\r\n              loading={statsLoading}\r\n            />\r\n          </Col>\r\n          <Col md={6} lg={3}>\r\n            <StatsCard\r\n              title=\"Proyectos Activos\"\r\n              value={stats.activos}\r\n              icon={FiCheckCircle}\r\n              color=\"success\"\r\n              subtitle=\"En desarrollo\"\r\n              loading={statsLoading}\r\n            />\r\n          </Col>\r\n          <Col md={6} lg={3}>\r\n            <StatsCard\r\n              title=\"Completados\"\r\n              value={stats.completados}\r\n              icon={FiCheckCircle}\r\n              color=\"info\"\r\n              subtitle=\"Finalizados\"\r\n              loading={statsLoading}\r\n            />\r\n          </Col>\r\n          <Col md={6} lg={3}>\r\n            <StatsCard\r\n              title=\"Pendientes\"\r\n              value={stats.pendientes}\r\n              icon={FiClock}\r\n              color=\"warning\"\r\n              subtitle=\"Por iniciar\"\r\n              loading={statsLoading}\r\n            />\r\n          </Col>\r\n        </Row>\r\n\r\n        {/* Tabla de proyectos */}\r\n        <Card className=\"shadow-sm border-0\">\r\n          <Card.Header className=\"bg-white border-bottom\">\r\n            <div className=\"d-flex justify-content-between align-items-center\">\r\n              <h5 className=\"mb-0\">\r\n                <FiHome className=\"me-2 text-primary\" />\r\n                Lista de Proyectos\r\n              </h5>\r\n              <div className=\"d-flex align-items-center gap-2\">\r\n                <Button\r\n                  variant=\"outline-secondary\"\r\n                  size=\"sm\"\r\n                  onClick={() => refetch()}\r\n                  className=\"d-flex align-items-center\"\r\n                  title=\"Actualizar datos\"\r\n                >\r\n                  <FiRefreshCw className={`${isLoading ? 'spinning' : ''}`} />\r\n                </Button>\r\n                <Badge bg=\"light\" text=\"dark\" className=\"px-3 py-2\">\r\n                  {stats.total} proyectos\r\n                </Badge>\r\n              </div>\r\n            </div>\r\n          </Card.Header>\r\n          <Card.Body className=\"p-0\">\r\n            <DataTable\r\n              data={data?.data || []}\r\n              columns={columns}\r\n              loading={isLoading || isSearching}\r\n              onEdit={handleEdit}\r\n              onDelete={handleDelete}\r\n              actions={[\r\n                { label: 'Gestionar', icon: FiEye, onClick: handleViewProject, variant: 'outline-primary' },\r\n                { label: 'Eliminar', icon: FiTrash2, onClick: handleDelete, variant: 'outline-danger' }\r\n              ]}\r\n              emptyMessage=\"No hay proyectos registrados\"\r\n              // Props para paginación del backend\r\n              totalItems={data?.total || 0}\r\n              itemsPerPage={20}\r\n              currentPage={currentPage}\r\n              onPageChange={setCurrentPage}\r\n              onSearch={handleSearch}\r\n              onFilter={handleFilter}\r\n              // Filtros específicos para proyectos\r\n              filterOptions={projectFilterOptions}\r\n            />\r\n          </Card.Body>\r\n        </Card>\r\n\r\n      <ModalForm\r\n        show={showModal}\r\n        onHide={() => setShowModal(false)}\r\n        title={editingProject?.id ? 'Editar Proyecto' : 'Nuevo Proyecto'}\r\n        data={editingProject || emptyForm}\r\n        fields={formFields}\r\n        onSubmit={handleSubmit}\r\n        loading={createMutation.isLoading || updateMutation.isLoading}\r\n        submitText={editingProject?.id ? 'Actualizar' : 'Crear'}\r\n      />\r\n\r\n      {/* Modal Unificado para Gestionar Proyecto */}\r\n      <ModalForm\r\n        show={showViewModal}\r\n        onHide={() => setShowViewModal(false)}\r\n        title={`Gestionar Proyecto - ${selectedProject?.name || ''}`}\r\n        data={editingData}\r\n        fields={[\r\n          {\r\n            name: 'project_management',\r\n            label: 'Gestión del Proyecto',\r\n            type: 'custom',\r\n            render: (project) => (\r\n              <Tabs\r\n                activeKey={activeTab}\r\n                onSelect={(k) => setActiveTab(k)}\r\n                className=\"mb-3\"\r\n              >\r\n                {/* Tab Ver */}\r\n                <Tab eventKey=\"view\" title={\r\n                  <span>\r\n                    <FiEye className=\"me-1\" />\r\n                    Ver\r\n                  </span>\r\n                }>\r\n                  <div className=\"row g-3\">\r\n                    <div className=\"col-md-6\">\r\n                      <div className=\"border rounded p-3 h-100\">\r\n                        <h6 className=\"text-primary mb-3\">\r\n                          <FiHome className=\"me-2\" />\r\n                          Datos Generales\r\n                        </h6>\r\n                        <div className=\"mb-2\">\r\n                          <strong>ID:</strong> {project.id}\r\n                        </div>\r\n                        <div className=\"mb-2\">\r\n                          <strong>Nombre:</strong> {project.name}\r\n                        </div>\r\n                        <div className=\"mb-2\">\r\n                          <strong>Ubicación:</strong> {project.location}\r\n                        </div>\r\n                        <div className=\"mb-2\">\r\n                          <strong>Tipo:</strong> \r\n                          <Badge bg=\"info\" className=\"ms-2\">{project.project_type}</Badge>\r\n                        </div>\r\n                        <div className=\"mb-2\">\r\n                          <strong>Estado:</strong> \r\n                          <Badge bg=\"primary\" className=\"ms-2\">{project.status}</Badge>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-md-6\">\r\n                      <div className=\"border rounded p-3 h-100\">\r\n                        <h6 className=\"text-success mb-3\">\r\n                          <FiUser className=\"me-2\" />\r\n                          Información de Contacto\r\n                        </h6>\r\n                        <div className=\"mb-2\">\r\n                          <strong>Empresa:</strong> {project.company_name}\r\n                        </div>\r\n                        <div className=\"mb-2\">\r\n                          <strong>RUC:</strong> {project.company_ruc}\r\n                        </div>\r\n                        <div className=\"mb-2\">\r\n                          <strong>Contacto:</strong> {project.contact_name || 'Sin contacto'}\r\n                        </div>\r\n                        <div className=\"mb-2\">\r\n                          <strong>Teléfono:</strong> {project.contact_phone || 'Sin teléfono'}\r\n                        </div>\r\n                        <div className=\"mb-2\">\r\n                          <strong>Email:</strong> {project.contact_email || 'Sin email'}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-md-6\">\r\n                      <div className=\"border rounded p-3 h-100\">\r\n                        <h6 className=\"text-warning mb-3\">\r\n                          <FiSettings className=\"me-2\" />\r\n                          Servicios Requeridos\r\n                        </h6>\r\n                        <div className=\"mb-2\">\r\n                          <strong>Laboratorio:</strong> \r\n                          {project.requiere_laboratorio ? (\r\n                            <Badge bg=\"info\" className=\"ms-2\">Requerido</Badge>\r\n                          ) : (\r\n                            <Badge bg=\"secondary\" className=\"ms-2\">No requerido</Badge>\r\n                          )}\r\n                        </div>\r\n                        <div className=\"mb-2\">\r\n                          <strong>Ingeniería:</strong> \r\n                          {project.requiere_ingenieria ? (\r\n                            <Badge bg=\"success\" className=\"ms-2\">Requerido</Badge>\r\n                          ) : (\r\n                            <Badge bg=\"secondary\" className=\"ms-2\">No requerido</Badge>\r\n                          )}\r\n                        </div>\r\n                        <div className=\"mb-2\">\r\n                          <strong>Estado Lab:</strong> \r\n                          <Badge bg=\"info\" className=\"ms-2\">{project.laboratorio_status}</Badge>\r\n                        </div>\r\n                        <div className=\"mb-2\">\r\n                          <strong>Estado Ing:</strong> \r\n                          <Badge bg=\"success\" className=\"ms-2\">{project.ingenieria_status}</Badge>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-md-6\">\r\n                      <div className=\"border rounded p-3 h-100\">\r\n                        <h6 className=\"text-info mb-3\">\r\n                          <FiUsers className=\"me-2\" />\r\n                          Asignaciones\r\n                        </h6>\r\n                        <div className=\"mb-2\">\r\n                          <strong>Vendedor:</strong> {project.vendedor_name || 'Sin asignar'}\r\n                        </div>\r\n                        <div className=\"mb-2\">\r\n                          <strong>Laboratorio:</strong> {project.laboratorio_name || 'Sin asignar'}\r\n                        </div>\r\n                        <div className=\"mb-2\">\r\n                          <strong>Fecha Creación:</strong> {new Date(project.created_at).toLocaleDateString()}\r\n                        </div>\r\n                        <div className=\"mb-2\">\r\n                          <strong>Última Actualización:</strong> {new Date(project.updated_at).toLocaleDateString()}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    {project.status_notes && (\r\n                      <div className=\"col-12\">\r\n                        <div className=\"border rounded p-3\">\r\n                          <h6 className=\"text-muted mb-3\">\r\n                            <FiMessageCircle className=\"me-2\" />\r\n                            Notas del Estado\r\n                          </h6>\r\n                          <p className=\"mb-0\">{project.status_notes}</p>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </Tab>\r\n\r\n                {/* Tab Editar */}\r\n                <Tab eventKey=\"edit\" title={\r\n                  <span>\r\n                    <FiEdit className=\"me-1\" />\r\n                    Editar\r\n                  </span>\r\n                }>\r\n                  <div className=\"row g-3\">\r\n                    <div className=\"col-md-6\">\r\n                      <div className=\"mb-3\">\r\n                        <label className=\"form-label\">Nombre del Proyecto</label>\r\n                        <input \r\n                          type=\"text\" \r\n                          className=\"form-control\" \r\n                          value={editingData.name || ''} \r\n                          onChange={(e) => setEditingData({...editingData, name: e.target.value})}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-md-6\">\r\n                      <div className=\"mb-3\">\r\n                        <label className=\"form-label\">Ubicación</label>\r\n                        <input \r\n                          type=\"text\" \r\n                          className=\"form-control\" \r\n                          value={editingData.location || ''} \r\n                          onChange={(e) => setEditingData({...editingData, location: e.target.value})}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-md-6\">\r\n                      <div className=\"mb-3\">\r\n                        <label className=\"form-label\">Persona de Contacto</label>\r\n                        <input \r\n                          type=\"text\" \r\n                          className=\"form-control\" \r\n                          value={editingData.contact_name || ''} \r\n                          onChange={(e) => {\r\n                            console.log('🔍 contact_name onChange:', e.target.value);\r\n                            setEditingData({...editingData, contact_name: e.target.value});\r\n                          }}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-md-6\">\r\n                      <div className=\"mb-3\">\r\n                        <label className=\"form-label\">Teléfono de Contacto</label>\r\n                        <input \r\n                          type=\"text\" \r\n                          className=\"form-control\" \r\n                          value={editingData.contact_phone || ''} \r\n                          onChange={(e) => setEditingData({...editingData, contact_phone: e.target.value})}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-12\">\r\n                      <div className=\"mb-3\">\r\n                        <label className=\"form-label\">Email de Contacto</label>\r\n                        <input \r\n                          type=\"email\" \r\n                          className=\"form-control\" \r\n                          value={editingData.contact_email || ''} \r\n                          onChange={(e) => setEditingData({...editingData, contact_email: e.target.value})}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-12\">\r\n                      <Button \r\n                        variant=\"primary\" \r\n                        onClick={() => {\r\n                          const projectId = selectedProject?.id;\r\n                          if (!projectId) {\r\n                            console.error('No se encontró el ID del proyecto');\r\n                            return;\r\n                          }\r\n                          \r\n                          updateCategoriesMutation.mutate({ \r\n                            id: projectId, \r\n                            requiere_laboratorio: editingData.requiere_laboratorio || false,\r\n                            requiere_ingenieria: editingData.requiere_ingenieria || false,\r\n                            requiere_consultoria: editingData.requiere_consultoria || false,\r\n                            requiere_capacitacion: editingData.requiere_capacitacion || false,\r\n                            requiere_auditoria: editingData.requiere_auditoria || false\r\n                          });\r\n                          setShowViewModal(false);\r\n                        }}\r\n                        disabled={updateCategoriesMutation.isLoading}\r\n                      >\r\n                        {updateCategoriesMutation.isLoading ? 'Guardando...' : 'Guardar Categorías'}\r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n                </Tab>\r\n\r\n                {/* Tab Estado */}\r\n                <Tab eventKey=\"status\" title={\r\n                  <span>\r\n                    <FiSettings className=\"me-1\" />\r\n                    Estado\r\n                  </span>\r\n                }>\r\n                  <div className=\"row g-3\">\r\n                    <div className=\"col-md-6\">\r\n                      <div className=\"mb-3\">\r\n                        <label className=\"form-label\">Estado del Proyecto</label>\r\n                        <select \r\n                          className=\"form-select\" \r\n                          value={editingData.status || ''} \r\n                          onChange={(e) => setEditingData({...editingData, status: e.target.value})}\r\n                        >\r\n                          <option value=\"pendiente\">Pendiente</option>\r\n                          <option value=\"en_proceso\">En Proceso</option>\r\n                          <option value=\"completado\">Completado</option>\r\n                          <option value=\"pausado\">Pausado</option>\r\n                          <option value=\"cancelado\">Cancelado</option>\r\n                        </select>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-md-6\">\r\n                      <div className=\"mb-3\">\r\n                        <label className=\"form-label\">Estado del Laboratorio</label>\r\n                        <select \r\n                          className=\"form-select\" \r\n                          value={editingData.laboratorio_status || ''} \r\n                          onChange={(e) => setEditingData({...editingData, laboratorio_status: e.target.value})}\r\n                        >\r\n                          <option value=\"no_requerido\">No Requerido</option>\r\n                          <option value=\"pendiente\">Pendiente</option>\r\n                          <option value=\"en_proceso\">En Proceso</option>\r\n                          <option value=\"completado\">Completado</option>\r\n                          <option value=\"pausado\">Pausado</option>\r\n                          <option value=\"cancelado\">Cancelado</option>\r\n                        </select>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-md-6\">\r\n                      <div className=\"mb-3\">\r\n                        <label className=\"form-label\">Estado de Ingeniería</label>\r\n                        <select \r\n                          className=\"form-select\" \r\n                          value={editingData.ingenieria_status || ''} \r\n                          onChange={(e) => setEditingData({...editingData, ingenieria_status: e.target.value})}\r\n                        >\r\n                          <option value=\"no_requerido\">No Requerido</option>\r\n                          <option value=\"pendiente\">Pendiente</option>\r\n                          <option value=\"en_proceso\">En Proceso</option>\r\n                          <option value=\"completado\">Completado</option>\r\n                          <option value=\"pausado\">Pausado</option>\r\n                          <option value=\"cancelado\">Cancelado</option>\r\n                        </select>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-12\">\r\n                      <div className=\"mb-3\">\r\n                        <label className=\"form-label\">Notas del Estado</label>\r\n                        <textarea \r\n                          className=\"form-control\" \r\n                          rows=\"3\"\r\n                          value={editingData.status_notes || ''} \r\n                          onChange={(e) => setEditingData({...editingData, status_notes: e.target.value})}\r\n                          placeholder=\"Agrega comentarios sobre el cambio de estado...\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-12\">\r\n                      <Button \r\n                        variant=\"success\" \r\n                        onClick={() => {\r\n                          const projectId = selectedProject?.id;\r\n                          if (!projectId) {\r\n                            console.error('No se encontró el ID del proyecto');\r\n                            return;\r\n                          }\r\n                          \r\n                          updateStatusMutation.mutate({ id: projectId, ...editingData });\r\n                          setShowViewModal(false);\r\n                        }}\r\n                        disabled={updateStatusMutation.isLoading}\r\n                      >\r\n                        {updateStatusMutation.isLoading ? 'Actualizando...' : 'Actualizar Estado'}\r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n                </Tab>\r\n\r\n                {/* Tab Categorías */}\r\n                <Tab eventKey=\"categories\" title={\r\n                  <span>\r\n                    <FiFolder className=\"me-1\" />\r\n                    Categorías\r\n                  </span>\r\n                }>\r\n                  <div className=\"row g-3\">\r\n                    <div className=\"col-12\">\r\n                      <h6 className=\"mb-3\">Categorías del Proyecto</h6>\r\n                      <div className=\"form-check\">\r\n                        <input \r\n                          className=\"form-check-input\" \r\n                          type=\"checkbox\" \r\n                          id=\"cat_laboratorio\"\r\n                          checked={editingData.requiere_laboratorio || false}\r\n                          onChange={(e) => {\r\n                            console.log('🔍 requiere_laboratorio onChange:', e.target.checked);\r\n                            setEditingData({...editingData, requiere_laboratorio: e.target.checked});\r\n                          }}\r\n                        />\r\n                        <label className=\"form-check-label\" htmlFor=\"cat_laboratorio\">\r\n                          Laboratorio\r\n                        </label>\r\n                      </div>\r\n                      <div className=\"form-check\">\r\n                        <input \r\n                          className=\"form-check-input\" \r\n                          type=\"checkbox\" \r\n                          id=\"cat_ingenieria\"\r\n                          checked={editingData.requiere_ingenieria || false}\r\n                          onChange={(e) => setEditingData({...editingData, requiere_ingenieria: e.target.checked})}\r\n                        />\r\n                        <label className=\"form-check-label\" htmlFor=\"cat_ingenieria\">\r\n                          Ingeniería\r\n                        </label>\r\n                      </div>\r\n                      <div className=\"form-check\">\r\n                        <input \r\n                          className=\"form-check-input\" \r\n                          type=\"checkbox\" \r\n                          id=\"cat_consultoria\"\r\n                          checked={editingData.requiere_consultoria || false}\r\n                          onChange={(e) => setEditingData({...editingData, requiere_consultoria: e.target.checked})}\r\n                        />\r\n                        <label className=\"form-check-label\" htmlFor=\"cat_consultoria\">\r\n                          Consultoría\r\n                        </label>\r\n                      </div>\r\n                      <div className=\"form-check\">\r\n                        <input \r\n                          className=\"form-check-input\" \r\n                          type=\"checkbox\" \r\n                          id=\"cat_capacitacion\"\r\n                          checked={editingData.requiere_capacitacion || false}\r\n                          onChange={(e) => setEditingData({...editingData, requiere_capacitacion: e.target.checked})}\r\n                        />\r\n                        <label className=\"form-check-label\" htmlFor=\"cat_capacitacion\">\r\n                          Capacitación\r\n                        </label>\r\n                      </div>\r\n                      <div className=\"form-check\">\r\n                        <input \r\n                          className=\"form-check-input\" \r\n                          type=\"checkbox\" \r\n                          id=\"cat_auditoria\"\r\n                          checked={editingData.requiere_auditoria || false}\r\n                          onChange={(e) => setEditingData({...editingData, requiere_auditoria: e.target.checked})}\r\n                        />\r\n                        <label className=\"form-check-label\" htmlFor=\"cat_auditoria\">\r\n                          Auditoría\r\n                        </label>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-12\">\r\n                      <Button \r\n                        variant=\"info\" \r\n                        onClick={() => {\r\n                          console.log('selectedProject:', selectedProject);\r\n                          console.log('selectedProject.id:', selectedProject?.id);\r\n                          console.log('editingData:', editingData);\r\n                          \r\n                          const projectId = selectedProject?.id;\r\n                          if (!projectId) {\r\n                            console.error('No se encontró el ID del proyecto');\r\n                            return;\r\n                          }\r\n                          \r\n                          updateCategoriesMutation.mutate({ \r\n                            id: projectId, \r\n                            requiere_laboratorio: editingData.requiere_laboratorio || false,\r\n                            requiere_ingenieria: editingData.requiere_ingenieria || false,\r\n                            requiere_consultoria: editingData.requiere_consultoria || false,\r\n                            requiere_capacitacion: editingData.requiere_capacitacion || false,\r\n                            requiere_auditoria: editingData.requiere_auditoria || false\r\n                          });\r\n                          // No cerrar el modal para ver los cambios\r\n                        }}\r\n                        disabled={updateCategoriesMutation.isLoading}\r\n                      >\r\n                        {updateCategoriesMutation.isLoading ? 'Guardando...' : 'Guardar Categorías'}\r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n                </Tab>\r\n\r\n                {/* Tab Consultas */}\r\n                <Tab eventKey=\"queries\" title={\r\n                  <span>\r\n                    <FiMessageCircle className=\"me-1\" />\r\n                    Consultas\r\n                  </span>\r\n                }>\r\n                  <div className=\"row g-3\">\r\n                    <div className=\"col-12\">\r\n                      <div className=\"mb-3\">\r\n                        <label className=\"form-label\">Consultas y Dudas del Cliente</label>\r\n                        <textarea \r\n                          className=\"form-control\" \r\n                          rows=\"8\"\r\n                          value={editingData.queries || ''} \r\n                          onChange={(e) => setEditingData({...editingData, queries: e.target.value})}\r\n                          placeholder=\"Ingresa las consultas o dudas del cliente...\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-12\">\r\n                      <Button \r\n                        variant=\"warning\"\r\n                        onClick={() => {\r\n                          const projectId = selectedProject?.id;\r\n                          if (!projectId) {\r\n                            console.error('No se encontró el ID del proyecto');\r\n                            return;\r\n                          }\r\n                          \r\n                          updateQueriesMutation.mutate({ \r\n                            id: projectId, \r\n                            queries: editingData.queries || ''\r\n                          });\r\n                          // No cerrar el modal para ver los cambios\r\n                        }}\r\n                        disabled={updateQueriesMutation.isLoading}\r\n                      >\r\n                        {updateQueriesMutation.isLoading ? 'Guardando...' : 'Guardar Consultas'}\r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n                </Tab>\r\n\r\n                {/* Tab Marcar */}\r\n                <Tab eventKey=\"mark\" title={\r\n                  <span>\r\n                    <FiCheck className=\"me-1\" />\r\n                    Marcar\r\n                  </span>\r\n                }>\r\n                  <div className=\"row g-3\">\r\n                    <div className=\"col-12\">\r\n                      <div className=\"text-center\">\r\n                        <h6 className=\"mb-3\">Marcar Proyecto</h6>\r\n                        <p className=\"text-muted mb-4\">\r\n                          Marca este proyecto para seguimiento especial o prioridad alta.\r\n                        </p>\r\n                        <div className=\"mb-3\">\r\n                          <label className=\"form-label\">Prioridad</label>\r\n                          <select \r\n                            className=\"form-select\" \r\n                            value={editingData.priority || 'normal'} \r\n                            onChange={(e) => setEditingData({...editingData, priority: e.target.value})}\r\n                          >\r\n                            <option value=\"low\">Baja</option>\r\n                            <option value=\"normal\">Normal</option>\r\n                            <option value=\"high\">Alta</option>\r\n                            <option value=\"urgent\">Urgente</option>\r\n                          </select>\r\n                        </div>\r\n                        <Button \r\n                          variant=\"success\" \r\n                          size=\"lg\"\r\n                          onClick={() => {\r\n                            const projectId = selectedProject?.id;\r\n                            if (!projectId) {\r\n                              console.error('No se encontró el ID del proyecto');\r\n                              return;\r\n                            }\r\n                            \r\n                            updateMarkMutation.mutate({ \r\n                              id: projectId, \r\n                              marked: !editingData.marked,\r\n                              priority: editingData.priority || 'normal'\r\n                            });\r\n                            setShowViewModal(false);\r\n                          }}\r\n                          disabled={updateMarkMutation.isLoading}\r\n                        >\r\n                          <FiCheck className=\"me-2\" />\r\n                          {updateMarkMutation.isLoading ? 'Procesando...' : (editingData.marked ? 'Desmarcar Proyecto' : 'Marcar Proyecto')}\r\n                        </Button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </Tab>\r\n              </Tabs>\r\n            )\r\n          }\r\n        ]}\r\n        onSubmit={() => setShowViewModal(false)}\r\n        submitText=\"Cerrar\"\r\n        size=\"xl\"\r\n      />\r\n      \r\n      {/* Toast de notificaciones */}\r\n      <ToastContainer position=\"top-end\" className=\"p-3\">\r\n        <Toast \r\n          show={showToast} \r\n          onClose={() => setShowToast(false)} \r\n          delay={3000} \r\n          autohide\r\n          bg={toastVariant}\r\n        >\r\n          <Toast.Header>\r\n            <strong className=\"me-auto\">\r\n              {toastVariant === 'success' ? '✅ Éxito' : '❌ Error'}\r\n            </strong>\r\n          </Toast.Header>\r\n          <Toast.Body className=\"text-white\">\r\n            {toastMessage}\r\n          </Toast.Body>\r\n        </Toast>\r\n      </ToastContainer>\r\n      </div>\r\n    </Container>\r\n  );\r\n};"],"names":["useMounted","mounted","useRef","isMounted","useEffect","MAX_DELAY_MS","setChainedTimeout","handleRef","fn","timeoutAtMs","delayMs","useTimeout","useWillUnmount","useMemo","clear","set","fadeStyles","ENTERING","EXITING","ToastFade","React.forwardRef","props","ref","_jsx","Fade","ToastContext","React.createContext","ToastHeader","bsPrefix","closeLabel","closeVariant","closeButton","className","children","useBootstrapPrefix","context","useContext","handleClick","useEventCallback","e","_jsxs","classNames","CloseButton","ToastBody","Component","Toast","Transition","show","animation","delay","autohide","onClose","onEntered","onExit","onExiting","onEnter","onEntering","onExited","bg","delayRef","onCloseRef","autohideTimeout","autohideToast","autohideFunc","useCallback","toastContext","hasAnimation","toast","Toast$1","positionClasses","ToastContainer","position","containerPosition","emptyForm","Proyectos","showModal","setShowModal","useState","editingProject","setEditingProject","deletingProject","setDeletingProject","showCategoriesModal","setShowCategoriesModal","showQueriesModal","setShowQueriesModal","showStatusModal","setShowStatusModal","showViewModal","setShowViewModal","selectedProject","setSelectedProject","activeTab","setActiveTab","editingData","setEditingData","showToast","setShowToast","toastMessage","setToastMessage","toastVariant","setToastVariant","currentPage","setCurrentPage","searchTerm","setSearchTerm","selectedStatus","setSelectedStatus","selectedCompany","setSelectedCompany","selectedProjectType","setSelectedProjectType","isSearching","setIsSearching","useNavigate","selectedClient","_a","useLocation","queryClient","useQueryClient","data","isLoading","refetch","useQuery","listProjects","statsData","statsLoading","getProjectStats","handleMutationSuccess","message","showNotification","variant","handleSearch","searchValue","handleFilter","filters","projectFilterOptions","createMutation","useMutation","createProject","error","updateMutation","updateProject","deleteMutation","deleteProject","updateStatusMutation","id","updateProjectStatus","updatedProject","updateCategoriesMutation","updateProjectCategories","updateQueriesMutation","updateProjectQueries","updateMarkMutation","updateProjectMark","handleCreate","formData","handleEdit","project","handleDelete","handleViewProject","initialEditingData","handleSubmit","getStatusBadge","status","config","jsx","Badge","columns","value","row","jsxs","FiMapPin","projectType","typeColor","FiHome","FiUser","formFields","_b","company","_c","user","_d","stats","projects","p","Container","PageHeader","Button","FiPlus","Row","Col","StatsCard","FiCheckCircle","FiClock","Card","FiRefreshCw","DataTable","FiEye","FiTrash2","ModalForm","Tabs","k","Tab","FiSettings","FiUsers","FiMessageCircle","FiEdit","projectId","FiFolder","FiCheck"],"mappings":"+vBAsBe,SAASA,IAAa,CACnC,MAAMC,EAAUC,EAAAA,OAAO,EAAI,EACrBC,EAAYD,EAAAA,OAAO,IAAMD,EAAQ,OAAO,EAC9CG,OAAAA,EAAAA,UAAU,KACRH,EAAQ,QAAU,GACX,IAAM,CACXA,EAAQ,QAAU,EACpB,GACC,CAAA,CAAE,EACEE,EAAU,OACnB,CCpBA,MAAME,GAAe,GAAK,GAAK,EAC/B,SAASC,GAAkBC,EAAWC,EAAIC,EAAa,CACrD,MAAMC,EAAUD,EAAc,KAAK,IAAG,EACtCF,EAAU,QAAUG,GAAWL,GAAe,WAAWG,EAAIE,CAAO,EAAI,WAAW,IAAMJ,GAAkBC,EAAWC,EAAIC,CAAW,EAAGJ,EAAY,CACtJ,CAoBe,SAASM,IAAa,CACnC,MAAMR,EAAYH,GAAU,EAGtBO,EAAYL,EAAAA,OAAM,EACxB,OAAAU,GAAe,IAAM,aAAaL,EAAU,OAAO,CAAC,EAC7CM,EAAAA,QAAQ,IAAM,CACnB,MAAMC,EAAQ,IAAM,aAAaP,EAAU,OAAO,EAClD,SAASQ,EAAIP,EAAIE,EAAU,EAAG,CACvBP,EAAS,IACdW,EAAK,EACDJ,GAAWL,GAEbE,EAAU,QAAU,WAAWC,EAAIE,CAAO,EAE1CJ,GAAkBC,EAAWC,EAAI,KAAK,IAAG,EAAKE,CAAO,EAEzD,CACA,MAAO,CACL,IAAAK,EACA,MAAAD,EACA,UAAAP,CACN,CACE,EAAG,CAAA,CAAE,CACP,CCxDA,MAAMS,GAAa,CACjB,CAACC,EAAQ,EAAG,UACZ,CAACC,EAAO,EAAG,cACb,EACMC,GAAyBC,EAAAA,WAAiB,CAACC,EAAOC,IAAqBC,EAAAA,IAAKC,GAAM,CACtF,GAAGH,EACH,IAAKC,EACL,kBAAmBN,EACrB,CAAC,CAAC,EACFG,GAAU,YAAc,YCVxB,MAAMM,GAA4BC,EAAAA,cAAoB,CACpD,SAAU,CAAC,CACb,CAAC,ECMKC,GAA2BP,EAAAA,WAAiB,CAAC,CACjD,SAAAQ,EACA,WAAAC,EAAa,QACb,aAAAC,EACA,YAAAC,EAAc,GACd,UAAAC,EACA,SAAAC,EACA,GAAGZ,CACL,EAAGC,IAAQ,CACTM,EAAWM,EAAmBN,EAAU,cAAc,EACtD,MAAMO,EAAUC,EAAAA,WAAWX,EAAY,EACjCY,EAAcC,GAAiBC,GAAK,CACxCJ,GAAW,MAAQA,EAAQ,SAAW,MAAQA,EAAQ,QAAQI,CAAC,CACjE,CAAC,EACD,OAAoBC,EAAAA,KAAM,MAAO,CAC/B,IAAKlB,EACL,GAAGD,EACH,UAAWoB,EAAWb,EAAUI,CAAS,EACzC,SAAU,CAACC,EAAUF,GAA4BR,EAAAA,IAAKmB,GAAa,CACjE,aAAcb,EACd,QAASC,EACT,QAASO,EACT,eAAgB,OACtB,CAAK,CAAC,CACN,CAAG,CACH,CAAC,EACDV,GAAY,YAAc,cC/B1B,MAAMgB,GAAyBvB,EAAAA,WAAiB,CAAC,CAC/C,UAAAY,EACA,SAAAJ,EACA,GAAIgB,EAAY,MAChB,GAAGvB,CACL,EAAGC,KACDM,EAAWM,EAAmBN,EAAU,YAAY,EAChCL,EAAAA,IAAKqB,EAAW,CAClC,IAAKtB,EACL,UAAWmB,EAAWT,EAAWJ,CAAQ,EACzC,GAAGP,CACP,CAAG,EACF,EACDsB,GAAU,YAAc,YCPxB,MAAME,GAAqBzB,EAAAA,WAAiB,CAAC,CAC3C,SAAAQ,EACA,UAAAI,EACA,WAAYc,EAAa3B,GACzB,KAAA4B,EAAO,GACP,UAAAC,EAAY,GACZ,MAAAC,EAAQ,IACR,SAAAC,EAAW,GACX,QAAAC,EACA,UAAAC,EACA,OAAAC,EACA,UAAAC,EACA,QAAAC,GACA,WAAAC,EACA,SAAAC,EACA,GAAAC,EACA,GAAGrC,CACL,EAAGC,IAAQ,CACTM,EAAWM,EAAmBN,EAAU,OAAO,EAI/C,MAAM+B,EAAWzD,EAAAA,OAAO+C,CAAK,EACvBW,EAAa1D,EAAAA,OAAOiD,CAAO,EACjC/C,EAAAA,UAAU,IAAM,CACduD,EAAS,QAAUV,EACnBW,EAAW,QAAUT,CACvB,EAAG,CAACF,EAAOE,CAAO,CAAC,EACnB,MAAMU,EAAkBlD,GAAU,EAC5BmD,EAAgB,CAAC,EAAEZ,GAAYH,GAC/BgB,EAAeC,EAAAA,YAAY,IAAM,CACjCF,IACFF,EAAW,SAAW,MAAQA,EAAW,QAAO,EAEpD,EAAG,CAACE,CAAa,CAAC,EAClB1D,EAAAA,UAAU,IAAM,CAEdyD,EAAgB,IAAIE,EAAcJ,EAAS,OAAO,CACpD,EAAG,CAACE,EAAiBE,CAAY,CAAC,EAClC,MAAME,EAAepD,EAAAA,QAAQ,KAAO,CAClC,QAAAsC,CACJ,GAAM,CAACA,CAAO,CAAC,EACPe,EAAe,CAAC,EAAEpB,GAAcE,GAChCmB,EAAqB5C,EAAAA,IAAK,MAAO,CACrC,GAAGF,EACH,IAAKC,EACL,UAAWmB,EAAWb,EAAUI,EAAW0B,GAAM,MAAMA,CAAE,GAAI,CAACQ,IAAiBnB,EAAO,OAAS,OAAO,EACtG,KAAM,QACN,YAAa,YACb,cAAe,MACnB,CAAG,EACD,OAAoBxB,EAAAA,IAAKE,GAAa,SAAU,CAC9C,MAAOwC,EACP,SAAUC,GAAgBpB,EAA0BvB,EAAAA,IAAKuB,EAAY,CACnE,GAAIC,EACJ,QAASQ,GACT,WAAYC,EACZ,UAAWJ,EACX,OAAQC,EACR,UAAWC,EACX,SAAUG,EACV,cAAe,GACf,SAAUU,CAChB,CAAK,EAAIA,CACT,CAAG,CACH,CAAC,EACDtB,GAAM,YAAc,QACpB,MAAAuB,GAAe,OAAO,OAAOvB,GAAO,CAClC,KAAMF,GACN,OAAQhB,EACV,CAAC,EC5EK0C,GAAkB,CACtB,YAAa,gBACb,aAAc,oCACd,UAAW,cACX,eAAgB,oCAChB,gBAAiB,mCACjB,aAAc,kCACd,eAAgB,mBAChB,gBAAiB,uCACjB,aAAc,gBAChB,EACMC,GAA8BlD,EAAAA,WAAiB,CAAC,CACpD,SAAAQ,EACA,SAAA2C,EACA,kBAAAC,EACA,UAAAxC,EAEA,GAAIY,EAAY,MAChB,GAAGvB,CACL,EAAGC,KACDM,EAAWM,EAAmBN,EAAU,iBAAiB,EACrCL,EAAAA,IAAKqB,EAAW,CAClC,IAAKtB,EACL,GAAGD,EACH,UAAWoB,EAAWb,EAAU2C,GAAYF,GAAgBE,CAAQ,EAAGC,GAAqB,YAAYA,CAAiB,GAAIxC,CAAS,CAC1I,CAAG,EACF,EACDsC,GAAe,YAAc,iBCtB7B,MAAMG,GAAY,CAAE,WAAY,GAAI,KAAM,GAAI,SAAU,GAAI,YAAa,GAAI,eAAgB,GAAI,qBAAsB,GAAO,oBAAqB,GAAO,aAAc,GAAI,cAAe,GAAI,cAAe,EAAA,EAE9M,SAAwBC,IAAY,iBAClC,KAAM,CAACC,EAAWC,CAAY,EAAIC,EAAAA,SAAS,EAAK,EAC1C,CAACC,EAAgBC,CAAiB,EAAIF,EAAAA,SAAS,IAAI,EACnD,CAACG,EAAiBC,CAAkB,EAAIJ,EAAAA,SAAS,IAAI,EACrD,CAACK,EAAqBC,CAAsB,EAAIN,EAAAA,SAAS,EAAK,EAC9D,CAACO,EAAkBC,CAAmB,EAAIR,EAAAA,SAAS,EAAK,EACxD,CAACS,EAAiBC,EAAkB,EAAIV,EAAAA,SAAS,EAAK,EACtD,CAACW,EAAeC,CAAgB,EAAIZ,EAAAA,SAAS,EAAK,EAClD,CAACa,EAAiBC,CAAkB,EAAId,EAAAA,SAAS,IAAI,EACrD,CAACe,EAAWC,CAAY,EAAIhB,EAAAA,SAAS,MAAM,EAC3C,CAACiB,EAAaC,CAAc,EAAIlB,EAAAA,SAAS,CAAA,CAAE,EAC3C,CAACmB,EAAWC,CAAY,EAAIpB,EAAAA,SAAS,EAAK,EAC1C,CAACqB,EAAcC,CAAe,EAAItB,EAAAA,SAAS,EAAE,EAC7C,CAACuB,EAAcC,EAAe,EAAIxB,EAAAA,SAAS,SAAS,EACpD,CAACyB,EAAaC,CAAc,EAAI1B,EAAAA,SAAS,CAAC,EAC1C,CAAC2B,GAAYC,EAAa,EAAI5B,EAAAA,SAAS,EAAE,EACzC,CAAC6B,GAAgBC,EAAiB,EAAI9B,EAAAA,SAAS,EAAE,EACjD,CAAC+B,GAAiBC,EAAkB,EAAIhC,EAAAA,SAAS,EAAE,EACnD,CAACiC,GAAqBC,EAAsB,EAAIlC,EAAAA,SAAS,EAAE,EAC3D,CAACmC,GAAaC,EAAc,EAAIpC,EAAAA,SAAS,EAAK,EACnCqC,GAAA,EAIjB,MAAMC,GAAiBC,GAHNC,GAAA,EAGe,QAAT,YAAAD,GAAgB,eAEjCE,EAAcC,GAAA,EAEd,CAAE,KAAAC,EAAM,UAAAC,GAAW,QAAAC,EAAA,EAAYC,GACnC,CAAC,WAAYrB,EAAaE,GAAYE,GAAgBE,GAAiBE,EAAmB,EAC1F,IAAMc,GAAa,CACjB,KAAMtB,EACN,MAAO,GACP,OAAQE,GACR,OAAQE,GACR,WAAYE,GACZ,aAAcE,EAAA,CACf,EACD,CACE,iBAAkB,GAClB,qBAAsB,GACtB,eAAgB,GAChB,UAAW,IACX,UAAW,IACX,MAAO,EACP,WAAY,GAAA,CACd,EAII,CAAE,KAAMe,EAAW,UAAWC,GAAiBH,GACnD,CAAC,cAAc,EACfI,GACA,CACE,qBAAsB,GACtB,eAAgB,GAChB,UAAW,IACX,UAAW,IACX,MAAO,CAAA,CACT,EAGIC,EAAyBC,GAAY,CACzCX,EAAY,kBAAkB,UAAU,EACxCA,EAAY,kBAAkB,cAAc,EAC5C1C,EAAa,EAAK,EAClBG,EAAkB,IAAI,EACtBE,EAAmB,IAAI,CACzB,EAEMiD,GAAmB,CAACD,EAASE,EAAU,YAAc,CACzDhC,EAAgB8B,CAAO,EACvB5B,GAAgB8B,CAAO,EACvBlC,EAAa,EAAI,CACnB,EAGMmC,GAAgBC,GAAgB,CACpC,QAAQ,IAAI,8BAA+BA,CAAW,EACtD5B,GAAc4B,CAAW,EACzB9B,EAAe,CAAC,EAChBU,GAAe,EAAI,EACnB,WAAW,IAAMA,GAAe,EAAK,EAAG,GAAI,CAC9C,EAGMqB,GAAgBC,GAAY,CAChC,QAAQ,IAAI,6BAA8BA,CAAO,EACjD5B,GAAkB4B,EAAQ,QAAU,EAAE,EACtC1B,GAAmB0B,EAAQ,YAAc,EAAE,EAC3CxB,GAAuBwB,EAAQ,cAAgB,EAAE,EACjDhC,EAAe,CAAC,CAClB,EAGMiC,GAAuB,CAC3B,CACE,MAAO,aACP,QAAS,CACP,CAAE,MAAO,aAAc,OAAQ,CAAE,OAAQ,YAAY,EACrD,CAAE,MAAO,UAAW,OAAQ,CAAE,OAAQ,SAAS,EAC/C,CAAE,MAAO,cAAe,OAAQ,CAAE,OAAQ,aAAa,EACvD,CAAE,MAAO,aAAc,OAAQ,CAAE,OAAQ,YAAY,CAAE,CACzD,EAEF,CACE,MAAO,uBACP,QAAS,CACP,CAAE,MAAO,qBAAsB,OAAQ,CAAE,aAAc,qBAAqB,EAC5E,CAAE,MAAO,qBAAsB,OAAQ,CAAE,aAAc,qBAAqB,EAC5E,CAAE,MAAO,uBAAwB,OAAQ,CAAE,aAAc,uBAAuB,EAChF,CAAE,MAAO,qBAAsB,OAAQ,CAAE,aAAc,qBAAqB,EAC5E,CAAE,MAAO,mBAAoB,OAAQ,CAAE,aAAc,mBAAmB,EACxE,CAAE,MAAO,qBAAsB,OAAQ,CAAE,aAAc,qBAAqB,EAC5E,CAAE,MAAO,mBAAoB,OAAQ,CAAE,aAAc,mBAAmB,EACxE,CAAE,MAAO,yBAA0B,OAAQ,CAAE,aAAc,yBAAyB,EACpF,CAAE,MAAO,qBAAsB,OAAQ,CAAE,aAAc,qBAAqB,EAC5E,CAAE,MAAO,8BAA+B,OAAQ,CAAE,aAAc,8BAA8B,CAAE,CAClG,CACF,EAGIC,GAAiBC,EAAYC,GAAe,CAChD,UAAW,IAAMX,EAAoD,EACrE,QAAUY,GAAU,QAAQ,MAAM,0BAA2BA,CAAK,CAAA,CACnE,EAEKC,GAAiBH,EAAYI,GAAe,CAChD,UAAW,IAAMd,EAAyD,EAC1E,QAAUY,GAAU,QAAQ,MAAM,0BAA2BA,CAAK,CAAA,CACnE,EAEKG,GAAiBL,EAAYM,GAAe,CAChD,UAAW,IAAMhB,EAAuD,EACxE,QAAUY,GAAU,QAAQ,MAAM,0BAA2BA,CAAK,CAAA,CACnE,EAEKK,EAAuBP,EAC3B,CAAC,CAAE,GAAAQ,EAAI,GAAG1B,KAAW2B,GAAoBD,EAAI1B,CAAI,EACjD,CACE,UAAY4B,GAAmB,CAC7BzD,EAAmByD,CAAc,EACjCrD,EAAeqD,CAAc,EAC7BpB,EAAoE,CACtE,EACA,QAAUY,GAAU,QAAQ,MAAM,iCAAkCA,CAAK,CAAA,CAC3E,EAGIS,EAA2BX,EAC/B,CAAC,CAAE,GAAAQ,EAAI,GAAG1B,KAAW8B,GAAwBJ,EAAI1B,CAAI,EACrD,CACE,UAAY4B,GAAmB,CAC7B,QAAQ,IAAI,wCAAyCA,CAAc,EAEnEzD,EAAmByD,CAAc,EACjCrD,EAAeqD,CAAc,EAC7BlB,GAAiB,wCAAyC,SAAS,EACnEZ,EAAY,kBAAkB,UAAU,CAC1C,EACA,QAAUsB,GAAU,CAClB,QAAQ,MAAM,sCAAuCA,CAAK,EAC1DV,GAAiB,gCAAiC,QAAQ,CAC5D,CAAA,CACF,EAGIqB,EAAwBb,EAC5B,CAAC,CAAE,GAAAQ,EAAI,GAAG1B,KAAWgC,GAAqBN,EAAI1B,CAAI,EAClD,CACE,UAAY4B,GAAmB,CAC7BzD,EAAmByD,CAAc,EACjCrD,EAAeqD,CAAc,EAC7BpB,EAAwE,CAC1E,EACA,QAAUY,GAAU,QAAQ,MAAM,kCAAmCA,CAAK,CAAA,CAC5E,EAGIa,EAAqBf,EACzB,CAAC,CAAE,GAAAQ,EAAI,GAAG1B,KAAWkC,GAAkBR,EAAI1B,CAAI,EAC/C,CACE,UAAY4B,GAAmB,CAC7BzD,EAAmByD,CAAc,EACjCrD,EAAeqD,CAAc,EAC7BpB,EAAgE,CAClE,EACA,QAAUY,GAAU,QAAQ,MAAM,+BAAgCA,CAAK,CAAA,CACzE,EAGIe,GAAe,IAAM,CAEzB,MAAMC,EAAWzC,EAAiB,CAChC,GAAG1C,GACH,WAAY0C,EAAe,GAC3B,KAAM,GAAGA,EAAe,QAAU,UAAU,MAAMA,EAAe,IAAI,GACrE,SAAUA,EAAe,MAAQ,GACjC,aAAcA,EAAe,cAAgB,GAC7C,cAAeA,EAAe,OAAS,GACvC,cAAeA,EAAe,OAAS,EAAA,EACrC1C,GAEJM,EAAkB6E,CAAQ,EAC1BhF,EAAa,EAAI,CACnB,EAEMiF,GAAcC,GAAY,CAC9B/E,EAAkB+E,CAAO,EACzBlF,EAAa,EAAI,CACnB,EAEMmF,GAAgBD,GAAY,CAC5B,OAAO,QAAQ,sDAAsDA,EAAQ,IAAI,IAAI,GACvFf,GAAe,OAAOe,EAAQ,EAAE,CAEpC,EA4BME,GAAqBF,GAAY,CACrC,QAAQ,IAAI,2CAA4CA,CAAO,EAC/D,QAAQ,IAAI,qCAAsCA,GAAA,YAAAA,EAAS,EAAE,EAC7D,QAAQ,IAAI,6CAA8C,OAAOA,GAAA,YAAAA,EAAS,GAAE,EAE5EnE,EAAmBmE,CAAO,EAG1B,MAAMG,EAAqB,CACzB,GAAGH,EAEH,qBAAsBA,EAAQ,sBAAwB,GACtD,oBAAqBA,EAAQ,qBAAuB,GACpD,qBAAsBA,EAAQ,sBAAwB,GACtD,sBAAuBA,EAAQ,uBAAyB,GACxD,mBAAoBA,EAAQ,oBAAsB,GAClD,OAAQA,EAAQ,QAAU,GAC1B,SAAUA,EAAQ,UAAY,SAC9B,QAASA,EAAQ,SAAW,GAC5B,aAAcA,EAAQ,cAAgB,GACtC,cAAeA,EAAQ,eAAiB,GACxC,cAAeA,EAAQ,eAAiB,EAAA,EAG1C,QAAQ,IAAI,mDAAoDG,CAAkB,EAClFlE,EAAekE,CAAkB,EACjCpE,EAAa,MAAM,EACnBJ,EAAiB,EAAI,CACvB,EAEMyE,GAAe,MAAON,GAAa,CACnC9E,EAAe,GACjB,MAAM+D,GAAe,YAAY,CAAE,GAAI/D,EAAe,GAAI,GAAG8E,EAAU,EAEvE,MAAMnB,GAAe,YAAYmB,CAAQ,CAE7C,EAEMO,GAAkBC,GAAW,CAQjC,MAAMC,EAPe,CACnB,OAAU,CAAE,GAAI,UAAW,KAAM,QAAA,EACjC,UAAa,CAAE,GAAI,UAAW,KAAM,WAAA,EACpC,WAAc,CAAE,GAAI,UAAW,KAAM,YAAA,EACrC,UAAa,CAAE,GAAI,SAAU,KAAM,WAAA,CAAY,EAGrBD,CAAM,GAAK,CAAE,GAAI,YAAa,KAAMA,CAAA,EAChE,OAAOE,MAACC,GAAM,GAAIF,EAAO,GAAI,UAAU,eAAgB,WAAO,IAAA,CAAK,CACrE,EAEMG,GAAU,CACd,CACE,OAAQ,KACR,SAAU,KACV,MAAO,MAAA,EAET,CACE,OAAQ,WACR,SAAU,OACV,OAAQ,CAACC,EAAOC,WACb,MAAA,CACC,SAAA,CAAAJ,EAAAA,IAAC,MAAA,CAAI,UAAU,YAAa,SAAAI,EAAI,KAAK,EACpCA,EAAI,UACHC,OAAC,QAAA,CAAM,UAAU,aACf,SAAA,CAAAL,EAAAA,IAACM,GAAA,CAAS,KAAM,GAAI,UAAU,OAAO,EACpCF,EAAI,QAAA,CAAA,CACP,CAAA,CAAA,CAEJ,CAAA,EAGJ,CACE,OAAQ,mBACR,SAAU,eACV,OAAQ,CAACD,EAAOC,IAAQ,CACtB,MAAMG,EAAcH,EAAI,cAAgB,UACxC,IAAII,EAAY,YAGhB,OAAQD,EAAA,CACN,IAAK,qBACHC,EAAY,UACZ,MACF,IAAK,qBACHA,EAAY,UACZ,MACF,IAAK,uBACHA,EAAY,OACZ,MACF,IAAK,qBACHA,EAAY,UACZ,MACF,IAAK,mBACHA,EAAY,OACZ,MACF,IAAK,qBACHA,EAAY,SACZ,MACF,IAAK,mBACHA,EAAY,UACZ,MACF,IAAK,yBACHA,EAAY,UACZ,MACF,IAAK,qBACHA,EAAY,UACZ,MACF,IAAK,8BACHA,EAAY,OACZ,MACF,QACEA,EAAY,WAAA,CAGhB,aACGP,EAAA,CAAM,GAAIO,EAAW,UAAU,YAC7B,SAAAD,EACH,CAEJ,CAAA,EAEF,CACE,OAAQ,UACR,SAAU,eACV,OAAQ,CAACJ,EAAOC,WACb,MAAA,CACC,SAAA,CAAAJ,MAAC,MAAA,CAAI,UAAU,YAAa,SAAAI,EAAI,cAAgB,cAAc,EAC7DA,EAAI,aACHC,OAAC,QAAA,CAAM,UAAU,aAAa,SAAA,CAAA,QAAMD,EAAI,WAAA,CAAA,CAAY,CAAA,CAAA,CAExD,CAAA,EAGJ,CACE,OAAQ,SACR,SAAU,SACV,OAASD,GAAUN,GAAeM,GAAS,QAAQ,CAAA,EAErD,CACE,OAAQ,uBACR,SAAU,WACV,OAAQ,CAACA,EAAOC,IACdC,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACZ,SAAA,CAAAD,EAAI,sBACHC,EAAAA,KAACJ,EAAA,CAAM,GAAG,OAAO,UAAU,YACzB,SAAA,CAAAD,EAAAA,IAACS,EAAA,CAAO,KAAM,GAAI,UAAU,OAAO,EAAE,aAAA,EAEvC,EAEDL,EAAI,qBACHC,EAAAA,KAACJ,GAAM,GAAG,UAAU,UAAU,YAC5B,SAAA,CAAAD,EAAAA,IAACU,EAAA,CAAO,KAAM,GAAI,UAAU,OAAO,EAAE,YAAA,EAEvC,EAED,CAACN,EAAI,sBAAwB,CAACA,EAAI,qBACjCJ,EAAAA,IAACC,EAAA,CAAM,GAAG,YAAY,UAAU,YAAY,SAAA,eAAA,CAE5C,CAAA,CAAA,CAEJ,CAAA,EAGJ,CACE,OAAQ,WACR,SAAU,WACV,OAAQ,CAACE,EAAOC,IACdC,EAAAA,KAAC,MAAA,CAAI,UAAU,QACZ,SAAA,CAAAD,EAAI,cACHJ,EAAAA,IAAC,MAAA,CAAI,eAAC,SAAA,CAAQ,SAAAI,EAAI,aAAa,CAAA,CAAS,EAEzCA,EAAI,eACHJ,EAAAA,IAAC,OAAI,UAAU,aAAc,WAAI,cAAc,EAEhDI,EAAI,eACHJ,EAAAA,IAAC,OAAI,UAAU,aAAc,WAAI,cAAc,EAEhD,CAACI,EAAI,cAAgB,CAACA,EAAI,eAAiB,CAACA,EAAI,eAC/CJ,EAAAA,IAAC,OAAA,CAAK,UAAU,aAAa,SAAA,cAAA,CAAY,CAAA,CAAA,CAE7C,CAAA,EAGJ,CACE,OAAQ,aACR,SAAU,gBACV,OAAQ,CAACG,EAAOC,WACb,MAAA,CACE,SAAA,CAAAA,EAAI,eACHC,OAAC,MAAA,CAAI,UAAU,4BACb,SAAA,CAAAL,EAAAA,IAACU,EAAA,CAAO,KAAM,GAAI,UAAU,kBAAkB,EAC9CV,EAAAA,IAAC,OAAA,CAAM,SAAAI,EAAI,aAAA,CAAc,CAAA,EAC3B,EAEDA,EAAI,kBACHC,OAAC,MAAA,CAAI,UAAU,iCACb,SAAA,CAAAL,EAAAA,IAACS,EAAA,CAAO,KAAM,GAAI,UAAU,kBAAkB,EAC9CT,EAAAA,IAAC,OAAA,CAAK,UAAU,mBAAoB,WAAI,gBAAA,CAAiB,CAAA,CAAA,CAC3D,CAAA,CAAA,CAEJ,CAAA,EAGJ,CACE,OAAQ,iBACR,SAAU,aACV,KAAM,MAAA,CACR,EAGIW,GAAa,CACjB,CACE,KAAM,aACN,MAAO,kBACP,KAAM,SACN,SAAU,GACV,UAASC,GAAA1D,GAAA,YAAAA,EAAM,YAAN,YAAA0D,GAAiB,IAAIC,IAAY,CACxC,MAAOA,EAAQ,GACf,MAAO,GAAGA,EAAQ,IAAI,KAAKA,EAAQ,KAAOA,EAAQ,KAAO,aAAa,GAAA,MACjE,CAAA,EACP,YAAa,8EAAA,EAEf,CACE,KAAM,OACN,MAAO,sBACP,KAAM,OACN,SAAU,GACV,YAAa,gCAAA,EAEf,CACE,KAAM,WACN,MAAO,yBACP,KAAM,OACN,YAAa,oCACb,SAAU,EAAA,EAEZ,CACE,KAAM,eACN,MAAO,sBACP,KAAM,OACN,YAAa,0CACb,YAAa,gDAAA,EAEf,CACE,KAAM,gBACN,MAAO,uBACP,KAAM,OACN,YAAa,qCACb,YAAa,6CAAA,EAEf,CACE,KAAM,gBACN,MAAO,oBACP,KAAM,QACN,YAAa,0BACb,YAAa,2CAAA,EAEf,CACE,KAAM,cACN,MAAO,oBACP,KAAM,SACN,UAASC,GAAA5D,GAAA,YAAAA,EAAM,QAAN,YAAA4D,GAAa,UACpB,CAAC,qBAAsB,gBAAgB,EAAE,SAASC,EAAK,IAAI,GAC3D,IAAIA,IAAS,CACb,MAAOA,EAAK,GACZ,MAAO,GAAGA,EAAK,IAAI,IAAIA,EAAK,QAAQ,EAAA,MAC/B,CAAA,CAAC,EAEV,CACE,KAAM,iBACN,MAAO,6BACP,KAAM,SACN,UAASC,GAAA9D,GAAA,YAAAA,EAAM,QAAN,YAAA8D,GAAa,OAAOD,GAC3B,CAAC,mBAAoB,sBAAuB,aAAa,EAAE,SAASA,EAAK,IAAI,GAC7E,IAAIA,IAAS,CACb,MAAOA,EAAK,GACZ,MAAO,GAAGA,EAAK,IAAI,IAAIA,EAAK,QAAQ,EAAA,MAC/B,CAAA,CAAC,EAEV,CACE,KAAM,uBACN,MAAO,oCACP,KAAM,WACN,YAAa,kEAAA,EAEf,CACE,KAAM,sBACN,MAAO,mCACP,KAAM,WACN,YAAa,qEAAA,CACf,EAIIE,EAAQ1K,EAAAA,QAAQ,IAAM,CAC1B,GAAIgH,EACF,eAAQ,IAAI,qDAAsDA,CAAS,EACpE,CACL,MAAOA,EAAU,OAAS,EAC1B,QAASA,EAAU,SAAW,EAC9B,YAAaA,EAAU,aAAe,EACtC,WAAYA,EAAU,YAAc,EACpC,WAAYA,EAAU,YAAc,CAAA,EAIxC,MAAM2D,GAAWhE,GAAA,YAAAA,EAAM,OAAQ,CAAA,EAC/B,eAAQ,IAAI,uDAAwDgE,CAAQ,EACrE,CACL,MAAOA,EAAS,OAChB,QAASA,EAAS,UAAYC,EAAE,SAAW,QAAQ,EAAE,OACrD,YAAaD,EAAS,UAAYC,EAAE,SAAW,YAAY,EAAE,OAC7D,WAAYD,EAAS,UAAYC,EAAE,SAAW,WAAW,EAAE,OAC3D,WAAYD,EAAS,UAAYC,EAAE,SAAW,WAAW,EAAE,MAAA,CAE/D,EAAG,CAAC5D,EAAWL,CAAI,CAAC,EAEpB,OACE8C,EAAAA,IAACoB,IAAU,MAAK,GAAC,UAAU,OACzB,SAAAf,EAAAA,KAAC,MAAA,CAAI,UAAU,UACb,SAAA,CAAAL,EAAAA,IAACqB,GAAA,CACC,MAAM,uBACN,SAAUxE,EAAiB,wBAAwBA,EAAe,IAAI,GAAK,kDAC3E,KAAM4D,EACN,QACEJ,EAAAA,KAAC,MAAA,CAAI,UAAU,eACZ,SAAA,CAAAxD,GACCwD,EAAAA,KAACJ,EAAA,CAAM,GAAG,OAAO,UAAU,sCACzB,SAAA,CAAAD,EAAAA,IAACU,EAAA,CAAO,UAAU,MAAA,CAAO,EAAE,YACjB7D,EAAe,IAAA,EAC3B,EAEFwD,EAAAA,KAACiB,EAAA,CAAO,QAAQ,UAAU,QAASjC,GACjC,SAAA,CAAAW,EAAAA,IAACuB,GAAA,CAAO,UAAU,MAAA,CAAO,EACxB1E,EAAiB,iBAAmB,gBAAA,CAAA,CACvC,CAAA,CAAA,CACF,CAAA,CAAA,EAKJwD,EAAAA,KAACmB,GAAA,CAAI,UAAU,WACb,SAAA,CAAAxB,EAAAA,IAACyB,EAAA,CAAI,GAAI,EAAG,GAAI,EACd,SAAAzB,EAAAA,IAAC0B,EAAA,CACC,MAAM,kBACN,MAAOT,EAAM,MACb,KAAMR,EACN,MAAM,UACN,SAAS,wBACT,QAASjD,CAAA,CAAA,EAEb,EACAwC,EAAAA,IAACyB,EAAA,CAAI,GAAI,EAAG,GAAI,EACd,SAAAzB,EAAAA,IAAC0B,EAAA,CACC,MAAM,oBACN,MAAOT,EAAM,QACb,KAAMU,GACN,MAAM,UACN,SAAS,gBACT,QAASnE,CAAA,CAAA,EAEb,EACAwC,EAAAA,IAACyB,EAAA,CAAI,GAAI,EAAG,GAAI,EACd,SAAAzB,EAAAA,IAAC0B,EAAA,CACC,MAAM,cACN,MAAOT,EAAM,YACb,KAAMU,GACN,MAAM,OACN,SAAS,cACT,QAASnE,CAAA,CAAA,EAEb,EACAwC,EAAAA,IAACyB,EAAA,CAAI,GAAI,EAAG,GAAI,EACd,SAAAzB,EAAAA,IAAC0B,EAAA,CACC,MAAM,aACN,MAAOT,EAAM,WACb,KAAMW,GACN,MAAM,UACN,SAAS,cACT,QAASpE,CAAA,CAAA,CACX,CACF,CAAA,EACF,EAGA6C,EAAAA,KAACwB,EAAA,CAAK,UAAU,qBACd,SAAA,CAAA7B,EAAAA,IAAC6B,EAAK,OAAL,CAAY,UAAU,yBACrB,SAAAxB,EAAAA,KAAC,MAAA,CAAI,UAAU,oDACb,SAAA,CAAAA,EAAAA,KAAC,KAAA,CAAG,UAAU,OACZ,SAAA,CAAAL,EAAAA,IAACS,EAAA,CAAO,UAAU,mBAAA,CAAoB,EAAE,oBAAA,EAE1C,EACAJ,EAAAA,KAAC,MAAA,CAAI,UAAU,kCACb,SAAA,CAAAL,EAAAA,IAACsB,EAAA,CACC,QAAQ,oBACR,KAAK,KACL,QAAS,IAAMlE,GAAA,EACf,UAAU,4BACV,MAAM,mBAEN,eAAC0E,GAAA,CAAY,UAAW,GAAG3E,GAAY,WAAa,EAAE,EAAA,CAAI,CAAA,CAAA,SAE3D8C,EAAA,CAAM,GAAG,QAAQ,KAAK,OAAO,UAAU,YACrC,SAAA,CAAAgB,EAAM,MAAM,YAAA,CAAA,CACf,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CACF,EACAjB,EAAAA,IAAC6B,EAAK,KAAL,CAAU,UAAU,MACnB,SAAA7B,EAAAA,IAAC+B,GAAA,CACC,MAAM7E,GAAA,YAAAA,EAAM,OAAQ,CAAA,EACpB,QAAAgD,GACA,QAAS/C,IAAaT,GACtB,OAAQ6C,GACR,SAAUE,GACV,QAAS,CACP,CAAE,MAAO,YAAa,KAAMuC,GAAO,QAAStC,GAAmB,QAAS,iBAAA,EACxE,CAAE,MAAO,WAAY,KAAMuC,GAAU,QAASxC,GAAc,QAAS,gBAAA,CAAiB,EAExF,aAAa,+BAEb,YAAYvC,GAAA,YAAAA,EAAM,QAAS,EAC3B,aAAc,GACd,YAAAlB,EACA,aAAcC,EACd,SAAU6B,GACV,SAAUE,GAEV,cAAeE,EAAA,CAAA,CACjB,CACF,CAAA,EACF,EAEF8B,EAAAA,IAACkC,GAAA,CACC,KAAM7H,EACN,OAAQ,IAAMC,EAAa,EAAK,EAChC,MAAOE,GAAA,MAAAA,EAAgB,GAAK,kBAAoB,iBAChD,KAAMA,GAAkBL,GACxB,OAAQwG,GACR,SAAUf,GACV,QAASzB,GAAe,WAAaI,GAAe,UACpD,WAAY/D,GAAA,MAAAA,EAAgB,GAAK,aAAe,OAAA,CAAA,EAIlDwF,EAAAA,IAACkC,GAAA,CACC,KAAMhH,EACN,OAAQ,IAAMC,EAAiB,EAAK,EACpC,MAAO,yBAAwBC,GAAA,YAAAA,EAAiB,OAAQ,EAAE,GAC1D,KAAMI,EACN,OAAQ,CACN,CACE,KAAM,qBACN,MAAO,uBACP,KAAM,SACN,OAASgE,GACPa,EAAAA,KAAC8B,GAAA,CACC,UAAW7G,EACX,SAAW8G,GAAM7G,EAAa6G,CAAC,EAC/B,UAAU,OAGV,SAAA,CAAApC,MAACqC,EAAA,CAAI,SAAS,OAAO,aAClB,OAAA,CACC,SAAA,CAAArC,EAAAA,IAACgC,GAAA,CAAM,UAAU,MAAA,CAAO,EAAE,KAAA,CAAA,CAE5B,EAEA,SAAA3B,EAAAA,KAAC,MAAA,CAAI,UAAU,UACb,SAAA,CAAAL,EAAAA,IAAC,OAAI,UAAU,WACb,SAAAK,EAAAA,KAAC,MAAA,CAAI,UAAU,2BACb,SAAA,CAAAA,EAAAA,KAAC,KAAA,CAAG,UAAU,oBACZ,SAAA,CAAAL,EAAAA,IAACS,EAAA,CAAO,UAAU,MAAA,CAAO,EAAE,iBAAA,EAE7B,EACAJ,EAAAA,KAAC,MAAA,CAAI,UAAU,OACb,SAAA,CAAAL,EAAAA,IAAC,UAAO,SAAA,KAAA,CAAG,EAAS,IAAER,EAAQ,EAAA,EAChC,EACAa,EAAAA,KAAC,MAAA,CAAI,UAAU,OACb,SAAA,CAAAL,EAAAA,IAAC,UAAO,SAAA,SAAA,CAAO,EAAS,IAAER,EAAQ,IAAA,EACpC,EACAa,EAAAA,KAAC,MAAA,CAAI,UAAU,OACb,SAAA,CAAAL,EAAAA,IAAC,UAAO,SAAA,YAAA,CAAU,EAAS,IAAER,EAAQ,QAAA,EACvC,EACAa,EAAAA,KAAC,MAAA,CAAI,UAAU,OACb,SAAA,CAAAL,EAAAA,IAAC,UAAO,SAAA,OAAA,CAAK,QACZC,EAAA,CAAM,GAAG,OAAO,UAAU,OAAQ,WAAQ,YAAA,CAAa,CAAA,EAC1D,EACAI,EAAAA,KAAC,MAAA,CAAI,UAAU,OACb,SAAA,CAAAL,EAAAA,IAAC,UAAO,SAAA,SAAA,CAAO,QACdC,EAAA,CAAM,GAAG,UAAU,UAAU,OAAQ,WAAQ,MAAA,CAAO,CAAA,CAAA,CACvD,CAAA,CAAA,CACF,CAAA,CACF,QACC,MAAA,CAAI,UAAU,WACb,SAAAI,EAAAA,KAAC,MAAA,CAAI,UAAU,2BACb,SAAA,CAAAA,EAAAA,KAAC,KAAA,CAAG,UAAU,oBACZ,SAAA,CAAAL,EAAAA,IAACU,EAAA,CAAO,UAAU,MAAA,CAAO,EAAE,yBAAA,EAE7B,EACAL,EAAAA,KAAC,MAAA,CAAI,UAAU,OACb,SAAA,CAAAL,EAAAA,IAAC,UAAO,SAAA,UAAA,CAAQ,EAAS,IAAER,EAAQ,YAAA,EACrC,EACAa,EAAAA,KAAC,MAAA,CAAI,UAAU,OACb,SAAA,CAAAL,EAAAA,IAAC,UAAO,SAAA,MAAA,CAAI,EAAS,IAAER,EAAQ,WAAA,EACjC,EACAa,EAAAA,KAAC,MAAA,CAAI,UAAU,OACb,SAAA,CAAAL,EAAAA,IAAC,UAAO,SAAA,WAAA,CAAS,EAAS,IAAER,EAAQ,cAAgB,cAAA,EACtD,EACAa,EAAAA,KAAC,MAAA,CAAI,UAAU,OACb,SAAA,CAAAL,EAAAA,IAAC,UAAO,SAAA,WAAA,CAAS,EAAS,IAAER,EAAQ,eAAiB,cAAA,EACvD,EACAa,EAAAA,KAAC,MAAA,CAAI,UAAU,OACb,SAAA,CAAAL,EAAAA,IAAC,UAAO,SAAA,QAAA,CAAM,EAAS,IAAER,EAAQ,eAAiB,WAAA,CAAA,CACpD,CAAA,CAAA,CACF,CAAA,CACF,QACC,MAAA,CAAI,UAAU,WACb,SAAAa,EAAAA,KAAC,MAAA,CAAI,UAAU,2BACb,SAAA,CAAAA,EAAAA,KAAC,KAAA,CAAG,UAAU,oBACZ,SAAA,CAAAL,EAAAA,IAACsC,GAAA,CAAW,UAAU,MAAA,CAAO,EAAE,sBAAA,EAEjC,EACAjC,EAAAA,KAAC,MAAA,CAAI,UAAU,OACb,SAAA,CAAAL,EAAAA,IAAC,UAAO,SAAA,cAAA,CAAY,EACnBR,EAAQ,qBACPQ,EAAAA,IAACC,EAAA,CAAM,GAAG,OAAO,UAAU,OAAO,SAAA,WAAA,CAAS,QAE1CA,EAAA,CAAM,GAAG,YAAY,UAAU,OAAO,SAAA,cAAA,CAAY,CAAA,EAEvD,EACAI,EAAAA,KAAC,MAAA,CAAI,UAAU,OACb,SAAA,CAAAL,EAAAA,IAAC,UAAO,SAAA,aAAA,CAAW,EAClBR,EAAQ,oBACPQ,EAAAA,IAACC,EAAA,CAAM,GAAG,UAAU,UAAU,OAAO,SAAA,WAAA,CAAS,QAE7CA,EAAA,CAAM,GAAG,YAAY,UAAU,OAAO,SAAA,cAAA,CAAY,CAAA,EAEvD,EACAI,EAAAA,KAAC,MAAA,CAAI,UAAU,OACb,SAAA,CAAAL,EAAAA,IAAC,UAAO,SAAA,aAAA,CAAW,QAClBC,EAAA,CAAM,GAAG,OAAO,UAAU,OAAQ,WAAQ,kBAAA,CAAmB,CAAA,EAChE,EACAI,EAAAA,KAAC,MAAA,CAAI,UAAU,OACb,SAAA,CAAAL,EAAAA,IAAC,UAAO,SAAA,aAAA,CAAW,QAClBC,EAAA,CAAM,GAAG,UAAU,UAAU,OAAQ,WAAQ,iBAAA,CAAkB,CAAA,CAAA,CAClE,CAAA,CAAA,CACF,CAAA,CACF,QACC,MAAA,CAAI,UAAU,WACb,SAAAI,EAAAA,KAAC,MAAA,CAAI,UAAU,2BACb,SAAA,CAAAA,EAAAA,KAAC,KAAA,CAAG,UAAU,iBACZ,SAAA,CAAAL,EAAAA,IAACuC,GAAA,CAAQ,UAAU,MAAA,CAAO,EAAE,cAAA,EAE9B,EACAlC,EAAAA,KAAC,MAAA,CAAI,UAAU,OACb,SAAA,CAAAL,EAAAA,IAAC,UAAO,SAAA,WAAA,CAAS,EAAS,IAAER,EAAQ,eAAiB,aAAA,EACvD,EACAa,EAAAA,KAAC,MAAA,CAAI,UAAU,OACb,SAAA,CAAAL,EAAAA,IAAC,UAAO,SAAA,cAAA,CAAY,EAAS,IAAER,EAAQ,kBAAoB,aAAA,EAC7D,EACAa,EAAAA,KAAC,MAAA,CAAI,UAAU,OACb,SAAA,CAAAL,EAAAA,IAAC,UAAO,SAAA,iBAAA,CAAe,EAAS,IAAE,IAAI,KAAKR,EAAQ,UAAU,EAAE,mBAAA,CAAmB,EACpF,EACAa,EAAAA,KAAC,MAAA,CAAI,UAAU,OACb,SAAA,CAAAL,EAAAA,IAAC,UAAO,SAAA,uBAAA,CAAqB,EAAS,IAAE,IAAI,KAAKR,EAAQ,UAAU,EAAE,mBAAA,CAAmB,CAAA,CAC1F,CAAA,CAAA,CACF,CAAA,CACF,EACCA,EAAQ,cACPQ,EAAAA,IAAC,MAAA,CAAI,UAAU,SACb,SAAAK,EAAAA,KAAC,MAAA,CAAI,UAAU,qBACb,SAAA,CAAAA,EAAAA,KAAC,KAAA,CAAG,UAAU,kBACZ,SAAA,CAAAL,EAAAA,IAACwC,GAAA,CAAgB,UAAU,MAAA,CAAO,EAAE,kBAAA,EAEtC,EACAxC,EAAAA,IAAC,IAAA,CAAE,UAAU,OAAQ,WAAQ,YAAA,CAAa,CAAA,CAAA,CAC5C,CAAA,CACF,CAAA,CAAA,CAEJ,CAAA,CACF,QAGCqC,EAAA,CAAI,SAAS,OAAO,aAClB,OAAA,CACC,SAAA,CAAArC,EAAAA,IAACyC,GAAA,CAAO,UAAU,MAAA,CAAO,EAAE,QAAA,CAAA,CAE7B,EAEA,SAAApC,EAAAA,KAAC,MAAA,CAAI,UAAU,UACb,SAAA,CAAAL,EAAAA,IAAC,OAAI,UAAU,WACb,SAAAK,EAAAA,KAAC,MAAA,CAAI,UAAU,OACb,SAAA,CAAAL,EAAAA,IAAC,QAAA,CAAM,UAAU,aAAa,SAAA,sBAAmB,EACjDA,EAAAA,IAAC,QAAA,CACC,KAAK,OACL,UAAU,eACV,MAAOxE,EAAY,MAAQ,GAC3B,SAAWvD,GAAMwD,EAAe,CAAC,GAAGD,EAAa,KAAMvD,EAAE,OAAO,KAAA,CAAM,CAAA,CAAA,CACxE,CAAA,CACF,CAAA,CACF,QACC,MAAA,CAAI,UAAU,WACb,SAAAoI,EAAAA,KAAC,MAAA,CAAI,UAAU,OACb,SAAA,CAAAL,EAAAA,IAAC,QAAA,CAAM,UAAU,aAAa,SAAA,YAAS,EACvCA,EAAAA,IAAC,QAAA,CACC,KAAK,OACL,UAAU,eACV,MAAOxE,EAAY,UAAY,GAC/B,SAAWvD,GAAMwD,EAAe,CAAC,GAAGD,EAAa,SAAUvD,EAAE,OAAO,KAAA,CAAM,CAAA,CAAA,CAC5E,CAAA,CACF,CAAA,CACF,QACC,MAAA,CAAI,UAAU,WACb,SAAAoI,EAAAA,KAAC,MAAA,CAAI,UAAU,OACb,SAAA,CAAAL,EAAAA,IAAC,QAAA,CAAM,UAAU,aAAa,SAAA,sBAAmB,EACjDA,EAAAA,IAAC,QAAA,CACC,KAAK,OACL,UAAU,eACV,MAAOxE,EAAY,cAAgB,GACnC,SAAWvD,GAAM,CACf,QAAQ,IAAI,4BAA6BA,EAAE,OAAO,KAAK,EACvDwD,EAAe,CAAC,GAAGD,EAAa,aAAcvD,EAAE,OAAO,MAAM,CAC/D,CAAA,CAAA,CACF,CAAA,CACF,CAAA,CACF,QACC,MAAA,CAAI,UAAU,WACb,SAAAoI,EAAAA,KAAC,MAAA,CAAI,UAAU,OACb,SAAA,CAAAL,EAAAA,IAAC,QAAA,CAAM,UAAU,aAAa,SAAA,uBAAoB,EAClDA,EAAAA,IAAC,QAAA,CACC,KAAK,OACL,UAAU,eACV,MAAOxE,EAAY,eAAiB,GACpC,SAAWvD,GAAMwD,EAAe,CAAC,GAAGD,EAAa,cAAevD,EAAE,OAAO,KAAA,CAAM,CAAA,CAAA,CACjF,CAAA,CACF,CAAA,CACF,QACC,MAAA,CAAI,UAAU,SACb,SAAAoI,EAAAA,KAAC,MAAA,CAAI,UAAU,OACb,SAAA,CAAAL,EAAAA,IAAC,QAAA,CAAM,UAAU,aAAa,SAAA,oBAAiB,EAC/CA,EAAAA,IAAC,QAAA,CACC,KAAK,QACL,UAAU,eACV,MAAOxE,EAAY,eAAiB,GACpC,SAAWvD,GAAMwD,EAAe,CAAC,GAAGD,EAAa,cAAevD,EAAE,OAAO,KAAA,CAAM,CAAA,CAAA,CACjF,CAAA,CACF,CAAA,CACF,EACA+H,EAAAA,IAAC,MAAA,CAAI,UAAU,SACb,SAAAA,EAAAA,IAACsB,EAAA,CACC,QAAQ,UACR,QAAS,IAAM,CACb,MAAMoB,EAAYtH,GAAA,YAAAA,EAAiB,GACnC,GAAI,CAACsH,EAAW,CACd,QAAQ,MAAM,mCAAmC,EACjD,MACF,CAEA3D,EAAyB,OAAO,CAC9B,GAAI2D,EACJ,qBAAsBlH,EAAY,sBAAwB,GAC1D,oBAAqBA,EAAY,qBAAuB,GACxD,qBAAsBA,EAAY,sBAAwB,GAC1D,sBAAuBA,EAAY,uBAAyB,GAC5D,mBAAoBA,EAAY,oBAAsB,EAAA,CACvD,EACDL,EAAiB,EAAK,CACxB,EACA,SAAU4D,EAAyB,UAElC,SAAAA,EAAyB,UAAY,eAAiB,oBAAA,CAAA,CACzD,CACF,CAAA,CAAA,CACF,CAAA,CACF,QAGCsD,EAAA,CAAI,SAAS,SAAS,aACpB,OAAA,CACC,SAAA,CAAArC,EAAAA,IAACsC,GAAA,CAAW,UAAU,MAAA,CAAO,EAAE,QAAA,CAAA,CAEjC,EAEA,SAAAjC,EAAAA,KAAC,MAAA,CAAI,UAAU,UACb,SAAA,CAAAL,EAAAA,IAAC,OAAI,UAAU,WACb,SAAAK,EAAAA,KAAC,MAAA,CAAI,UAAU,OACb,SAAA,CAAAL,EAAAA,IAAC,QAAA,CAAM,UAAU,aAAa,SAAA,sBAAmB,EACjDK,EAAAA,KAAC,SAAA,CACC,UAAU,cACV,MAAO7E,EAAY,QAAU,GAC7B,SAAWvD,GAAMwD,EAAe,CAAC,GAAGD,EAAa,OAAQvD,EAAE,OAAO,MAAM,EAExE,SAAA,CAAA+H,EAAAA,IAAC,SAAA,CAAO,MAAM,YAAY,SAAA,YAAS,EACnCA,EAAAA,IAAC,SAAA,CAAO,MAAM,aAAa,SAAA,aAAU,EACrCA,EAAAA,IAAC,SAAA,CAAO,MAAM,aAAa,SAAA,aAAU,EACrCA,EAAAA,IAAC,SAAA,CAAO,MAAM,UAAU,SAAA,UAAO,EAC/BA,EAAAA,IAAC,SAAA,CAAO,MAAM,YAAY,SAAA,WAAA,CAAS,CAAA,CAAA,CAAA,CACrC,CAAA,CACF,CAAA,CACF,QACC,MAAA,CAAI,UAAU,WACb,SAAAK,EAAAA,KAAC,MAAA,CAAI,UAAU,OACb,SAAA,CAAAL,EAAAA,IAAC,QAAA,CAAM,UAAU,aAAa,SAAA,yBAAsB,EACpDK,EAAAA,KAAC,SAAA,CACC,UAAU,cACV,MAAO7E,EAAY,oBAAsB,GACzC,SAAWvD,GAAMwD,EAAe,CAAC,GAAGD,EAAa,mBAAoBvD,EAAE,OAAO,MAAM,EAEpF,SAAA,CAAA+H,EAAAA,IAAC,SAAA,CAAO,MAAM,eAAe,SAAA,eAAY,EACzCA,EAAAA,IAAC,SAAA,CAAO,MAAM,YAAY,SAAA,YAAS,EACnCA,EAAAA,IAAC,SAAA,CAAO,MAAM,aAAa,SAAA,aAAU,EACrCA,EAAAA,IAAC,SAAA,CAAO,MAAM,aAAa,SAAA,aAAU,EACrCA,EAAAA,IAAC,SAAA,CAAO,MAAM,UAAU,SAAA,UAAO,EAC/BA,EAAAA,IAAC,SAAA,CAAO,MAAM,YAAY,SAAA,WAAA,CAAS,CAAA,CAAA,CAAA,CACrC,CAAA,CACF,CAAA,CACF,QACC,MAAA,CAAI,UAAU,WACb,SAAAK,EAAAA,KAAC,MAAA,CAAI,UAAU,OACb,SAAA,CAAAL,EAAAA,IAAC,QAAA,CAAM,UAAU,aAAa,SAAA,uBAAoB,EAClDK,EAAAA,KAAC,SAAA,CACC,UAAU,cACV,MAAO7E,EAAY,mBAAqB,GACxC,SAAWvD,GAAMwD,EAAe,CAAC,GAAGD,EAAa,kBAAmBvD,EAAE,OAAO,MAAM,EAEnF,SAAA,CAAA+H,EAAAA,IAAC,SAAA,CAAO,MAAM,eAAe,SAAA,eAAY,EACzCA,EAAAA,IAAC,SAAA,CAAO,MAAM,YAAY,SAAA,YAAS,EACnCA,EAAAA,IAAC,SAAA,CAAO,MAAM,aAAa,SAAA,aAAU,EACrCA,EAAAA,IAAC,SAAA,CAAO,MAAM,aAAa,SAAA,aAAU,EACrCA,EAAAA,IAAC,SAAA,CAAO,MAAM,UAAU,SAAA,UAAO,EAC/BA,EAAAA,IAAC,SAAA,CAAO,MAAM,YAAY,SAAA,WAAA,CAAS,CAAA,CAAA,CAAA,CACrC,CAAA,CACF,CAAA,CACF,QACC,MAAA,CAAI,UAAU,SACb,SAAAK,EAAAA,KAAC,MAAA,CAAI,UAAU,OACb,SAAA,CAAAL,EAAAA,IAAC,QAAA,CAAM,UAAU,aAAa,SAAA,mBAAgB,EAC9CA,EAAAA,IAAC,WAAA,CACC,UAAU,eACV,KAAK,IACL,MAAOxE,EAAY,cAAgB,GACnC,SAAWvD,GAAMwD,EAAe,CAAC,GAAGD,EAAa,aAAcvD,EAAE,OAAO,MAAM,EAC9E,YAAY,iDAAA,CAAA,CACd,CAAA,CACF,CAAA,CACF,EACA+H,EAAAA,IAAC,MAAA,CAAI,UAAU,SACb,SAAAA,EAAAA,IAACsB,EAAA,CACC,QAAQ,UACR,QAAS,IAAM,CACb,MAAMoB,EAAYtH,GAAA,YAAAA,EAAiB,GACnC,GAAI,CAACsH,EAAW,CACd,QAAQ,MAAM,mCAAmC,EACjD,MACF,CAEA/D,EAAqB,OAAO,CAAE,GAAI+D,EAAW,GAAGlH,EAAa,EAC7DL,EAAiB,EAAK,CACxB,EACA,SAAUwD,EAAqB,UAE9B,SAAAA,EAAqB,UAAY,kBAAoB,mBAAA,CAAA,CACxD,CACF,CAAA,CAAA,CACF,CAAA,CACF,QAGC0D,EAAA,CAAI,SAAS,aAAa,aACxB,OAAA,CACC,SAAA,CAAArC,EAAAA,IAAC2C,GAAA,CAAS,UAAU,MAAA,CAAO,EAAE,YAAA,CAAA,CAE/B,EAEA,SAAAtC,EAAAA,KAAC,MAAA,CAAI,UAAU,UACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,SACb,SAAA,CAAAL,EAAAA,IAAC,KAAA,CAAG,UAAU,OAAO,SAAA,0BAAuB,EAC5CK,EAAAA,KAAC,MAAA,CAAI,UAAU,aACb,SAAA,CAAAL,EAAAA,IAAC,QAAA,CACC,UAAU,mBACV,KAAK,WACL,GAAG,kBACH,QAASxE,EAAY,sBAAwB,GAC7C,SAAWvD,GAAM,CACf,QAAQ,IAAI,oCAAqCA,EAAE,OAAO,OAAO,EACjEwD,EAAe,CAAC,GAAGD,EAAa,qBAAsBvD,EAAE,OAAO,QAAQ,CACzE,CAAA,CAAA,QAED,QAAA,CAAM,UAAU,mBAAmB,QAAQ,kBAAkB,SAAA,aAAA,CAE9D,CAAA,EACF,EACAoI,EAAAA,KAAC,MAAA,CAAI,UAAU,aACb,SAAA,CAAAL,EAAAA,IAAC,QAAA,CACC,UAAU,mBACV,KAAK,WACL,GAAG,iBACH,QAASxE,EAAY,qBAAuB,GAC5C,SAAWvD,GAAMwD,EAAe,CAAC,GAAGD,EAAa,oBAAqBvD,EAAE,OAAO,OAAA,CAAQ,CAAA,CAAA,QAExF,QAAA,CAAM,UAAU,mBAAmB,QAAQ,iBAAiB,SAAA,YAAA,CAE7D,CAAA,EACF,EACAoI,EAAAA,KAAC,MAAA,CAAI,UAAU,aACb,SAAA,CAAAL,EAAAA,IAAC,QAAA,CACC,UAAU,mBACV,KAAK,WACL,GAAG,kBACH,QAASxE,EAAY,sBAAwB,GAC7C,SAAWvD,GAAMwD,EAAe,CAAC,GAAGD,EAAa,qBAAsBvD,EAAE,OAAO,OAAA,CAAQ,CAAA,CAAA,QAEzF,QAAA,CAAM,UAAU,mBAAmB,QAAQ,kBAAkB,SAAA,aAAA,CAE9D,CAAA,EACF,EACAoI,EAAAA,KAAC,MAAA,CAAI,UAAU,aACb,SAAA,CAAAL,EAAAA,IAAC,QAAA,CACC,UAAU,mBACV,KAAK,WACL,GAAG,mBACH,QAASxE,EAAY,uBAAyB,GAC9C,SAAWvD,GAAMwD,EAAe,CAAC,GAAGD,EAAa,sBAAuBvD,EAAE,OAAO,OAAA,CAAQ,CAAA,CAAA,QAE1F,QAAA,CAAM,UAAU,mBAAmB,QAAQ,mBAAmB,SAAA,cAAA,CAE/D,CAAA,EACF,EACAoI,EAAAA,KAAC,MAAA,CAAI,UAAU,aACb,SAAA,CAAAL,EAAAA,IAAC,QAAA,CACC,UAAU,mBACV,KAAK,WACL,GAAG,gBACH,QAASxE,EAAY,oBAAsB,GAC3C,SAAWvD,GAAMwD,EAAe,CAAC,GAAGD,EAAa,mBAAoBvD,EAAE,OAAO,OAAA,CAAQ,CAAA,CAAA,QAEvF,QAAA,CAAM,UAAU,mBAAmB,QAAQ,gBAAgB,SAAA,WAAA,CAE5D,CAAA,CAAA,CACF,CAAA,EACF,EACA+H,EAAAA,IAAC,MAAA,CAAI,UAAU,SACb,SAAAA,EAAAA,IAACsB,EAAA,CACC,QAAQ,OACR,QAAS,IAAM,CACb,QAAQ,IAAI,mBAAoBlG,CAAe,EAC/C,QAAQ,IAAI,sBAAuBA,GAAA,YAAAA,EAAiB,EAAE,EACtD,QAAQ,IAAI,eAAgBI,CAAW,EAEvC,MAAMkH,EAAYtH,GAAA,YAAAA,EAAiB,GACnC,GAAI,CAACsH,EAAW,CACd,QAAQ,MAAM,mCAAmC,EACjD,MACF,CAEA3D,EAAyB,OAAO,CAC9B,GAAI2D,EACJ,qBAAsBlH,EAAY,sBAAwB,GAC1D,oBAAqBA,EAAY,qBAAuB,GACxD,qBAAsBA,EAAY,sBAAwB,GAC1D,sBAAuBA,EAAY,uBAAyB,GAC5D,mBAAoBA,EAAY,oBAAsB,EAAA,CACvD,CAEH,EACA,SAAUuD,EAAyB,UAElC,SAAAA,EAAyB,UAAY,eAAiB,oBAAA,CAAA,CACzD,CACF,CAAA,CAAA,CACF,CAAA,CACF,QAGCsD,EAAA,CAAI,SAAS,UAAU,aACrB,OAAA,CACC,SAAA,CAAArC,EAAAA,IAACwC,GAAA,CAAgB,UAAU,MAAA,CAAO,EAAE,WAAA,CAAA,CAEtC,EAEA,SAAAnC,EAAAA,KAAC,MAAA,CAAI,UAAU,UACb,SAAA,CAAAL,EAAAA,IAAC,OAAI,UAAU,SACb,SAAAK,EAAAA,KAAC,MAAA,CAAI,UAAU,OACb,SAAA,CAAAL,EAAAA,IAAC,QAAA,CAAM,UAAU,aAAa,SAAA,gCAA6B,EAC3DA,EAAAA,IAAC,WAAA,CACC,UAAU,eACV,KAAK,IACL,MAAOxE,EAAY,SAAW,GAC9B,SAAWvD,GAAMwD,EAAe,CAAC,GAAGD,EAAa,QAASvD,EAAE,OAAO,MAAM,EACzE,YAAY,8CAAA,CAAA,CACd,CAAA,CACF,CAAA,CACF,EACA+H,EAAAA,IAAC,MAAA,CAAI,UAAU,SACb,SAAAA,EAAAA,IAACsB,EAAA,CACC,QAAQ,UACR,QAAS,IAAM,CACb,MAAMoB,EAAYtH,GAAA,YAAAA,EAAiB,GACnC,GAAI,CAACsH,EAAW,CACd,QAAQ,MAAM,mCAAmC,EACjD,MACF,CAEAzD,EAAsB,OAAO,CAC3B,GAAIyD,EACJ,QAASlH,EAAY,SAAW,EAAA,CACjC,CAEH,EACA,SAAUyD,EAAsB,UAE/B,SAAAA,EAAsB,UAAY,eAAiB,mBAAA,CAAA,CACtD,CACF,CAAA,CAAA,CACF,CAAA,CACF,QAGCoD,EAAA,CAAI,SAAS,OAAO,aAClB,OAAA,CACC,SAAA,CAAArC,EAAAA,IAAC4C,GAAA,CAAQ,UAAU,MAAA,CAAO,EAAE,QAAA,EAE9B,EAEA,SAAA5C,MAAC,MAAA,CAAI,UAAU,UACb,SAAAA,EAAAA,IAAC,MAAA,CAAI,UAAU,SACb,SAAAK,EAAAA,KAAC,MAAA,CAAI,UAAU,cACb,SAAA,CAAAL,EAAAA,IAAC,KAAA,CAAG,UAAU,OAAO,SAAA,kBAAe,EACpCA,EAAAA,IAAC,IAAA,CAAE,UAAU,kBAAkB,SAAA,kEAE/B,EACAK,EAAAA,KAAC,MAAA,CAAI,UAAU,OACb,SAAA,CAAAL,EAAAA,IAAC,QAAA,CAAM,UAAU,aAAa,SAAA,YAAS,EACvCK,EAAAA,KAAC,SAAA,CACC,UAAU,cACV,MAAO7E,EAAY,UAAY,SAC/B,SAAWvD,GAAMwD,EAAe,CAAC,GAAGD,EAAa,SAAUvD,EAAE,OAAO,MAAM,EAE1E,SAAA,CAAA+H,EAAAA,IAAC,SAAA,CAAO,MAAM,MAAM,SAAA,OAAI,EACxBA,EAAAA,IAAC,SAAA,CAAO,MAAM,SAAS,SAAA,SAAM,EAC7BA,EAAAA,IAAC,SAAA,CAAO,MAAM,OAAO,SAAA,OAAI,EACzBA,EAAAA,IAAC,SAAA,CAAO,MAAM,SAAS,SAAA,SAAA,CAAO,CAAA,CAAA,CAAA,CAChC,EACF,EACAK,EAAAA,KAACiB,EAAA,CACC,QAAQ,UACR,KAAK,KACL,QAAS,IAAM,CACb,MAAMoB,EAAYtH,GAAA,YAAAA,EAAiB,GACnC,GAAI,CAACsH,EAAW,CACd,QAAQ,MAAM,mCAAmC,EACjD,MACF,CAEAvD,EAAmB,OAAO,CACxB,GAAIuD,EACJ,OAAQ,CAAClH,EAAY,OACrB,SAAUA,EAAY,UAAY,QAAA,CACnC,EACDL,EAAiB,EAAK,CACxB,EACA,SAAUgE,EAAmB,UAE7B,SAAA,CAAAa,EAAAA,IAAC4C,GAAA,CAAQ,UAAU,MAAA,CAAO,EACzBzD,EAAmB,UAAY,gBAAmB3D,EAAY,OAAS,qBAAuB,iBAAA,CAAA,CAAA,CACjG,EACF,CAAA,CACF,EACF,CAAA,CACF,CAAA,CAAA,CAAA,CACF,CAEJ,EAEF,SAAU,IAAML,EAAiB,EAAK,EACtC,WAAW,SACX,KAAK,IAAA,CAAA,EAIP6E,EAAAA,IAAChG,GAAA,CAAe,SAAS,UAAU,UAAU,MAC3C,SAAAqG,EAAAA,KAAC9H,GAAA,CACC,KAAMmD,EACN,QAAS,IAAMC,EAAa,EAAK,EACjC,MAAO,IACP,SAAQ,GACR,GAAIG,EAEJ,SAAA,CAAAkE,EAAAA,IAACzH,GAAM,OAAN,CACC,SAAAyH,EAAAA,IAAC,SAAA,CAAO,UAAU,UACf,SAAAlE,IAAiB,UAAY,UAAY,SAAA,CAC5C,EACF,QACCvD,GAAM,KAAN,CAAW,UAAU,aACnB,SAAAqD,CAAA,CACH,CAAA,CAAA,CAAA,CACF,CACF,CAAA,CAAA,CACA,CAAA,CACF,CAEJ","x_google_ignoreList":[0,1,2,3,4,5,6,7]}