{"version":3,"file":"Clientes-BwY3ghh_.js","sources":["../../src/pages/Clientes.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport ModuloBase from '../components/ModuloBase';\r\nimport Modal from '../components/Modal';\r\nimport Toolbar from '../components/Toolbar';\r\nimport Toast from '../components/Toast';\r\nimport TableEmpty from '../components/TableEmpty';\r\nimport { listCompanies, createCompany, updateCompany, deleteCompany } from '../services/companies';\r\n\r\nconst PAGE_LIMIT = 20;\r\n\r\nconst emptyForm = {\r\n  type: 'empresa', // 'empresa' | 'persona_natural'\r\n  ruc: '',\r\n  dni: '',\r\n  name: '',\r\n  address: '',\r\n  email: '',\r\n  phone: '',\r\n  contact_name: '',\r\n};\r\n\r\nconst Clientes = () => {\r\n  const [rows, setRows] = useState([]);\r\n  const [total, setTotal] = useState(0);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [page, setPage] = useState(1);\r\n  const [search, setSearch] = useState('');\r\n\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [editing, setEditing] = useState(null);\r\n  const [form, setForm] = useState(emptyForm);\r\n  const [saving, setSaving] = useState(false);\r\n  const [toast, setToast] = useState({ message: '', type: 'success' });\r\n\r\n  const load = async () => {\r\n    setLoading(true);\r\n    setError('');\r\n    try {\r\n      const data = await listCompanies({ page, limit: PAGE_LIMIT, search });\r\n      setRows(data?.data || []);\r\n      setTotal(Number(data?.total || 0));\r\n    } catch (e) {\r\n      setError(e.message || 'Error al cargar clientes');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => { load(); }, [page, search]);\r\n\r\n  const onNew = () => {\r\n    setEditing(null);\r\n    setForm(emptyForm);\r\n    setShowForm(true);\r\n  };\r\n  const onEdit = (c) => {\r\n    setEditing(c);\r\n    setForm({\r\n      type: c.type || 'empresa',\r\n      ruc: c.ruc || '',\r\n      dni: c.dni || '',\r\n      name: c.name || '',\r\n      address: c.address || '',\r\n      email: c.email || '',\r\n      phone: c.phone || '',\r\n      contact_name: c.contact_name || '',\r\n    });\r\n    setShowForm(true);\r\n  };\r\n  const onDelete = async (c) => {\r\n    const conf = window.prompt(`Para eliminar al cliente \"${c.name}\", escribe ELIMINAR`);\r\n    if (conf !== 'ELIMINAR') return;\r\n    try {\r\n      await deleteCompany(c.id);\r\n      await load();\r\n    } catch (e) {\r\n      alert(e.message || 'Error al eliminar cliente');\r\n    }\r\n  };\r\n\r\n  const onSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const payload = { ...form };\r\n    if (payload.type === 'empresa') {\r\n      if (!payload.ruc) return alert('RUC es obligatorio para empresa');\r\n      payload.dni = '';\r\n    } else {\r\n      if (!payload.dni) return alert('DNI es obligatorio para persona natural');\r\n      payload.ruc = '';\r\n    }\r\n    try {\r\n      setSaving(true);\r\n      if (editing) await updateCompany(editing.id, payload);\r\n      else await createCompany(payload);\r\n      setShowForm(false);\r\n      setEditing(null);\r\n      setForm(emptyForm);\r\n      await load();\r\n      setToast({ message: editing ? 'Cliente actualizado' : 'Cliente creado', type: 'success' });\r\n    } catch (e) {\r\n      setToast({ message: e.message || 'Error al guardar', type: 'error' });\r\n    }\r\n    finally { setSaving(false); }\r\n  };\r\n\r\n  return (\r\n    <ModuloBase titulo=\"Gestión de Clientes\" descripcion=\"Administra clientes: empresas o personas naturales, contactos y datos de facturación.\">\r\n      <Toolbar\r\n        left={(\r\n          <>\r\n            <input\r\n              placeholder=\"Buscar por nombre, RUC o DNI\"\r\n              value={search}\r\n              onChange={(e)=>{ setSearch(e.target.value); setPage(1); }}\r\n              style={{ padding:'0.6rem 0.8rem', border:'1px solid #ddd', borderRadius:8, minWidth:260 }}\r\n            />\r\n            {loading && <span style={{ color:'#888' }}>Cargando...</span>}\r\n            {error && <span style={{ color:'red' }}>{error}</span>}\r\n          </>\r\n        )}\r\n        right={<button onClick={onNew} className=\"btn btn-primary\">+ Agregar cliente</button>}\r\n      />\r\n\r\n      <div className=\"table-responsive\">\r\n        <table className=\"table table-striped align-middle\">\r\n          <thead>\r\n            <tr>\r\n              <th>ID</th>\r\n              <th>Tipo</th>\r\n              <th>RUC/DNI</th>\r\n              <th>Nombre</th>\r\n              <th>Contacto</th>\r\n              <th>Email</th>\r\n              <th>Teléfono</th>\r\n              <th>Dirección</th>\r\n              <th>Acciones</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {rows.length === 0 && (<TableEmpty colSpan={9} message=\"Sin clientes\" />)}\r\n            {rows.map((c) => (\r\n              <tr key={c.id}>\r\n                <td>{c.id}</td>\r\n                <td>{c.type}</td>\r\n                <td>{c.type === 'empresa' ? (c.ruc || '-') : (c.dni || '-')}</td>\r\n                <td>{c.name}</td>\r\n                <td>{c.contact_name || '-'}</td>\r\n                <td>{c.email}</td>\r\n                <td>{c.phone}</td>\r\n                <td style={{ maxWidth: 260 }}>{c.address}</td>\r\n                <td>\r\n                  <button className=\"btn btn-sm btn-secondary me-1\" onClick={()=>onEdit(c)}>Editar</button>\r\n                  <button className=\"btn btn-sm btn-danger\" onClick={()=>onDelete(c)}>Eliminar</button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      <div style={{ display:'flex', justifyContent:'space-between', alignItems:'center' }}>\r\n        <button className=\"btn btn-outline-secondary\" disabled={page===1} onClick={()=>setPage(p=>p-1)}>Anterior</button>\r\n        <span>Página {page} de {Math.ceil((total||0)/PAGE_LIMIT)||1}</span>\r\n        <button className=\"btn btn-outline-secondary\" disabled={page*PAGE_LIMIT>=total} onClick={()=>setPage(p=>p+1)}>Siguiente</button>\r\n      </div>\r\n\r\n      {showForm && (\r\n        <Modal open={showForm} onClose={()=>setShowForm(false)}>\r\n          <form onSubmit={onSubmit}>\r\n            <h3 style={{ marginBottom: 8 }}>{editing ? 'Editar cliente' : 'Nuevo cliente'}</h3>\r\n            <div style={{ color:'#888', marginBottom: 16 }}>{editing ? 'Actualiza los datos del cliente.' : 'Completa los datos del nuevo cliente.'}</div>\r\n\r\n            <div className=\"row g-3\">\r\n              <div className=\"col-md-4\">\r\n                <label className=\"form-label\">Tipo</label>\r\n                <select className=\"form-select\" value={form.type} onChange={(e)=>setForm({ ...form, type: e.target.value })}>\r\n                  <option value=\"empresa\">Empresa</option>\r\n                  <option value=\"persona_natural\">Persona Natural</option>\r\n                </select>\r\n              </div>\r\n              {form.type === 'empresa' ? (\r\n                <div className=\"col-md-4\">\r\n                  <label className=\"form-label\">RUC</label>\r\n                  <input className=\"form-control\" value={form.ruc} onChange={(e)=>setForm({ ...form, ruc: e.target.value })} required />\r\n                </div>\r\n              ) : (\r\n                <div className=\"col-md-4\">\r\n                  <label className=\"form-label\">DNI</label>\r\n                  <input className=\"form-control\" value={form.dni} onChange={(e)=>setForm({ ...form, dni: e.target.value })} required />\r\n                </div>\r\n              )}\r\n              <div className=\"col-md-8\">\r\n                <label className=\"form-label\">Nombre / Razón Social</label>\r\n                <input className=\"form-control\" value={form.name} onChange={(e)=>setForm({ ...form, name: e.target.value })} required />\r\n              </div>\r\n              <div className=\"col-md-12\">\r\n                <label className=\"form-label\">Dirección</label>\r\n                <input className=\"form-control\" value={form.address} onChange={(e)=>setForm({ ...form, address: e.target.value })} required />\r\n              </div>\r\n              <div className=\"col-md-6\">\r\n                <label className=\"form-label\">Correo</label>\r\n                <input type=\"email\" className=\"form-control\" value={form.email} onChange={(e)=>setForm({ ...form, email: e.target.value })} required />\r\n              </div>\r\n              <div className=\"col-md-6\">\r\n                <label className=\"form-label\">Teléfono</label>\r\n                <input className=\"form-control\" value={form.phone} onChange={(e)=>setForm({ ...form, phone: e.target.value })} required />\r\n              </div>\r\n              <div className=\"col-md-6\">\r\n                <label className=\"form-label\">Contacto</label>\r\n                <input className=\"form-control\" value={form.contact_name} onChange={(e)=>setForm({ ...form, contact_name: e.target.value })} required />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"mt-3 d-flex justify-content-end gap-2\">\r\n              <button type=\"button\" className=\"btn btn-outline-secondary\" onClick={()=>setShowForm(false)} disabled={saving}>Cancelar</button>\r\n              <button type=\"submit\" className=\"btn btn-success\" disabled={saving}>{saving ? 'Guardando...' : 'Guardar'}</button>\r\n            </div>\r\n          </form>\r\n        </Modal>\r\n      )}\r\n\r\n      <Toast message={toast.message} type={toast.type} onClose={()=>setToast({ message:'', type:'success' })} />\r\n    </ModuloBase>\r\n  );\r\n};\r\n\r\nexport default Clientes;\r\n"],"names":["PAGE_LIMIT","emptyForm","Clientes","rows","setRows","useState","total","setTotal","loading","setLoading","error","setError","page","setPage","search","setSearch","showForm","setShowForm","editing","setEditing","form","setForm","saving","setSaving","toast","setToast","load","data","listCompanies","e","useEffect","onNew","onEdit","c","onDelete","deleteCompany","onSubmit","payload","updateCompany","createCompany","jsxs","ModuloBase","jsx","Toolbar","Fragment","TableEmpty","p","Modal","Toast"],"mappings":"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"}