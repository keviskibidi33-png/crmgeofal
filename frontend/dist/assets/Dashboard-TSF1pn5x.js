import{b as f,a as h,r as i,j as e}from"./index-BA6zIb2O.js";const u=async t=>{const s=await f("/api/reports/dashboard");return{totalUsuarios:s.totalUsuarios,totalEmpresas:s.totalEmpresas,totalProyectos:s.totalProyectos,totalCotizaciones:s.totalCotizaciones}},p=async t=>f("/api/dashboard/ventas"),j=async t=>f("/api/dashboard/laboratorio"),g=async t=>f("/api/dashboard/jefe"),v=async t=>f("/api/dashboard/gerencia"),b=async t=>f("/api/dashboard/soporte"),y="_dashboardAdmin_v70im_1",k="_kpiGrid_v70im_7",m="_kpiCard_v70im_17",S="_quickLinks_v70im_33",D="_quickLink_v70im_33",l={dashboardAdmin:y,kpiGrid:k,kpiCard:m,quickLinks:S,quickLink:D},W=()=>{const{token:t}=h(),[s,o]=i.useState(null),[n,d]=i.useState(!0),[r,c]=i.useState(null);return i.useEffect(()=>{(async()=>{try{const a=await u(t);o(a)}catch{c("Error al cargar datos")}finally{d(!1)}})()},[t]),n?e.jsx("div",{children:"Cargando dashboard..."}):r?e.jsx("div",{children:r}):e.jsxs("div",{className:l.dashboardAdmin,children:[e.jsx("h2",{children:"Dashboard Administrador"}),e.jsxs("div",{className:l.kpiGrid,children:[e.jsxs("div",{className:l.kpiCard,children:[e.jsx("div",{children:"Total usuarios"}),e.jsx("div",{style:{fontSize:28,fontWeight:700},children:(s==null?void 0:s.totalUsuarios)??"-"})]}),e.jsxs("div",{className:l.kpiCard,children:[e.jsx("div",{children:"Total proyectos"}),e.jsx("div",{style:{fontSize:28,fontWeight:700},children:(s==null?void 0:s.totalProyectos)??"-"})]}),e.jsxs("div",{className:l.kpiCard,children:[e.jsx("div",{children:"Total cotizaciones"}),e.jsx("div",{style:{fontSize:28,fontWeight:700},children:(s==null?void 0:s.totalCotizaciones)??"-"})]})]}),e.jsxs("div",{className:l.quickLinks,children:[e.jsx("a",{className:l.quickLink,href:"/usuarios",children:"Gestionar usuarios"}),e.jsx("a",{className:l.quickLink,href:"/proyectos",children:"Ver proyectos"}),e.jsx("a",{className:l.quickLink,href:"/cotizaciones",children:"Ver cotizaciones"}),e.jsx("a",{className:l.quickLink,href:"/reportes",children:"Reportes"})]})]})},w=()=>{const{token:t}=h(),[s,o]=i.useState(null),[n,d]=i.useState(!0),[r,c]=i.useState(null);return i.useEffect(()=>{(async()=>{try{const a=await p(t);o(a)}catch{c("Error al cargar datos")}finally{d(!1)}})()},[t]),n?e.jsx("div",{children:"Cargando dashboard..."}):r?e.jsx("div",{children:r}):e.jsxs("div",{children:[e.jsx("h2",{children:"Dashboard Ventas"}),e.jsxs("div",{style:{display:"flex",gap:24,flexWrap:"wrap",marginBottom:24},children:[e.jsxs("div",{style:{background:"#fff",borderRadius:8,boxShadow:"0 1px 4px #ececec",padding:20,minWidth:180},children:[e.jsx("div",{children:"Mis clientes"}),e.jsx("div",{style:{fontSize:28,fontWeight:700},children:(s==null?void 0:s.totalClientes)??0})]}),e.jsxs("div",{style:{background:"#fff",borderRadius:8,boxShadow:"0 1px 4px #ececec",padding:20,minWidth:180},children:[e.jsx("div",{children:"Mis proyectos"}),e.jsx("div",{style:{fontSize:28,fontWeight:700},children:(s==null?void 0:s.totalProyectos)??0})]}),e.jsxs("div",{style:{background:"#fff",borderRadius:8,boxShadow:"0 1px 4px #ececec",padding:20,minWidth:180},children:[e.jsx("div",{children:"Cotizaciones recientes"}),e.jsx("div",{style:{fontSize:28,fontWeight:700},children:(s==null?void 0:s.totalCotizaciones)??0})]})]}),e.jsxs("div",{style:{display:"flex",gap:16,flexWrap:"wrap"},children:[e.jsx("a",{href:"/adjuntos",style:{color:"#ff5722",fontWeight:500},children:"Adjuntos"}),e.jsx("a",{href:"/tickets",style:{color:"#ff5722",fontWeight:500},children:"Tickets"})]})]})},z=()=>{const{token:t}=h(),[s,o]=i.useState(null),[n,d]=i.useState(!0),[r,c]=i.useState(null);return i.useEffect(()=>{(async()=>{try{const a=await j(t);o(a)}catch{c("Error al cargar datos")}finally{d(!1)}})()},[t]),n?e.jsx("div",{children:"Cargando dashboard..."}):r?e.jsx("div",{children:r}):e.jsxs("div",{children:[e.jsx("h2",{children:"Dashboard Laboratorio"}),e.jsxs("div",{style:{display:"flex",gap:24,flexWrap:"wrap",marginBottom:24},children:[e.jsxs("div",{style:{background:"#fff",borderRadius:8,boxShadow:"0 1px 4px #ececec",padding:20,minWidth:180},children:[e.jsx("div",{children:"Proyectos asignados"}),e.jsx("div",{style:{fontSize:28,fontWeight:700},children:(s==null?void 0:s.totalProyectos)??0})]}),e.jsxs("div",{style:{background:"#fff",borderRadius:8,boxShadow:"0 1px 4px #ececec",padding:20,minWidth:180},children:[e.jsx("div",{children:"Documentos de muestras"}),e.jsx("div",{style:{fontSize:28,fontWeight:700},children:(s==null?void 0:s.totalMuestras)??0})]}),e.jsxs("div",{style:{background:"#fff",borderRadius:8,boxShadow:"0 1px 4px #ececec",padding:20,minWidth:180},children:[e.jsx("div",{children:"Reportes pendientes"}),e.jsx("div",{style:{fontSize:28,fontWeight:700},children:(s==null?void 0:s.totalReportesPendientes)??0})]})]})]})},E=()=>{const{token:t}=h(),[s,o]=i.useState(null),[n,d]=i.useState(!0),[r,c]=i.useState(null);return i.useEffect(()=>{(async()=>{try{const a=await g(t);o(a)}catch{c("Error al cargar datos")}finally{d(!1)}})()},[t]),n?e.jsx("div",{children:"Cargando dashboard..."}):r?e.jsx("div",{children:r}):e.jsxs("div",{children:[e.jsx("h2",{children:"Dashboard Jefe Comercial"}),e.jsxs("div",{style:{display:"flex",gap:24,flexWrap:"wrap",marginBottom:24},children:[e.jsxs("div",{style:{background:"#fff",borderRadius:8,boxShadow:"0 1px 4px #ececec",padding:20,minWidth:180},children:[e.jsx("div",{children:"Resumen de ventas"}),e.jsx("div",{style:{fontSize:28,fontWeight:700},children:(s==null?void 0:s.totalVentas)??0})]}),e.jsxs("div",{style:{background:"#fff",borderRadius:8,boxShadow:"0 1px 4px #ececec",padding:20,minWidth:180},children:[e.jsx("div",{children:"Proyectos del equipo"}),e.jsx("div",{style:{fontSize:28,fontWeight:700},children:(s==null?void 0:s.totalProyectosEquipo)??0})]}),e.jsxs("div",{style:{background:"#fff",borderRadius:8,boxShadow:"0 1px 4px #ececec",padding:20,minWidth:180},children:[e.jsx("div",{children:"Cotizaciones del equipo"}),e.jsx("div",{style:{fontSize:28,fontWeight:700},children:(s==null?void 0:s.totalCotizacionesEquipo)??0})]}),e.jsxs("div",{style:{background:"#fff",borderRadius:8,boxShadow:"0 1px 4px #ececec",padding:20,minWidth:180},children:[e.jsx("div",{children:"Alertas y aprobaciones"}),e.jsx("div",{style:{fontSize:28,fontWeight:700},children:(s==null?void 0:s.totalAlertas)??0})]})]})]})},R=()=>{const{token:t}=h(),[s,o]=i.useState(null),[n,d]=i.useState(!0),[r,c]=i.useState(null);return i.useEffect(()=>{(async()=>{try{const a=await v(t);o(a)}catch{c("Error al cargar datos")}finally{d(!1)}})()},[t]),n?e.jsx("div",{children:"Cargando dashboard..."}):r?e.jsx("div",{children:r}):e.jsxs("div",{children:[e.jsx("h2",{children:"Dashboard Gerencia"}),e.jsxs("div",{style:{display:"flex",gap:24,flexWrap:"wrap",marginBottom:24},children:[e.jsxs("div",{style:{background:"#fff",borderRadius:8,boxShadow:"0 1px 4px #ececec",padding:20,minWidth:180},children:[e.jsx("div",{children:"KPI globales"}),e.jsx("div",{style:{fontSize:28,fontWeight:700},children:(s==null?void 0:s.totalKPI)??0})]}),e.jsxs("div",{style:{background:"#fff",borderRadius:8,boxShadow:"0 1px 4px #ececec",padding:20,minWidth:180},children:[e.jsx("div",{children:"Reportes estratégicos"}),e.jsx("div",{style:{fontSize:28,fontWeight:700},children:(s==null?void 0:s.totalReportesEstrategicos)??0})]}),e.jsxs("div",{style:{background:"#fff",borderRadius:8,boxShadow:"0 1px 4px #ececec",padding:20,minWidth:180},children:[e.jsx("div",{children:"Alertas de auditoría"}),e.jsx("div",{style:{fontSize:28,fontWeight:700},children:(s==null?void 0:s.totalAlertasAuditoria)??0})]})]})]})},_=()=>{const{token:t}=h(),[s,o]=i.useState(null),[n,d]=i.useState(!0),[r,c]=i.useState(null);return i.useEffect(()=>{(async()=>{try{const a=await b(t);o(a)}catch{c("Error al cargar datos")}finally{d(!1)}})()},[t]),n?e.jsx("div",{children:"Cargando dashboard..."}):r?e.jsx("div",{children:r}):e.jsxs("div",{children:[e.jsx("h2",{children:"Dashboard Soporte"}),e.jsxs("div",{style:{display:"flex",gap:24,flexWrap:"wrap",marginBottom:24},children:[e.jsxs("div",{style:{background:"#fff",borderRadius:8,boxShadow:"0 1px 4px #ececec",padding:20,minWidth:180},children:[e.jsx("div",{children:"Tickets asignados"}),e.jsx("div",{style:{fontSize:28,fontWeight:700},children:(s==null?void 0:s.totalTickets)??0})]}),e.jsxs("div",{style:{background:"#fff",borderRadius:8,boxShadow:"0 1px 4px #ececec",padding:20,minWidth:180},children:[e.jsx("div",{children:"Alertas técnicas"}),e.jsx("div",{style:{fontSize:28,fontWeight:700},children:(s==null?void 0:s.totalAlertasTecnicas)??0})]}),e.jsxs("div",{style:{background:"#fff",borderRadius:8,boxShadow:"0 1px 4px #ececec",padding:20,minWidth:180},children:[e.jsx("div",{children:"Gestión de incidencias"}),e.jsx("div",{style:{fontSize:28,fontWeight:700},children:(s==null?void 0:s.totalIncidencias)??0})]})]})]})},L=()=>{const{user:t}=h();if(!t)return null;switch(t.role){case"admin":return e.jsx(W,{});case"vendedor_comercial":return e.jsx(w,{});case"laboratorio":return e.jsx(z,{});case"jefa_comercial":case"jefe_comercial":return e.jsx(E,{});case"gerencia":return e.jsx(R,{});case"soporte":return e.jsx(_,{});default:return e.jsx("div",{children:"Bienvenido al CRMGeoFal"})}};export{L as default};
//# sourceMappingURL=Dashboard-TSF1pn5x.js.map
