{"version":3,"file":"ItemsCotizacion-VQWBb1A9.js","sources":["../../src/pages/ItemsCotizacion.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useQuery } from 'react-query';\nimport ModuloBase from '../components/ModuloBase';\nimport DataTable from '../components/DataTable';\nimport Toolbar from '../components/Toolbar';\nimport { listQuoteItems } from '../services/quotes';\n\nexport default function ItemsCotizacion() {\n  const [quoteId, setQuoteId] = useState('');\n\n  const { data, isLoading, isFetching } = useQuery(\n    ['quoteItems', quoteId],\n    () => listQuoteItems(quoteId),\n    {\n      enabled: !!quoteId, // Only run query if quoteId is set\n    }\n  );\n\n  const rows = Array.isArray(data) ? data : [];\n\n  const columns = React.useMemo(() => [\n    { header: 'ID', key: 'id', width: 80 },\n    { header: 'Código', key: 'code' },\n    { header: 'Descripción', key: 'description' },\n    { header: 'Norma', key: 'norm' },\n    { header: 'Precio Unitario', key: 'unit_price', render: (r) => `S/ ${Number(r.unit_price || 0).toFixed(2)}` },\n    { header: 'Cantidad', key: 'quantity' },\n    { header: 'Precio Parcial', key: 'partial_price', render: (r) => `S/ ${Number(r.partial_price || 0).toFixed(2)}` },\n  ], []);\n\n  return (\n    <ModuloBase titulo=\"Items de Cotización\" descripcion=\"Consulta los ítems de una cotización específica.\">\n      <Toolbar\n        left={\n          <div className=\"d-flex align-items-end gap-2\">\n            <div style={{ minWidth: '200px' }}>\n              <label htmlFor=\"quote-id-input\" className=\"form-label\">ID de Cotización</label>\n              <input\n                id=\"quote-id-input\"\n                type=\"number\"\n                className=\"form-control\"\n                placeholder=\"Ingrese ID de cotización\"\n                value={quoteId}\n                onChange={(e) => setQuoteId(e.target.value)}\n              />\n            </div>\n          </div>\n        }\n      />\n\n      {quoteId ? (\n        <DataTable columns={columns} rows={rows} loading={isLoading || isFetching} />\n      ) : (\n        <div className=\"alert alert-info mt-3\">\n          Por favor, ingrese un ID de cotización para ver sus ítems.\n        </div>\n      )}\n    </ModuloBase>\n  );\n}"],"names":["ItemsCotizacion","quoteId","setQuoteId","useState","data","isLoading","isFetching","useQuery","listQuoteItems","rows","columns","React","r","jsxs","ModuloBase","jsx","Toolbar","e","DataTable"],"mappings":"8QAOA,SAAwBA,GAAkB,CACxC,KAAM,CAACC,EAASC,CAAU,EAAIC,EAAAA,SAAS,EAAE,EAEnC,CAAE,KAAAC,EAAM,UAAAC,EAAW,WAAAC,CAAA,EAAeC,EACtC,CAAC,aAAcN,CAAO,EACtB,IAAMO,EAAeP,CAAO,EAC5B,CACE,QAAS,CAAC,CAACA,CAAA,CACb,EAGIQ,EAAO,MAAM,QAAQL,CAAI,EAAIA,EAAO,CAAA,EAEpCM,EAAUC,EAAM,QAAQ,IAAM,CAClC,CAAE,OAAQ,KAAM,IAAK,KAAM,MAAO,EAAA,EAClC,CAAE,OAAQ,SAAU,IAAK,MAAA,EACzB,CAAE,OAAQ,cAAe,IAAK,aAAA,EAC9B,CAAE,OAAQ,QAAS,IAAK,MAAA,EACxB,CAAE,OAAQ,kBAAmB,IAAK,aAAc,OAASC,GAAM,MAAM,OAAOA,EAAE,YAAc,CAAC,EAAE,QAAQ,CAAC,CAAC,EAAA,EACzG,CAAE,OAAQ,WAAY,IAAK,UAAA,EAC3B,CAAE,OAAQ,iBAAkB,IAAK,gBAAiB,OAASA,GAAM,MAAM,OAAOA,EAAE,eAAiB,CAAC,EAAE,QAAQ,CAAC,CAAC,EAAA,CAAG,EAChH,EAAE,EAEL,OACEC,EAAAA,KAACC,EAAA,CAAW,OAAO,sBAAsB,YAAY,mDACnD,SAAA,CAAAC,EAAAA,IAACC,EAAA,CACC,KACED,EAAAA,IAAC,MAAA,CAAI,UAAU,+BACb,SAAAF,EAAAA,KAAC,MAAA,CAAI,MAAO,CAAE,SAAU,OAAA,EACtB,SAAA,CAAAE,MAAC,QAAA,CAAM,QAAQ,iBAAiB,UAAU,aAAa,SAAA,mBAAgB,EACvEA,EAAAA,IAAC,QAAA,CACC,GAAG,iBACH,KAAK,SACL,UAAU,eACV,YAAY,2BACZ,MAAOd,EACP,SAAWgB,GAAMf,EAAWe,EAAE,OAAO,KAAK,CAAA,CAAA,CAC5C,CAAA,CACF,CAAA,CACF,CAAA,CAAA,EAIHhB,EACCc,EAAAA,IAACG,EAAA,CAAU,QAAAR,EAAkB,KAAAD,EAAY,QAASJ,GAAaC,CAAA,CAAY,EAE3ES,EAAAA,IAAC,MAAA,CAAI,UAAU,wBAAwB,SAAA,4DAAA,CAEvC,CAAA,EAEJ,CAEJ"}