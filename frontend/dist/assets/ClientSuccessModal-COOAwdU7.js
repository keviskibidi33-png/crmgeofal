import{b as f,r as w,c as J,a as W,a3 as X,e as R,x as Y,j as e,g as E,n as H,O as S,U as Z,N as K,a4 as F,a0 as L,F as k,$ as Q,C as x,f as b,u as D,l as ee,a1 as A,S as se,k as z,o as q,p as ae,B as ne}from"./index-BlIitoHL.js";import{h as re,i as ce}from"./companies-DFLu3Col.js";import{A as B}from"./Alert-jxPGzPb8.js";import{S as ie}from"./Spinner-mZzrAUCv.js";import{C as t}from"./Card-DEKILsJ8.js";import{R as v}from"./Row-AGWrTK1L.js";import{C as o}from"./Col-EOfTAxlS.js";import{M as l}from"./Modal-dJieHQcT.js";import{T as te,a as P}from"./Tabs-CwsjqVR5.js";import{T as O}from"./Table-D_RrkMYP.js";const G={async createComment(a,n){try{console.log("üí¨ Creando comentario para cliente:",a);const s=await f("/api/client-comments",{method:"POST",body:JSON.stringify({company_id:a,comment:n})});return console.log("‚úÖ Comentario creado:",s),s}catch(s){throw console.error("‚ùå Error creando comentario:",s),s}},async getCommentsByCompany(a){try{return await f(`/api/client-comments/company/${a}`,{method:"GET"})}catch(n){throw console.error("Error obteniendo comentarios:",n),n}},async updateComment(a,n){try{console.log("üí¨ Actualizando comentario:",a);const s=await f(`/api/client-comments/${a}`,{method:"PUT",body:JSON.stringify({comment:n})});return console.log("‚úÖ Comentario actualizado:",s),s}catch(s){throw console.error("‚ùå Error actualizando comentario:",s),s}},async deleteComment(a){try{console.log("üí¨ Eliminando comentario:",a);const n=await f(`/api/client-comments/${a}`,{method:"DELETE"});return console.log("‚úÖ Comentario eliminado:",n),n}catch(n){throw console.error("‚ùå Error eliminando comentario:",n),n}},async markCommentsAsRead(a){try{console.log("üí¨ Marcando comentarios como le√≠dos para cliente:",a);const n=await f(`/api/client-comments/company/${a}/mark-read`,{method:"POST"});return console.log("‚úÖ Comentarios marcados como le√≠dos:",n),n}catch(n){throw console.error("‚ùå Error marcando comentarios como le√≠dos:",n),n}},async getUnreadComments(){try{console.log("üí¨ Obteniendo comentarios no le√≠dos");const a=await f("/api/client-comments/unread",{method:"GET"});return console.log("‚úÖ Comentarios no le√≠dos obtenidos:",a),a}catch(a){throw console.error("‚ùå Error obteniendo comentarios no le√≠dos:",a),a}},async getRecentComments(a=10){try{console.log("üí¨ Obteniendo comentarios recientes");const n=await f(`/api/client-comments/recent?limit=${a}`,{method:"GET"});return console.log("‚úÖ Comentarios recientes obtenidos:",n),n}catch(n){throw console.error("‚ùå Error obteniendo comentarios recientes:",n),n}},async getCommentsStats(){try{console.log("üí¨ Obteniendo estad√≠sticas de comentarios");const a=await f("/api/client-comments/stats",{method:"GET"});return console.log("‚úÖ Estad√≠sticas obtenidas:",a),a}catch(a){throw console.error("‚ùå Error obteniendo estad√≠sticas:",a),a}}},oe=({companyId:a})=>{const[n,s]=w.useState(""),[N,i]=w.useState(!1),d=w.useRef(null),j=J(),{user:y}=W(),g=X(),{data:m,isLoading:u,error:h}=R(["client-comments",a],()=>G.getCommentsByCompany(a),{refetchInterval:!1,refetchOnWindowFocus:!1,enabled:!!a,retry:1,staleTime:5*60*1e3,onError:r=>{console.error("Error cargando comentarios:",r)}}),c=(m==null?void 0:m.comments)||[];w.useEffect(()=>{m&&m.comments&&m.comments.length>0&&a&&G.markCommentsAsRead(a).catch(console.error)},[m,a]);const C=Y(({companyId:r,comment:p})=>G.createComment(r,p),{onSuccess:()=>{s(""),j.invalidateQueries(["client-comments",a])},onError:r=>{console.error("Error creando comentario:",r)}}),T=()=>{var r;(r=d.current)==null||r.scrollIntoView({behavior:"smooth"})};w.useEffect(()=>{T()},[c]),w.useEffect(()=>{if(g&&g.on){const r=p=>{p.company_id===a&&j.invalidateQueries(["client-comments",a])};return g.on("new_client_comment",r),()=>{g.off("new_client_comment",r)}}},[g,a,j]);const U=r=>{r.preventDefault(),n.trim()&&!C.isLoading&&C.mutate({companyId:a,comment:n.trim()})},I=r=>{const p=new Date(r),_=(new Date-p)/(1e3*60*60);return _<1?"Hace unos minutos":_<24?`Hace ${Math.floor(_)} horas`:_<48?"Ayer":p.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})},V=(r,p)=>{const $=r?r.charAt(0).toUpperCase():"U",_=p?p.charAt(0).toUpperCase():"";return $+_},M=r=>{switch(r){case"admin":return"#dc3545";case"comercial":return"#28a745";case"vendedor":return"#007bff";case"soporte":return"#ffc107";default:return"#6c757d"}};return u?e.jsxs("div",{className:"client-chat-container",children:[e.jsxs("div",{className:"chat-header",children:[e.jsx(E,{className:"chat-icon"}),e.jsx("h3",{children:"Comentarios del Cliente"})]}),e.jsxs("div",{className:"chat-loading",children:[e.jsx("div",{className:"spinner"}),e.jsx("p",{children:"Cargando comentarios..."})]})]}):h?e.jsxs("div",{className:"client-chat-container",children:[e.jsxs("div",{className:"chat-header",children:[e.jsx(E,{className:"chat-icon"}),e.jsx("h3",{children:"Comentarios del Cliente"})]}),e.jsxs("div",{className:"chat-error",children:[e.jsx("p",{children:"‚ùå Error al cargar comentarios"}),e.jsx("small",{children:"Por favor, intenta nuevamente"})]})]}):e.jsxs("div",{className:"client-chat-container",children:[e.jsxs("div",{className:"chat-header",children:[e.jsx(E,{className:"chat-icon"}),e.jsx("h3",{children:"Comentarios del Cliente"}),e.jsxs("span",{className:"comment-count",children:[c.length," comentarios"]})]}),e.jsxs("div",{className:"chat-messages",children:[c.length===0?e.jsxs("div",{className:"no-comments",children:[e.jsx(E,{className:"no-comments-icon"}),e.jsx("p",{children:"No hay comentarios a√∫n"}),e.jsx("small",{children:"S√© el primero en comentar sobre este cliente"})]}):c.map(r=>e.jsxs("div",{className:`message ${r.user_id===y.id?"own-message":"other-message"}`,children:[e.jsx("div",{className:"message-avatar",children:r.user_name?e.jsx("div",{className:"avatar-circle",style:{backgroundColor:M(r.user_role)},children:V(r.user_name,r.user_apellido)}):e.jsx(H,{className:"avatar-icon"})}),e.jsxs("div",{className:"message-content",children:[e.jsxs("div",{className:"message-header",children:[e.jsx("span",{className:"user-name",children:r.user_name&&r.user_apellido?`${r.user_name} ${r.user_apellido}`:r.user_name||"Usuario"}),e.jsx("span",{className:"user-role",style:{color:M(r.user_role)},children:r.user_role}),e.jsxs("span",{className:"message-time",children:[e.jsx(S,{className:"time-icon"}),I(r.created_at)]})]}),e.jsx("div",{className:"message-text",children:r.comment}),r.is_system&&e.jsxs("div",{className:"system-message-badge",children:[e.jsx(Z,{className:"system-icon"}),"Mensaje del sistema"]})]})]},r.id)),e.jsx("div",{ref:d})]}),e.jsxs("form",{className:"chat-input-form",onSubmit:U,children:[e.jsxs("div",{className:"input-group",children:[e.jsx("textarea",{value:n,onChange:r=>s(r.target.value),placeholder:"Escribe un comentario sobre este cliente...",className:"comment-input",rows:"2",disabled:C.isLoading}),e.jsx("button",{type:"submit",className:"send-button",disabled:!n.trim()||C.isLoading,children:e.jsx(K,{className:"send-icon"})})]}),C.isLoading&&e.jsxs("div",{className:"sending-indicator",children:[e.jsx("div",{className:"spinner small"}),e.jsx("span",{children:"Enviando..."})]})]})]})},le=({clientId:a})=>{const{data:n,isLoading:s,error:N}=R(["client-with-totals",a],()=>re(a),{enabled:!!a,staleTime:6e4,onError:j=>{console.error("Error cargando datos del cliente con totales:",j)}}),i=(n==null?void 0:n.data)||(n==null?void 0:n.company)||n;if(!a)return e.jsxs(B,{variant:"info",children:[e.jsx(F,{className:"me-2"}),"No se ha seleccionado ning√∫n cliente."]});if(s)return e.jsxs("div",{className:"d-flex justify-content-center align-items-center py-5",children:[e.jsx(ie,{animation:"border",variant:"primary"}),e.jsx("span",{className:"ms-2",children:"Cargando informaci√≥n de costos..."})]});if(N)return e.jsxs(B,{variant:"danger",children:[e.jsx(F,{className:"me-2"}),"Error al cargar la informaci√≥n de costos del cliente."]});if(!i)return e.jsxs(B,{variant:"warning",children:[e.jsx(F,{className:"me-2"}),"No se encontraron datos para el cliente seleccionado."]});const d=j=>new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN",minimumFractionDigits:2}).format(j||0);return e.jsxs("div",{className:"client-cost-tab",children:[e.jsxs(t,{className:"mb-4",children:[e.jsx(t.Header,{className:"bg-primary text-white",children:e.jsxs("h5",{className:"mb-0",children:[e.jsx(L,{className:"me-2"}),"Informaci√≥n de Costos - ",i.name]})}),e.jsx(t.Body,{children:e.jsxs(v,{children:[e.jsxs(o,{md:6,children:[e.jsxs("p",{className:"text-dark",children:[e.jsx("strong",{children:"RUC/DNI:"})," ",i.ruc||i.dni||"No especificado"]}),e.jsxs("p",{className:"text-dark",children:[e.jsx("strong",{children:"Contacto:"})," ",i.contact_name||"No especificado"]})]}),e.jsxs(o,{md:6,children:[e.jsxs("p",{className:"text-dark",children:[e.jsx("strong",{children:"Email:"})," ",i.email||"No especificado"]}),e.jsxs("p",{className:"text-dark",children:[e.jsx("strong",{children:"Tel√©fono:"})," ",i.phone||"No especificado"]})]})]})})]}),e.jsxs(v,{className:"mb-4",children:[e.jsx(o,{md:4,children:e.jsx(t,{className:"text-center h-100",children:e.jsxs(t.Body,{children:[e.jsx(L,{className:"text-primary mb-2",size:32}),e.jsx("h4",{className:"text-primary",children:d(i.total_accumulated)}),e.jsx("p",{className:"text-dark mb-0",children:"Total Acumulado"}),e.jsx("small",{className:"text-dark",children:"(Solo cotizaciones)"})]})})}),e.jsx(o,{md:4,children:e.jsx(t,{className:"text-center h-100",children:e.jsxs(t.Body,{children:[e.jsx(k,{className:"text-info mb-2",size:32}),e.jsx("h4",{className:"text-info",children:i.quotes_count||0}),e.jsx("p",{className:"text-dark mb-0",children:"Cotizaciones"}),e.jsx("small",{className:"text-dark",children:"(No aprobadas para facturaci√≥n)"})]})})}),e.jsx(o,{md:4,children:e.jsx(t,{className:"text-center h-100",children:e.jsxs(t.Body,{children:[e.jsx(Q,{className:"text-success mb-2",size:32}),e.jsx("h4",{className:"text-success",children:d(i.won_quotes_total||0)}),e.jsx("p",{className:"text-dark mb-0",children:"Cotizaciones Ganadas"}),e.jsx("small",{className:"text-dark",children:"(Estado: Ganado)"})]})})})]}),e.jsxs(v,{children:[e.jsx(o,{md:6,children:e.jsxs(t,{children:[e.jsx(t.Header,{children:e.jsxs("h6",{className:"mb-0",children:[e.jsx(k,{className:"me-2"}),"Desglose de Cotizaciones"]})}),e.jsxs(t.Body,{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[e.jsx("span",{className:"text-dark",children:"Total Cotizado:"}),e.jsx(x,{bg:"primary",children:d(i.total_quoted||0)})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[e.jsx("span",{className:"text-dark",children:"Cotizaciones Ganadas:"}),e.jsx(x,{bg:"success",children:d(i.won_quotes_total||0)})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[e.jsx("span",{className:"text-dark",children:"N√∫mero de Cotizaciones:"}),e.jsx(x,{bg:"info",children:i.quotes_count||0})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[e.jsx("span",{className:"text-dark",children:"Cotizaciones Ganadas:"}),e.jsx(x,{bg:"success",children:i.won_quotes_count||0})]})]})]})}),e.jsx(o,{md:6,children:e.jsxs(t,{children:[e.jsx(t.Header,{children:e.jsxs("h6",{className:"mb-0",children:[e.jsx(b,{className:"me-2"}),"Informaci√≥n de Referencia"]})}),e.jsxs(t.Body,{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[e.jsx("span",{className:"text-dark",children:"Aprobadas para Facturaci√≥n:"}),e.jsx(x,{bg:"warning",children:d(i.approved_for_billing||0)})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[e.jsx("span",{className:"text-dark",children:"Cantidad Aprobadas:"}),e.jsx(x,{bg:"warning",children:i.approved_count||0})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[e.jsx("span",{className:"text-dark",children:"Total General:"}),e.jsx(x,{bg:"secondary",children:d(i.total_all_quotes||0)})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[e.jsx("span",{className:"text-dark",children:"Total Cotizaciones:"}),e.jsx(x,{bg:"secondary",children:i.total_quotes_count||0})]})]})]})})]}),e.jsx(v,{className:"mt-4",children:e.jsx(o,{md:12,children:e.jsxs(t,{children:[e.jsx(t.Header,{children:e.jsxs("h6",{className:"mb-0",children:[e.jsx(S,{className:"me-2"}),"Proyectos Asociados"]})}),e.jsx(t.Body,{children:e.jsxs(v,{children:[e.jsx(o,{md:6,children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[e.jsx("span",{className:"text-dark",children:"Total de Proyectos:"}),e.jsx(x,{bg:"info",children:i.projects_count||0})]})}),e.jsx(o,{md:6,children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[e.jsx("span",{className:"text-dark",children:"Proyectos Completados:"}),e.jsx(x,{bg:"success",children:i.completed_projects_count||0})]})})]})})]})})}),e.jsxs(B,{variant:"info",className:"mt-4",children:[e.jsx(F,{className:"me-2"}),e.jsx("strong",{children:"Nota:"}),' El "Total Acumulado" incluye √∫nicamente las cotizaciones que no han sido aprobadas para facturaci√≥n. Las cotizaciones aprobadas y facturadas se muestran como informaci√≥n de referencia en la secci√≥n correspondiente.']})]})},de={nuevo:{label:"Nuevo",variant:"primary",icon:S},cotizacion_enviada:{label:"Cotizaci√≥n Enviada",variant:"info",icon:K},pendiente_cotizacion:{label:"Pendiente de Cotizaci√≥n",variant:"warning",icon:S},en_negociacion:{label:"En Negociaci√≥n",variant:"secondary",icon:E},seguimiento:{label:"Seguimiento",variant:"info",icon:Q},ganado:{label:"Ganado",variant:"success",icon:b},perdido:{label:"Perdido",variant:"danger",icon:q},activo:{label:"Activo",variant:"success",icon:b},completado:{label:"Completado",variant:"primary",icon:b},pausado:{label:"Pausado",variant:"warning",icon:S},cancelado:{label:"Cancelado",variant:"danger",icon:q}},be=({show:a,onHide:n,clientId:s,clientName:N})=>{const i=D(),{data:d,isLoading:j,error:y}=R(["clientHistory",s],()=>ce(s),{enabled:a&&!!s,staleTime:5*60*1e3}),g=(c,C="quote")=>{const T=de[c]||{label:c,variant:"secondary",icon:k},U=T.icon;return e.jsxs(x,{bg:T.variant,className:"d-flex align-items-center gap-1",children:[e.jsx(U,{size:12}),T.label]})},m=c=>new Date(c).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"}),u=c=>new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN"}).format(c);if(j)return e.jsxs(l,{show:a,onHide:n,size:"xl",children:[e.jsx(l.Header,{closeButton:!0,children:e.jsxs(l.Title,{children:["Historial de ",N]})}),e.jsx(l.Body,{className:"text-center",children:e.jsx("div",{className:"spinner-border",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Cargando..."})})})]});if(y)return e.jsxs(l,{show:a,onHide:n,size:"xl",children:[e.jsx(l.Header,{closeButton:!0,children:e.jsxs(l.Title,{children:["Historial de ",N]})}),e.jsx(l.Body,{children:e.jsxs("div",{className:"alert alert-danger",children:["Error al cargar el historial: ",y.message]})})]});const h=(d==null?void 0:d.data)||{quotes:[],projects:[],manager:null,stats:{}};return e.jsxs(l,{show:a,onHide:n,size:"xl",children:[e.jsx(l.Header,{closeButton:!0,children:e.jsxs(l.Title,{children:[e.jsx(ee,{className:"me-2"}),"Historial de ",N]})}),e.jsxs(l.Body,{children:[h.manager&&e.jsx(t,{className:"mb-4",children:e.jsx(t.Body,{children:e.jsxs(v,{children:[e.jsxs(o,{md:6,children:[e.jsxs("h6",{children:[e.jsx(H,{className:"me-2"}),"Gestor Actual"]}),e.jsx("p",{className:"mb-1",children:e.jsx("strong",{children:h.manager.name})}),e.jsx("p",{className:"mb-1 text-muted",children:h.manager.role}),e.jsx("p",{className:"mb-0 text-muted",children:h.manager.email})]}),e.jsxs(o,{md:6,children:[e.jsx("h6",{children:"Estad√≠sticas"}),e.jsxs(v,{children:[e.jsx(o,{xs:6,children:e.jsxs("div",{className:"text-center",children:[e.jsx("h4",{className:"text-primary mb-0",children:h.stats.totalQuotes}),e.jsx("small",{className:"text-muted",children:"Cotizaciones"})]})}),e.jsx(o,{xs:6,children:e.jsxs("div",{className:"text-center",children:[e.jsx("h4",{className:"text-success mb-0",children:h.stats.totalProjects}),e.jsx("small",{className:"text-muted",children:"Proyectos"})]})})]})]})]})})}),e.jsxs(te,{defaultActiveKey:"quotes",className:"mb-3",children:[e.jsx(P,{eventKey:"quotes",title:e.jsxs("span",{children:[e.jsx(k,{className:"me-1"}),"Cotizaciones (",h.quotes.length,")"]}),children:h.quotes.length>0?e.jsxs(O,{responsive:!0,striped:!0,hover:!0,children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"ID"}),e.jsx("th",{children:"Total"}),e.jsx("th",{children:"Estado"}),e.jsx("th",{children:"Creado por"}),e.jsx("th",{children:"Fecha Creaci√≥n"}),e.jsx("th",{children:"√öltima Actualizaci√≥n"}),e.jsx("th",{children:"Acciones"})]})}),e.jsx("tbody",{children:h.quotes.map(c=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("strong",{children:["#",c.id]})}),e.jsxs("td",{children:[e.jsx(L,{className:"me-1"}),u(c.total)]}),e.jsx("td",{children:g(c.status,"quote")}),e.jsx("td",{children:e.jsxs("div",{children:[e.jsx("div",{children:c.created_by_name}),e.jsx("small",{className:"text-muted",children:c.created_by_role})]})}),e.jsxs("td",{children:[e.jsx(A,{className:"me-1"}),m(c.created_at)]}),e.jsxs("td",{children:[e.jsx(A,{className:"me-1"}),m(c.updated_at)]}),e.jsx("td",{children:e.jsxs("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>{console.log("üîç Navegando a cotizaci√≥n:",c.id),i(`/cotizaciones/${c.id}`),n()},title:"Ver detalles de la cotizaci√≥n",children:[e.jsx(se,{className:"me-1"}),"Ver Detalles"]})})]},c.id))})]}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx(k,{size:48,className:"text-muted mb-3"}),e.jsx("p",{className:"text-muted",children:"No hay cotizaciones registradas para este cliente"})]})}),e.jsx(P,{eventKey:"projects",title:e.jsxs("span",{children:[e.jsx(z,{className:"me-1"}),"Proyectos (",h.projects.length,")"]}),children:h.projects.length>0?e.jsxs(O,{responsive:!0,striped:!0,hover:!0,children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"ID"}),e.jsx("th",{children:"Nombre"}),e.jsx("th",{children:"Estado"}),e.jsx("th",{children:"Creado por"}),e.jsx("th",{children:"Fecha Creaci√≥n"}),e.jsx("th",{children:"√öltima Actualizaci√≥n"})]})}),e.jsx("tbody",{children:h.projects.map(c=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("strong",{children:["#",c.id]})}),e.jsxs("td",{children:[e.jsx(z,{className:"me-1"}),c.name]}),e.jsx("td",{children:g(c.status,"project")}),e.jsx("td",{children:e.jsxs("div",{children:[e.jsx("div",{children:c.created_by_name}),e.jsx("small",{className:"text-muted",children:c.created_by_role})]})}),e.jsxs("td",{children:[e.jsx(A,{className:"me-1"}),m(c.created_at)]}),e.jsxs("td",{children:[e.jsx(A,{className:"me-1"}),m(c.updated_at)]})]},c.id))})]}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx(z,{size:48,className:"text-muted mb-3"}),e.jsx("p",{className:"text-muted",children:"No hay proyectos registrados para este cliente"})]})}),e.jsx(P,{eventKey:"comments",title:e.jsxs("span",{children:[e.jsx(E,{className:"me-1"}),"Comentarios"]}),children:e.jsx(oe,{companyId:s})}),e.jsx(P,{eventKey:"costs",title:e.jsxs("span",{children:[e.jsx(L,{className:"me-1"}),"Costos"]}),children:e.jsx(le,{clientId:s})})]})]}),e.jsx(l.Footer,{children:e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:n,children:"Cerrar"})})]})},ye=({show:a,onHide:n,clientData:s,isEdit:N=!1})=>{const i=N?"‚úÖ Cliente Actualizado":"‚úÖ Cliente Creado",d=N?"El cliente ha sido actualizado exitosamente":"El cliente ha sido creado exitosamente";if(!s)return null;const j=u=>new Date(u).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),y=u=>u==="empresa"?e.jsx(z,{size:20}):e.jsx(H,{size:20}),g=u=>u==="empresa"?"Empresa":"Persona Natural",m=u=>u==="empresa"?"primary":"info";return e.jsxs(l,{show:a,onHide:n,centered:!0,className:"client-success-modal",backdrop:"static",size:"lg",children:[e.jsx(l.Header,{closeButton:!0,className:"success-header",children:e.jsxs(l.Title,{className:"success-title",children:[e.jsx(b,{className:"me-2"}),i]})}),e.jsx(l.Body,{className:"success-modal-body",children:e.jsxs("div",{className:"success-content",children:[e.jsx("div",{className:"success-icon",children:e.jsx(b,{})}),e.jsxs("div",{className:"success-text",children:[e.jsx("h4",{className:"success-message",children:d}),s&&e.jsx("div",{className:"client-success-details",children:e.jsxs(v,{className:"g-3",children:[e.jsx(o,{md:12,children:e.jsxs("div",{className:"client-main-info",children:[e.jsxs("div",{className:"client-name-section",children:[e.jsxs("h5",{className:"client-name",children:[y(s.type),e.jsx("span",{className:"ms-2",children:s.name})]}),e.jsx(x,{bg:m(s.type),className:"client-type-badge",children:g(s.type)})]}),s.contact_name&&e.jsxs("p",{className:"client-contact",children:[e.jsx(H,{className:"me-2"}),e.jsx("strong",{children:"Contacto:"})," ",s.contact_name]})]})}),e.jsx(o,{md:6,children:e.jsxs("div",{className:"info-section",children:[e.jsxs("h6",{className:"info-section-title",children:[e.jsx(ae,{className:"me-2"}),"Informaci√≥n de Contacto"]}),e.jsxs("div",{className:"info-items",children:[s.email&&e.jsxs("div",{className:"info-item",children:[e.jsx("strong",{children:"Email:"})," ",s.email]}),s.phone&&e.jsxs("div",{className:"info-item",children:[e.jsx("strong",{children:"Tel√©fono:"})," ",s.phone]}),s.address&&e.jsxs("div",{className:"info-item",children:[e.jsx("strong",{children:"Direcci√≥n:"})," ",s.address]}),s.city&&e.jsxs("div",{className:"info-item",children:[e.jsx("strong",{children:"Ciudad:"})," ",s.city]})]})]})}),e.jsx(o,{md:6,children:e.jsxs("div",{className:"info-section",children:[e.jsxs("h6",{className:"info-section-title",children:[e.jsx(z,{className:"me-2"}),"Informaci√≥n de Identificaci√≥n"]}),e.jsxs("div",{className:"info-items",children:[s.ruc&&e.jsxs("div",{className:"info-item",children:[e.jsx("strong",{children:"RUC:"})," ",s.ruc]}),s.dni&&e.jsxs("div",{className:"info-item",children:[e.jsx("strong",{children:"DNI:"})," ",s.dni]}),s.sector&&e.jsxs("div",{className:"info-item",children:[e.jsx("strong",{children:"Sector:"})," ",s.sector]}),s.priority&&e.jsxs("div",{className:"info-item",children:[e.jsx("strong",{children:"Prioridad:"}),e.jsx(x,{bg:"warning",className:"ms-2",children:s.priority.toUpperCase()})]}),s.status&&e.jsxs("div",{className:"info-item",children:[e.jsx("strong",{children:"Estado:"}),e.jsx(x,{bg:"secondary",className:"ms-2",children:s.status})]})]})]})}),(s.actividad||s.servicios)&&e.jsx(o,{md:12,children:e.jsxs("div",{className:"info-section",children:[e.jsxs("h6",{className:"info-section-title",children:[e.jsx(z,{className:"me-2"}),"Actividad y Servicios"]}),e.jsxs("div",{className:"info-items",children:[s.actividad&&e.jsxs("div",{className:"info-item",children:[e.jsx("strong",{children:"Actividad:"})," ",s.actividad]}),s.servicios&&e.jsxs("div",{className:"info-item",children:[e.jsx("strong",{children:"Servicios:"})," ",s.servicios]})]})]})}),e.jsx(o,{md:12,children:e.jsxs("div",{className:"info-section system-info",children:[e.jsxs("h6",{className:"info-section-title",children:[e.jsx(b,{className:"me-2"}),"Informaci√≥n del Sistema"]}),e.jsxs("div",{className:"info-items",children:[e.jsxs("div",{className:"info-item",children:[e.jsx("strong",{children:"ID del Cliente:"})," #",s.id]}),e.jsxs("div",{className:"info-item",children:[e.jsxs("strong",{children:["Fecha de ",N?"Actualizaci√≥n":"Creaci√≥n",":"]})," ",j(s.updated_at||s.created_at)]})]})]})})]})})]})]})}),e.jsx(l.Footer,{className:"success-footer",children:e.jsxs(ne,{variant:"primary",onClick:n,className:"success-button",children:[e.jsx(b,{className:"me-2"}),"Continuar"]})})]})};export{be as C,ye as a};
//# sourceMappingURL=ClientSuccessModal-COOAwdU7.js.map
