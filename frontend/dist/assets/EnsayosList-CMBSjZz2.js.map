{"version":3,"file":"EnsayosList-CMBSjZz2.js","sources":["../../src/components/EnsayosList.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Container, Row, Col, Card, Table, Badge, Button, Form, InputGroup, Alert, Spinner, Dropdown } from 'react-bootstrap';\r\nimport { \r\n  FiSearch, FiFilter, FiDownload, FiUpload, FiEdit, FiEye, \r\n  FiDollarSign, FiRefreshCw, FiCheckCircle, FiXCircle\r\n} from 'react-icons/fi';\r\nimport { apiFetch } from '../services/api';\r\n\r\nconst EnsayosList = () => {\r\n  const [ensayos, setEnsayos] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [filters, setFilters] = useState({\r\n    categoria: '',\r\n    ubicacion: ''\r\n  });\r\n  const [pagination, setPagination] = useState({\r\n    page: 1,\r\n    limit: 50,\r\n    total: 0,\r\n    pages: 0\r\n  });\r\n  const [selectedEnsayos, setSelectedEnsayos] = useState([]);\r\n  const [showImportModal, setShowImportModal] = useState(false);\r\n  const [showPriceUpdateModal, setShowPriceUpdateModal] = useState(false);\r\n  const [priceUpdates, setPriceUpdates] = useState([]);\r\n\r\n  // Categor√≠as disponibles\r\n  const categorias = [\r\n    'ENSAYO EST√ÅNDAR SUELO',\r\n    'ENSAYOS ESPECIALES SUELO',\r\n    'ENSAYO QU√çMICO SUELO Y AGUA SUBTERR√ÅNEO',\r\n    'ENSAYOS DE CAMPO EN SUELO',\r\n    'ENSAYO AGREGADO',\r\n    'ENSAYO QU√çMICO AGREGADO',\r\n    'ENSAYO CONCRETO',\r\n    'ENSAYO ALBA√ëILER√çA',\r\n    'ENSAYO ROCA',\r\n    'CEMENTO',\r\n    'ENSAYO PAVIMENTO',\r\n    'ENSAYO MEZCLA ASF√ÅLTICA',\r\n    'EVALUACIONES ESTRUCTURALES',\r\n    'OTROS SERVICIOS'\r\n  ];\r\n\r\n  const ubicaciones = ['LABORATORIO', 'CAMPO'];\r\n\r\n\r\n  // Cargar ensayos\r\n  const loadEnsayos = async () => {\r\n    console.log('üîÑ Iniciando carga de ensayos...');\r\n    setLoading(true);\r\n    try {\r\n      const params = new URLSearchParams({\r\n        page: pagination.page,\r\n        limit: pagination.limit,\r\n        ...(searchTerm && { search: searchTerm }),\r\n        ...(filters.categoria && { categoria: filters.categoria }),\r\n        ...(filters.ubicacion && { ubicacion: filters.ubicacion })\r\n      });\r\n\r\n      console.log('üì° Par√°metros:', params.toString());\r\n      console.log('üåê Llamando a API:', `/ensayos?${params}`);\r\n      \r\n      const data = await apiFetch(`/ensayos/temp?${params}`);\r\n      console.log('‚úÖ Respuesta de API:', data);\r\n      \r\n      setEnsayos(data.data || []);\r\n      setPagination(data.pagination || { page: 1, limit: 20, total: 0, totalPages: 1 });\r\n    } catch (error) {\r\n      console.error('‚ùå Error cargando ensayos:', error);\r\n      setEnsayos([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    console.log('üöÄ useEffect ejecutado - Cargando ensayos');\r\n    loadEnsayos();\r\n  }, [pagination.page, searchTerm, filters]);\r\n\r\n  // Buscar ensayos\r\n  const handleSearch = (e) => {\r\n    setSearchTerm(e.target.value);\r\n    setPagination(prev => ({ ...prev, page: 1 }));\r\n  };\r\n\r\n  // Aplicar filtros\r\n  const handleFilterChange = (key, value) => {\r\n    setFilters(prev => ({ ...prev, [key]: value }));\r\n    setPagination(prev => ({ ...prev, page: 1 }));\r\n  };\r\n\r\n  // Seleccionar ensayos\r\n  const handleSelectEnsayos = (ensayo, checked) => {\r\n    if (checked) {\r\n      setSelectedEnsayos(prev => [...prev, ensayo]);\r\n    } else {\r\n      setSelectedEnsayos(prev => prev.filter(e => e.codigo !== ensayo.codigo));\r\n    }\r\n  };\r\n\r\n  // Seleccionar todos\r\n  const handleSelectAll = (checked) => {\r\n    if (checked) {\r\n      setSelectedEnsayos(ensayos);\r\n    } else {\r\n      setSelectedEnsayos([]);\r\n    }\r\n  };\r\n\r\n  // Actualizar precios masivos\r\n  const handleBulkPriceUpdate = () => {\r\n    if (selectedEnsayos.length === 0) {\r\n      alert('Selecciona al menos un ensayo');\r\n      return;\r\n    }\r\n    setPriceUpdates(selectedEnsayos.map(e => ({ codigo: e.codigo, precio: e.precio })));\r\n    setShowPriceUpdateModal(true);\r\n  };\r\n\r\n  // Guardar actualizaciones de precios\r\n  const handleSavePriceUpdates = async () => {\r\n    try {\r\n      await apiFetch('/ensayos/precios/masivos', {\r\n        method: 'PUT',\r\n        body: JSON.stringify({ actualizaciones: priceUpdates })\r\n      });\r\n      \r\n      alert('Precios actualizados exitosamente');\r\n      setShowPriceUpdateModal(false);\r\n      setPriceUpdates([]);\r\n      loadEnsayos();\r\n    } catch (error) {\r\n      console.error('Error:', error);\r\n      alert('Error actualizando precios');\r\n    }\r\n  };\r\n\r\n  // Formatear precio\r\n  const formatPrice = (price) => {\r\n    return new Intl.NumberFormat('es-PE', {\r\n      style: 'currency',\r\n      currency: 'PEN'\r\n    }).format(price);\r\n  };\r\n\r\n  // Obtener color por categor√≠a\r\n  const getCategoryColor = (categoria) => {\r\n    const colors = {\r\n      'ENSAYO EST√ÅNDAR SUELO': 'primary',\r\n      'ENSAYOS ESPECIALES SUELO': 'warning',\r\n      'ENSAYO QU√çMICO SUELO Y AGUA SUBTERR√ÅNEO': 'info',\r\n      'ENSAYOS DE CAMPO EN SUELO': 'success',\r\n      'ENSAYO AGREGADO': 'secondary',\r\n      'ENSAYO QU√çMICO AGREGADO': 'dark',\r\n      'ENSAYO CONCRETO': 'danger',\r\n      'ENSAYO ALBA√ëILER√çA': 'light',\r\n      'ENSAYO ROCA': 'primary',\r\n      'CEMENTO': 'warning',\r\n      'ENSAYO PAVIMENTO': 'info',\r\n      'ENSAYO MEZCLA ASF√ÅLTICA': 'success',\r\n      'EVALUACIONES ESTRUCTURALES': 'secondary',\r\n      'OTROS SERVICIOS': 'dark'\r\n    };\r\n    return colors[categoria] || 'light';\r\n  };\r\n\r\n  return (\r\n    <Container fluid className=\"py-4\">\r\n      {/* Header */}\r\n      <Row className=\"mb-4\">\r\n        <Col>\r\n          <div className=\"d-flex justify-content-between align-items-center\">\r\n            <div>\r\n              <h2 className=\"mb-1\">Lista de Precios - Ensayos</h2>\r\n              <p className=\"text-muted mb-0\">Gestiona los ensayos y sus precios</p>\r\n            </div>\r\n            <div className=\"d-flex gap-2\">\r\n              <Button variant=\"outline-primary\" size=\"sm\">\r\n                <FiDownload className=\"me-1\" />\r\n                Exportar\r\n              </Button>\r\n              <Button variant=\"outline-success\" size=\"sm\" onClick={() => setShowImportModal(true)}>\r\n                <FiUpload className=\"me-1\" />\r\n                Importar\r\n              </Button>\r\n              <Button variant=\"primary\" size=\"sm\" onClick={loadEnsayos}>\r\n                <FiRefreshCw className=\"me-1\" />\r\n                Actualizar\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Filtros */}\r\n      <Row className=\"mb-4\">\r\n        <Col md={4}>\r\n          <Form.Group>\r\n            <Form.Label>Buscar</Form.Label>\r\n            <InputGroup>\r\n              <InputGroup.Text>\r\n                <FiSearch />\r\n              </InputGroup.Text>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"Buscar por c√≥digo o descripci√≥n...\"\r\n                value={searchTerm}\r\n                onChange={handleSearch}\r\n              />\r\n            </InputGroup>\r\n          </Form.Group>\r\n        </Col>\r\n        <Col md={3}>\r\n          <Form.Group>\r\n            <Form.Label>Categor√≠a</Form.Label>\r\n            <Form.Select\r\n              value={filters.categoria}\r\n              onChange={(e) => handleFilterChange('categoria', e.target.value)}\r\n            >\r\n              <option value=\"\">Todas las categor√≠as</option>\r\n              {categorias.map(cat => (\r\n                <option key={cat} value={cat}>{cat}</option>\r\n              ))}\r\n            </Form.Select>\r\n          </Form.Group>\r\n        </Col>\r\n        <Col md={3}>\r\n          <Form.Group>\r\n            <Form.Label>Ubicaci√≥n</Form.Label>\r\n            <Form.Select\r\n              value={filters.ubicacion}\r\n              onChange={(e) => handleFilterChange('ubicacion', e.target.value)}\r\n            >\r\n              <option value=\"\">Todas las ubicaciones</option>\r\n              {ubicaciones.map(ubic => (\r\n                <option key={ubic} value={ubic}>{ubic}</option>\r\n              ))}\r\n            </Form.Select>\r\n          </Form.Group>\r\n        </Col>\r\n        <Col md={2}>\r\n          <Form.Group>\r\n            <Form.Label>&nbsp;</Form.Label>\r\n            <div className=\"d-flex gap-2\">\r\n              {selectedEnsayos.length > 0 && (\r\n                <Button \r\n                  variant=\"warning\" \r\n                  size=\"sm\" \r\n                  onClick={handleBulkPriceUpdate}\r\n                >\r\n                  <FiDollarSign className=\"me-1\" />\r\n                  Actualizar Precios ({selectedEnsayos.length})\r\n                </Button>\r\n              )}\r\n            </div>\r\n          </Form.Group>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Tabla de ensayos */}\r\n      <Card className=\"shadow-sm\">\r\n        <Card.Header className=\"bg-white border-bottom\">\r\n          <div className=\"d-flex justify-content-between align-items-center\">\r\n            <h6 className=\"mb-0\">\r\n              <FiEye className=\"me-1 text-primary\" />\r\n              Lista de Ensayos\r\n            </h6>\r\n            <Badge bg=\"light\" text=\"dark\" className=\"px-2 py-1\">\r\n              {pagination.total} ensayos\r\n            </Badge>\r\n          </div>\r\n        </Card.Header>\r\n        <Card.Body className=\"p-0\">\r\n          <div className=\"table-responsive\">\r\n            <Table hover className=\"mb-0\">\r\n              <thead className=\"table-light\">\r\n                <tr>\r\n                  <th style={{ width: '50px' }}>\r\n                    <Form.Check\r\n                      type=\"checkbox\"\r\n                      checked={selectedEnsayos.length === ensayos.length && ensayos.length > 0}\r\n                      onChange={(e) => handleSelectAll(e.target.checked)}\r\n                    />\r\n                  </th>\r\n                  <th>C√≥digo</th>\r\n                  <th>Descripci√≥n</th>\r\n                  <th>Norma</th>\r\n                  <th>Ubicaci√≥n</th>\r\n                  <th>Precio</th>\r\n                  <th>Categor√≠a</th>\r\n                  <th>Acciones</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {loading ? (\r\n                  <tr>\r\n                    <td colSpan={8} className=\"text-center py-4\">\r\n                      <Spinner animation=\"border\" size=\"sm\" className=\"me-2\" />\r\n                      Cargando ensayos...\r\n                    </td>\r\n                  </tr>\r\n                ) : ensayos.length === 0 ? (\r\n                  <tr>\r\n                    <td colSpan={8} className=\"text-center py-4 text-muted\">\r\n                      No se encontraron ensayos\r\n                    </td>\r\n                  </tr>\r\n                ) : (\r\n                  ensayos.map((ensayo) => (\r\n                    <tr key={ensayo.id}>\r\n                      <td>\r\n                        <Form.Check\r\n                          type=\"checkbox\"\r\n                          checked={selectedEnsayos.some(e => e.codigo === ensayo.codigo)}\r\n                          onChange={(e) => handleSelectEnsayos(ensayo, e.target.checked)}\r\n                        />\r\n                      </td>\r\n                      <td>\r\n                        <Badge bg=\"primary\" className=\"font-monospace\">\r\n                          {ensayo.codigo}\r\n                        </Badge>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"text-sm\">\r\n                          <div className=\"fw-medium\">{ensayo.descripcion}</div>\r\n                          {ensayo.comentarios && (\r\n                            <small className=\"text-muted d-block mt-1\">\r\n                              {ensayo.comentarios.substring(0, 80)}...\r\n                            </small>\r\n                          )}\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"text-sm\">\r\n                          <div className=\"fw-medium\">{ensayo.norma}</div>\r\n                          {ensayo.referencia_otra_norma && (\r\n                            <small className=\"text-muted d-block\">\r\n                              {ensayo.referencia_otra_norma}\r\n                            </small>\r\n                          )}\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <Badge bg={ensayo.ubicacion === 'LABORATORIO' ? 'info' : 'success'}>\r\n                          {ensayo.ubicacion}\r\n                        </Badge>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"fw-bold text-success\">\r\n                          {formatPrice(ensayo.precio)}\r\n                        </div>\r\n                      </td>\r\n                      <td>\r\n                        <Badge bg={getCategoryColor(ensayo.categoria)} text={getCategoryColor(ensayo.categoria) === 'light' ? 'dark' : undefined}>\r\n                          {ensayo.categoria}\r\n                        </Badge>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"d-flex gap-1\">\r\n                          <Button variant=\"outline-primary\" size=\"sm\">\r\n                            <FiEye />\r\n                          </Button>\r\n                          <Button variant=\"outline-warning\" size=\"sm\">\r\n                            <FiEdit />\r\n                          </Button>\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  ))\r\n                )}\r\n              </tbody>\r\n            </Table>\r\n          </div>\r\n        </Card.Body>\r\n      </Card>\r\n\r\n      {/* Paginaci√≥n */}\r\n      {pagination.pages > 1 && (\r\n        <Row className=\"mt-3\">\r\n          <Col>\r\n            <div className=\"d-flex justify-content-center\">\r\n              <div className=\"btn-group\">\r\n                <Button \r\n                  variant=\"outline-secondary\" \r\n                  size=\"sm\"\r\n                  disabled={pagination.page === 1}\r\n                  onClick={() => setPagination(prev => ({ ...prev, page: prev.page - 1 }))}\r\n                >\r\n                  Anterior\r\n                </Button>\r\n                <Button variant=\"outline-secondary\" size=\"sm\" disabled>\r\n                  P√°gina {pagination.page} de {pagination.pages}\r\n                </Button>\r\n                <Button \r\n                  variant=\"outline-secondary\" \r\n                  size=\"sm\"\r\n                  disabled={pagination.page === pagination.pages}\r\n                  onClick={() => setPagination(prev => ({ ...prev, page: prev.page + 1 }))}\r\n                >\r\n                  Siguiente\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n      )}\r\n\r\n      {/* Modal de actualizaci√≥n de precios */}\r\n      {showPriceUpdateModal && (\r\n        <div className=\"modal show d-block\" style={{ backgroundColor: 'rgba(0,0,0,0.5)' }}>\r\n          <div className=\"modal-dialog\">\r\n            <div className=\"modal-content\">\r\n              <div className=\"modal-header\">\r\n                <h5 className=\"modal-title\">Actualizar Precios</h5>\r\n                <Button variant=\"close\" onClick={() => setShowPriceUpdateModal(false)} />\r\n              </div>\r\n              <div className=\"modal-body\">\r\n                <p>Actualizando precios para {priceUpdates.length} ensayos...</p>\r\n                {priceUpdates.map((update, index) => (\r\n                  <div key={index} className=\"d-flex justify-content-between align-items-center mb-2\">\r\n                    <span>{update.codigo}</span>\r\n                    <Form.Control\r\n                      type=\"number\"\r\n                      value={update.precio}\r\n                      onChange={(e) => {\r\n                        const newUpdates = [...priceUpdates];\r\n                        newUpdates[index].precio = parseFloat(e.target.value);\r\n                        setPriceUpdates(newUpdates);\r\n                      }}\r\n                      style={{ width: '120px' }}\r\n                    />\r\n                  </div>\r\n                ))}\r\n              </div>\r\n              <div className=\"modal-footer\">\r\n                <Button variant=\"secondary\" onClick={() => setShowPriceUpdateModal(false)}>\r\n                  Cancelar\r\n                </Button>\r\n                <Button variant=\"primary\" onClick={handleSavePriceUpdates}>\r\n                  Guardar Cambios\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default EnsayosList;"],"names":["EnsayosList","ensayos","setEnsayos","useState","loading","setLoading","searchTerm","setSearchTerm","filters","setFilters","pagination","setPagination","selectedEnsayos","setSelectedEnsayos","showImportModal","setShowImportModal","showPriceUpdateModal","setShowPriceUpdateModal","priceUpdates","setPriceUpdates","categorias","ubicaciones","loadEnsayos","params","data","apiFetch","error","useEffect","handleSearch","e","prev","handleFilterChange","key","value","handleSelectEnsayos","ensayo","checked","handleSelectAll","handleBulkPriceUpdate","handleSavePriceUpdates","formatPrice","price","getCategoryColor","categoria","jsxs","Container","jsx","Row","Col","Button","FiDownload","FiUpload","FiRefreshCw","Form","InputGroup","FiSearch","cat","ubic","FiDollarSign","Card","FiEye","Badge","Table","Spinner","FiEdit","update","index","newUpdates"],"mappings":"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"}