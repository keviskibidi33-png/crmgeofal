{"version":3,"file":"Activities-DhQ2843m.js","sources":["../../src/pages/Activities.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Container, Row, Col, Card, Button, Form, Badge, Spinner, Alert } from 'react-bootstrap';\r\nimport { \r\n  FiActivity, FiRefreshCw, FiFilter, FiSearch, FiCalendar, FiUser, FiTag,\r\n  FiArrowLeft, FiDownload, FiEye, FiClock, FiCheckCircle, FiX, FiAlertTriangle\r\n} from 'react-icons/fi';\r\nimport { useQuery } from 'react-query';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { getRecentActivities, getActivitiesByType, ACTIVITY_TYPES, ENTITY_TYPES } from '../services/activities';\r\nimport { useActivities } from '../hooks/useActivities';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport PageHeader from '../components/common/PageHeader';\r\n\r\nconst Activities = () => {\r\n  const navigate = useNavigate();\r\n  const { user } = useAuth();\r\n  const [filters, setFilters] = useState({\r\n    type: '',\r\n    entityType: '',\r\n    limit: 20,\r\n    offset: 0\r\n  });\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n\r\n  // Hook optimizado para actividades\r\n  const { \r\n    data: activitiesData, \r\n    isLoading, \r\n    error,\r\n    refreshActivities,\r\n    hasActivities,\r\n    activitiesCount\r\n  } = useActivities({ \r\n    limit: filters.limit,\r\n    refetchInterval: 0, // No auto-refresh en esta página\r\n    staleTime: 30000, // 30 segundos\r\n    userId: user?.id, // Filtrar por usuario actual\r\n    role: user?.role // Filtrar por rol\r\n  });\r\n\r\n  // Función para formatear tiempo de actividad\r\n  const formatActivityTime = (createdAt) => {\r\n    const now = new Date();\r\n    const activityTime = new Date(createdAt);\r\n    const diffInMinutes = Math.floor((now - activityTime) / (1000 * 60));\r\n    \r\n    if (diffInMinutes < 1) return 'Ahora';\r\n    if (diffInMinutes < 60) return `Hace ${diffInMinutes} min`;\r\n    if (diffInMinutes < 1440) return `Hace ${Math.floor(diffInMinutes / 60)} h`;\r\n    return `Hace ${Math.floor(diffInMinutes / 1440)} días`;\r\n  };\r\n\r\n  // Función para obtener icono según tipo de actividad\r\n  const getActivityIcon = (type) => {\r\n    const icons = {\r\n      quote_created: FiActivity,\r\n      quote_assigned: FiActivity,\r\n      quote_approved: FiCheckCircle,\r\n      quote_rejected: FiX,\r\n      quote_completed: FiCheckCircle,\r\n      project_created: FiActivity,\r\n      project_assigned: FiActivity,\r\n      project_started: FiActivity,\r\n      project_completed: FiCheckCircle,\r\n      project_delayed: FiAlertTriangle,\r\n      ticket_created: FiActivity,\r\n      ticket_assigned: FiActivity,\r\n      ticket_resolved: FiCheckCircle,\r\n      ticket_escalated: FiAlertTriangle,\r\n      evidence_uploaded: FiActivity,\r\n      evidence_approved: FiCheckCircle,\r\n      evidence_rejected: FiX,\r\n      user_registered: FiUser,\r\n      user_assigned: FiUser,\r\n      user_role_changed: FiUser,\r\n      client_created: FiUser,\r\n      client_updated: FiUser,\r\n      system_maintenance: FiActivity,\r\n      system_update: FiActivity\r\n    };\r\n    return icons[type] || FiActivity;\r\n  };\r\n\r\n  // Función para obtener color según tipo de actividad\r\n  const getActivityColor = (type) => {\r\n    const colors = {\r\n      quote_created: 'primary',\r\n      quote_assigned: 'primary',\r\n      quote_approved: 'success',\r\n      quote_rejected: 'danger',\r\n      quote_completed: 'success',\r\n      project_created: 'info',\r\n      project_assigned: 'info',\r\n      project_started: 'info',\r\n      project_completed: 'success',\r\n      project_delayed: 'warning',\r\n      ticket_created: 'warning',\r\n      ticket_assigned: 'warning',\r\n      ticket_resolved: 'success',\r\n      ticket_escalated: 'danger',\r\n      evidence_uploaded: 'secondary',\r\n      evidence_approved: 'success',\r\n      evidence_rejected: 'danger',\r\n      user_registered: 'info',\r\n      user_assigned: 'info',\r\n      user_role_changed: 'secondary',\r\n      client_created: 'primary',\r\n      client_updated: 'primary',\r\n      system_maintenance: 'secondary',\r\n      system_update: 'secondary'\r\n    };\r\n    return colors[type] || 'secondary';\r\n  };\r\n\r\n  // Función para obtener etiqueta del tipo de actividad\r\n  const getActivityTypeLabel = (type) => {\r\n    const labels = {\r\n      quote_created: 'Cotización Creada',\r\n      quote_assigned: 'Cotización Asignada',\r\n      quote_approved: 'Cotización Aprobada',\r\n      quote_rejected: 'Cotización Rechazada',\r\n      quote_completed: 'Cotización Completada',\r\n      project_created: 'Proyecto Creado',\r\n      project_assigned: 'Proyecto Asignado',\r\n      project_started: 'Proyecto Iniciado',\r\n      project_completed: 'Proyecto Completado',\r\n      project_delayed: 'Proyecto Retrasado',\r\n      ticket_created: 'Ticket Creado',\r\n      ticket_assigned: 'Ticket Asignado',\r\n      ticket_resolved: 'Ticket Resuelto',\r\n      ticket_escalated: 'Ticket Escalado',\r\n      evidence_uploaded: 'Evidencia Subida',\r\n      evidence_approved: 'Evidencia Aprobada',\r\n      evidence_rejected: 'Evidencia Rechazada',\r\n      user_registered: 'Usuario Registrado',\r\n      user_assigned: 'Usuario Asignado',\r\n      user_role_changed: 'Rol Cambiado',\r\n      client_created: 'Cliente Creado',\r\n      client_updated: 'Cliente Actualizado',\r\n      system_maintenance: 'Mantenimiento',\r\n      system_update: 'Actualización'\r\n    };\r\n    return labels[type] || type;\r\n  };\r\n\r\n  // Filtrar actividades\r\n  const filteredActivities = activitiesData?.activities?.filter(activity => {\r\n    const matchesSearch = !searchTerm || \r\n      activity.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      activity.description.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      activity.user_name?.toLowerCase().includes(searchTerm.toLowerCase());\r\n    \r\n    const matchesType = !filters.type || activity.type === filters.type;\r\n    const matchesEntity = !filters.entityType || activity.entity_type === filters.entityType;\r\n    \r\n    return matchesSearch && matchesType && matchesEntity;\r\n  }) || [];\r\n\r\n  return (\r\n    <Container fluid className=\"py-4\">\r\n      <PageHeader\r\n        title=\"Actividades del Sistema\"\r\n        subtitle=\"Historial completo de actividades y eventos\"\r\n        breadcrumb={[\r\n          { label: 'Dashboard', href: '/dashboard' },\r\n          { label: 'Actividades', active: true }\r\n        ]}\r\n      />\r\n\r\n      <Row>\r\n        {/* Filtros y controles */}\r\n        <Col lg={12} className=\"mb-4\">\r\n          <Card>\r\n            <Card.Body>\r\n              <Row className=\"align-items-center\">\r\n                <Col md={4}>\r\n                  <Form.Group>\r\n                    <Form.Label>\r\n                      <FiSearch className=\"me-1\" />\r\n                      Buscar\r\n                    </Form.Label>\r\n                    <Form.Control\r\n                      type=\"text\"\r\n                      placeholder=\"Buscar en actividades...\"\r\n                      value={searchTerm}\r\n                      onChange={(e) => setSearchTerm(e.target.value)}\r\n                    />\r\n                  </Form.Group>\r\n                </Col>\r\n                <Col md={3}>\r\n                  <Form.Group>\r\n                    <Form.Label>\r\n                      <FiTag className=\"me-1\" />\r\n                      Tipo\r\n                    </Form.Label>\r\n                    <Form.Select\r\n                      value={filters.type}\r\n                      onChange={(e) => setFilters({...filters, type: e.target.value})}\r\n                    >\r\n                      <option value=\"\">Todos los tipos</option>\r\n                      <option value=\"quote_created\">Cotización Creada</option>\r\n                      <option value=\"quote_assigned\">Cotización Asignada</option>\r\n                      <option value=\"quote_approved\">Cotización Aprobada</option>\r\n                      <option value=\"quote_completed\">Cotización Completada</option>\r\n                      <option value=\"project_created\">Proyecto Creado</option>\r\n                      <option value=\"project_completed\">Proyecto Completado</option>\r\n                      <option value=\"ticket_created\">Ticket Creado</option>\r\n                      <option value=\"ticket_resolved\">Ticket Resuelto</option>\r\n                      <option value=\"evidence_uploaded\">Evidencia Subida</option>\r\n                      <option value=\"user_registered\">Usuario Registrado</option>\r\n                      <option value=\"client_created\">Cliente Creado</option>\r\n                    </Form.Select>\r\n                  </Form.Group>\r\n                </Col>\r\n                <Col md={3}>\r\n                  <Form.Group>\r\n                    <Form.Label>\r\n                      <FiFilter className=\"me-1\" />\r\n                      Entidad\r\n                    </Form.Label>\r\n                    <Form.Select\r\n                      value={filters.entityType}\r\n                      onChange={(e) => setFilters({...filters, entityType: e.target.value})}\r\n                    >\r\n                      <option value=\"\">Todas las entidades</option>\r\n                      <option value=\"quote\">Cotizaciones</option>\r\n                      <option value=\"project\">Proyectos</option>\r\n                      <option value=\"ticket\">Tickets</option>\r\n                      <option value=\"evidence\">Evidencias</option>\r\n                      <option value=\"user\">Usuarios</option>\r\n                      <option value=\"client\">Clientes</option>\r\n                    </Form.Select>\r\n                  </Form.Group>\r\n                </Col>\r\n                <Col md={2}>\r\n                  <div className=\"d-flex gap-2\">\r\n                    <Button\r\n                      variant=\"outline-primary\"\r\n                      onClick={refreshActivities}\r\n                      disabled={isLoading}\r\n                      title=\"Actualizar actividades\"\r\n                    >\r\n                      <FiRefreshCw className={isLoading ? 'spinning' : ''} />\r\n                    </Button>\r\n                    <Button\r\n                      variant=\"outline-secondary\"\r\n                      onClick={() => navigate('/dashboard')}\r\n                      title=\"Volver al Dashboard\"\r\n                    >\r\n                      <FiArrowLeft />\r\n                    </Button>\r\n                  </div>\r\n                </Col>\r\n              </Row>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n\r\n        {/* Lista de actividades */}\r\n        <Col lg={12}>\r\n          <Card>\r\n            <Card.Header className=\"d-flex justify-content-between align-items-center\">\r\n              <div>\r\n                <h5 className=\"mb-0\">Actividades Recientes</h5>\r\n                <small className=\"text-muted\">\r\n                  {filteredActivities.length} de {activitiesCount} actividades\r\n                </small>\r\n              </div>\r\n              <div className=\"d-flex gap-2\">\r\n                <Button variant=\"outline-success\" size=\"sm\">\r\n                  <FiDownload className=\"me-1\" />\r\n                  Exportar\r\n                </Button>\r\n              </div>\r\n            </Card.Header>\r\n            <Card.Body>\r\n              {isLoading ? (\r\n                <div className=\"text-center py-5\">\r\n                  <Spinner animation=\"border\" variant=\"primary\" />\r\n                  <p className=\"mt-3 text-muted\">Cargando actividades...</p>\r\n                </div>\r\n              ) : error ? (\r\n                <Alert variant=\"danger\">\r\n                  <Alert.Heading>Error al cargar actividades</Alert.Heading>\r\n                  <p>No se pudieron cargar las actividades. Por favor, intenta nuevamente.</p>\r\n                  <Button variant=\"outline-danger\" onClick={refreshActivities}>\r\n                    <FiRefreshCw className=\"me-1\" />\r\n                    Reintentar\r\n                  </Button>\r\n                </Alert>\r\n              ) : filteredActivities.length === 0 ? (\r\n                <div className=\"text-center py-5\">\r\n                  <FiActivity size={48} className=\"text-muted mb-3\" />\r\n                  <h5 className=\"text-muted\">No hay actividades</h5>\r\n                  <p className=\"text-muted\">\r\n                    {searchTerm || filters.type || filters.entityType \r\n                      ? 'No se encontraron actividades con los filtros aplicados.'\r\n                      : 'Aún no hay actividades registradas en el sistema.'\r\n                    }\r\n                  </p>\r\n                  {(searchTerm || filters.type || filters.entityType) && (\r\n                    <Button \r\n                      variant=\"outline-primary\" \r\n                      onClick={() => {\r\n                        setSearchTerm('');\r\n                        setFilters({ type: '', entityType: '', limit: 20, offset: 0 });\r\n                      }}\r\n                    >\r\n                      Limpiar filtros\r\n                    </Button>\r\n                  )}\r\n                </div>\r\n              ) : (\r\n                <div className=\"activity-list\">\r\n                  {filteredActivities.map((activity) => {\r\n                    const Icon = getActivityIcon(activity.type);\r\n                    const color = getActivityColor(activity.type);\r\n                    const typeLabel = getActivityTypeLabel(activity.type);\r\n                    \r\n                    return (\r\n                      <div key={activity.id} className=\"activity-item d-flex align-items-start mb-4 p-3 border rounded\">\r\n                        <div className={`activity-icon bg-${color} bg-opacity-10 rounded-circle p-3 me-3`}>\r\n                          <Icon size={24} className={`text-${color}`} />\r\n                        </div>\r\n                        <div className=\"flex-grow-1\">\r\n                          <div className=\"d-flex justify-content-between align-items-start mb-2\">\r\n                            <div>\r\n                              <h6 className=\"mb-1\">{activity.title}</h6>\r\n                              <Badge bg={color} className=\"me-2\">\r\n                                {typeLabel}\r\n                              </Badge>\r\n                              {activity.entity_type && (\r\n                                <Badge bg=\"secondary\" variant=\"outline\">\r\n                                  {activity.entity_type}\r\n                                </Badge>\r\n                              )}\r\n                            </div>\r\n                            <div className=\"text-end\">\r\n                              <small className=\"text-muted d-flex align-items-center\">\r\n                                <FiClock className=\"me-1\" />\r\n                                {formatActivityTime(activity.created_at)}\r\n                              </small>\r\n                            </div>\r\n                          </div>\r\n                          <p className=\"text-muted mb-2\">{activity.description}</p>\r\n                          <div className=\"d-flex justify-content-between align-items-center\">\r\n                            <small className=\"text-muted\">\r\n                              {activity.user_name && (\r\n                                <span>\r\n                                  <FiUser className=\"me-1\" />\r\n                                  por {activity.user_name}\r\n                                </span>\r\n                              )}\r\n                            </small>\r\n                            <Button variant=\"outline-primary\" size=\"sm\">\r\n                              <FiEye className=\"me-1\" />\r\n                              Ver detalles\r\n                            </Button>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              )}\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Activities;\r\n"],"names":["Activities","navigate","useNavigate","user","useAuth","filters","setFilters","useState","searchTerm","setSearchTerm","activitiesData","isLoading","error","refreshActivities","activitiesCount","useActivities","formatActivityTime","createdAt","now","activityTime","diffInMinutes","getActivityIcon","type","FiActivity","FiCheckCircle","FiX","FiAlertTriangle","FiUser","getActivityColor","getActivityTypeLabel","filteredActivities","_a","activity","matchesSearch","matchesType","matchesEntity","jsxs","Container","jsx","PageHeader","Row","Col","Card","Form","FiSearch","e","FiTag","FiFilter","Button","FiRefreshCw","FiArrowLeft","FiDownload","Spinner","Alert","Icon","color","typeLabel","Badge","FiClock","FiEye"],"mappings":"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"}