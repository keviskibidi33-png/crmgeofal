{"version":3,"file":"Proyectos-C05ukTwl.js","sources":["../../src/pages/Proyectos.jsx"],"sourcesContent":["import React, { useState, useMemo } from 'react';\r\nimport { useQuery, useMutation, useQueryClient } from 'react-query';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\nimport { Button, Badge, Row, Col, Card, Container, Tabs, Tab } from 'react-bootstrap';\r\nimport { FiPlus, FiEdit, FiTrash2, FiHome, FiMapPin, FiCalendar, FiUser, FiCheckCircle, FiClock, FiX, FiRefreshCw, FiFolder, FiMessageCircle, FiCheck, FiSettings, FiEye, FiUsers } from 'react-icons/fi';\r\nimport PageHeader from '../components/common/PageHeader';\r\nimport DataTable from '../components/common/DataTable';\r\nimport ModalForm from '../components/common/ModalForm';\r\nimport StatsCard from '../components/common/StatsCard';\r\nimport { listProjects, createProject, updateProject, deleteProject, getProjectStats, updateProjectStatus, updateProjectCategories, updateProjectQueries, updateProjectMark } from '../services/projects';\r\n\r\nconst emptyForm = { company_id: '', name: '', location: '', vendedor_id: '', laboratorio_id: '', requiere_laboratorio: false, requiere_ingenieria: false, contact_name: '', contact_phone: '', contact_email: '' };\r\n\r\nexport default function Proyectos() {\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [editingProject, setEditingProject] = useState(null);\r\n  const [deletingProject, setDeletingProject] = useState(null);\r\n  const [showCategoriesModal, setShowCategoriesModal] = useState(false);\r\n  const [showQueriesModal, setShowQueriesModal] = useState(false);\r\n  const [showStatusModal, setShowStatusModal] = useState(false);\r\n  const [showViewModal, setShowViewModal] = useState(false);\r\n  const [selectedProject, setSelectedProject] = useState(null);\r\n  const [activeTab, setActiveTab] = useState('view');\r\n  const [editingData, setEditingData] = useState({});\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [selectedStatus, setSelectedStatus] = useState('');\r\n  const [selectedCompany, setSelectedCompany] = useState('');\r\n  const [selectedProjectType, setSelectedProjectType] = useState('');\r\n  const [isSearching, setIsSearching] = useState(false);\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  \r\n  // Obtener cliente pre-seleccionado desde la navegación\r\n  const selectedClient = location.state?.selectedClient;\r\n\r\n  const queryClient = useQueryClient();\r\n\r\n  const { data, isLoading, refetch } = useQuery(\r\n    ['projects', currentPage, searchTerm, selectedStatus, selectedCompany, selectedProjectType],\r\n    () => listProjects({ \r\n      page: currentPage, \r\n      limit: 20, \r\n      search: searchTerm, \r\n      status: selectedStatus, \r\n      company_id: selectedCompany,\r\n      project_type: selectedProjectType\r\n    }),\r\n    { \r\n      keepPreviousData: true,\r\n      refetchOnWindowFocus: true,\r\n      refetchOnMount: true,\r\n      staleTime: 0,\r\n      cacheTime: 0\r\n    }\r\n  );\r\n\r\n  // Estadísticas separadas\r\n  const { data: statsData, isLoading: statsLoading } = useQuery(\r\n    ['projectStats'],\r\n    getProjectStats,\r\n    {\r\n      refetchOnWindowFocus: true,\r\n      refetchOnMount: true,\r\n      staleTime: 30000, // 30 segundos\r\n      cacheTime: 60000  // 1 minuto\r\n    }\r\n  );\r\n\r\n  const handleMutationSuccess = (message) => {\r\n    queryClient.invalidateQueries('projects');\r\n    queryClient.invalidateQueries('projectStats');\r\n    setShowModal(false);\r\n    setEditingProject(null);\r\n    setDeletingProject(null);\r\n  };\r\n\r\n  // Función para manejar búsqueda\r\n  const handleSearch = (searchValue) => {\r\n    console.log('🔍 handleSearch - Búsqueda:', searchValue);\r\n    setSearchTerm(searchValue);\r\n    setCurrentPage(1); // Resetear a la primera página\r\n    setIsSearching(true);\r\n    setTimeout(() => setIsSearching(false), 1000);\r\n  };\r\n\r\n  // Función para manejar filtros\r\n  const handleFilter = (filters) => {\r\n    console.log('🔍 handleFilter - Filtros:', filters);\r\n    setSelectedStatus(filters.status || '');\r\n    setSelectedCompany(filters.company_id || '');\r\n    setSelectedProjectType(filters.project_type || '');\r\n    setCurrentPage(1); // Resetear a la primera página\r\n  };\r\n\r\n  // Opciones de filtros específicas para proyectos\r\n  const projectFilterOptions = [\r\n    {\r\n      title: 'Por Estado',\r\n      options: [\r\n        { label: 'Pendientes', filter: { status: 'pendiente' } },\r\n        { label: 'Activos', filter: { status: 'activo' } },\r\n        { label: 'Completados', filter: { status: 'completado' } },\r\n        { label: 'Cancelados', filter: { status: 'cancelado' } }\r\n      ]\r\n    },\r\n    {\r\n      title: 'Por Tipo de Proyecto',\r\n      options: [\r\n        { label: 'Análisis de Suelos', filter: { project_type: 'Análisis de Suelos' } },\r\n        { label: 'Estudio Geotécnico', filter: { project_type: 'Estudio Geotécnico' } },\r\n        { label: 'Evaluación Ambiental', filter: { project_type: 'Evaluación Ambiental' } },\r\n        { label: 'Control de Calidad', filter: { project_type: 'Control de Calidad' } },\r\n        { label: 'Análisis de Agua', filter: { project_type: 'Análisis de Agua' } },\r\n        { label: 'Estudio de Impacto', filter: { project_type: 'Estudio de Impacto' } },\r\n        { label: 'Análisis Químico', filter: { project_type: 'Análisis Químico' } },\r\n        { label: 'Pruebas de Laboratorio', filter: { project_type: 'Pruebas de Laboratorio' } },\r\n        { label: 'Inspección Técnica', filter: { project_type: 'Inspección Técnica' } },\r\n        { label: 'Certificación de Materiales', filter: { project_type: 'Certificación de Materiales' } }\r\n      ]\r\n    }\r\n  ];\r\n\r\n  const createMutation = useMutation(createProject, {\r\n    onSuccess: () => handleMutationSuccess('Proyecto creado exitosamente'),\r\n    onError: (error) => console.error('Error creating project:', error)\r\n  });\r\n\r\n  const updateMutation = useMutation(updateProject, {\r\n    onSuccess: () => handleMutationSuccess('Proyecto actualizado exitosamente'),\r\n    onError: (error) => console.error('Error updating project:', error)\r\n  });\r\n\r\n  const deleteMutation = useMutation(deleteProject, {\r\n    onSuccess: () => handleMutationSuccess('Proyecto eliminado exitosamente'),\r\n    onError: (error) => console.error('Error deleting project:', error)\r\n  });\r\n\r\n  const updateStatusMutation = useMutation(\r\n    ({ id, ...data }) => updateProjectStatus(id, data),\r\n    {\r\n      onSuccess: () => handleMutationSuccess('Estado del proyecto actualizado exitosamente'),\r\n      onError: (error) => console.error('Error updating project status:', error)\r\n    }\r\n  );\r\n\r\n  const updateCategoriesMutation = useMutation(\r\n    ({ id, ...data }) => updateProjectCategories(id, data),\r\n    {\r\n      onSuccess: () => handleMutationSuccess('Categorías del proyecto actualizadas exitosamente'),\r\n      onError: (error) => console.error('Error updating project categories:', error)\r\n    }\r\n  );\r\n\r\n  const updateQueriesMutation = useMutation(\r\n    ({ id, ...data }) => updateProjectQueries(id, data),\r\n    {\r\n      onSuccess: () => handleMutationSuccess('Consultas del proyecto actualizadas exitosamente'),\r\n      onError: (error) => console.error('Error updating project queries:', error)\r\n    }\r\n  );\r\n\r\n  const updateMarkMutation = useMutation(\r\n    ({ id, ...data }) => updateProjectMark(id, data),\r\n    {\r\n      onSuccess: () => handleMutationSuccess('Proyecto marcado/desmarcado exitosamente'),\r\n      onError: (error) => console.error('Error updating project mark:', error)\r\n    }\r\n  );\r\n\r\n  const handleCreate = () => {\r\n    // Si hay un cliente pre-seleccionado, pre-llenar el formulario\r\n    const formData = selectedClient ? {\r\n      ...emptyForm,\r\n      company_id: selectedClient.id,\r\n      name: `${selectedClient.sector || 'Proyecto'} - ${selectedClient.name}`,\r\n      location: selectedClient.city || '',\r\n      contact_name: selectedClient.contact_name || '',\r\n      contact_phone: selectedClient.phone || '',\r\n      contact_email: selectedClient.email || ''\r\n    } : emptyForm;\r\n    \r\n    setEditingProject(formData);\r\n    setShowModal(true);\r\n  };\r\n\r\n  const handleEdit = (project) => {\r\n    setEditingProject(project);\r\n    setShowModal(true);\r\n  };\r\n\r\n  const handleDelete = (project) => {\r\n    if (window.confirm(`¿Estás seguro de que quieres eliminar el proyecto \"${project.name}\"?`)) {\r\n      deleteMutation.mutate(project.id);\r\n    }\r\n  };\r\n\r\n  const handleViewCategories = (project) => {\r\n    setSelectedProject(project);\r\n    setShowCategoriesModal(true);\r\n  };\r\n\r\n  const handleViewQueries = (project) => {\r\n    setSelectedProject(project);\r\n    setShowQueriesModal(true);\r\n  };\r\n\r\n  const handleToggleMark = async (project) => {\r\n    try {\r\n      // Aquí implementarías la lógica para marcar/desmarcar\r\n      console.log('Marcar/desmarcar proyecto:', project);\r\n      // Por ahora solo mostramos un mensaje\r\n      alert(`Proyecto ${project.marked ? 'desmarcado' : 'marcado'}: ${project.name}`);\r\n    } catch (error) {\r\n      console.error('Error al marcar proyecto:', error);\r\n    }\r\n  };\r\n\r\n  const handleUpdateStatus = (project) => {\r\n    setSelectedProject(project);\r\n    setShowStatusModal(true);\r\n  };\r\n\r\n  const handleViewProject = (project) => {\r\n    console.log('🔍 handleViewProject - Project recibido:', project);\r\n    console.log('🔍 handleViewProject - Project.id:', project?.id);\r\n    console.log('🔍 handleViewProject - Type of project.id:', typeof project?.id);\r\n    \r\n    setSelectedProject(project);\r\n    setEditingData(project);\r\n    setActiveTab('view');\r\n    setShowViewModal(true);\r\n  };\r\n\r\n  const handleSubmit = async (formData) => {\r\n    if (editingProject.id) {\r\n      await updateMutation.mutateAsync({ id: editingProject.id, ...formData });\r\n    } else {\r\n      await createMutation.mutateAsync(formData);\r\n    }\r\n  };\r\n\r\n  const getStatusBadge = (status) => {\r\n    const statusConfig = {\r\n      'activo': { bg: 'success', text: 'Activo' },\r\n      'pendiente': { bg: 'warning', text: 'Pendiente' },\r\n      'completado': { bg: 'primary', text: 'Completado' },\r\n      'cancelado': { bg: 'danger', text: 'Cancelado' }\r\n    };\r\n    \r\n    const config = statusConfig[status] || { bg: 'secondary', text: status };\r\n    return <Badge bg={config.bg} className=\"status-badge\">{config.text}</Badge>;\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      header: 'ID',\r\n      accessor: 'id',\r\n      width: '80px'\r\n    },\r\n    {\r\n      header: 'Proyecto',\r\n      accessor: 'name',\r\n      render: (value, row) => (\r\n        <div>\r\n          <div className=\"fw-medium\">{row.name}</div>\r\n          {row.location && (\r\n            <small className=\"text-muted\">\r\n              <FiMapPin size={12} className=\"me-1\" />\r\n              {row.location}\r\n            </small>\r\n          )}\r\n        </div>\r\n      )\r\n    },\r\n    {\r\n      header: 'Tipo de Proyecto',\r\n      accessor: 'project_type',\r\n      render: (value, row) => {\r\n        const projectType = row.project_type || 'General';\r\n        let typeColor = 'secondary';\r\n        \r\n        // Asignar colores según el tipo de proyecto\r\n        switch (projectType) {\r\n          case 'Análisis de Suelos':\r\n            typeColor = 'success';\r\n            break;\r\n          case 'Estudio Geotécnico':\r\n            typeColor = 'primary';\r\n            break;\r\n          case 'Evaluación Ambiental':\r\n            typeColor = 'info';\r\n            break;\r\n          case 'Control de Calidad':\r\n            typeColor = 'warning';\r\n            break;\r\n          case 'Análisis de Agua':\r\n            typeColor = 'info';\r\n            break;\r\n          case 'Estudio de Impacto':\r\n            typeColor = 'danger';\r\n            break;\r\n          case 'Análisis Químico':\r\n            typeColor = 'primary';\r\n            break;\r\n          case 'Pruebas de Laboratorio':\r\n            typeColor = 'success';\r\n            break;\r\n          case 'Inspección Técnica':\r\n            typeColor = 'warning';\r\n            break;\r\n          case 'Certificación de Materiales':\r\n            typeColor = 'info';\r\n            break;\r\n          default:\r\n            typeColor = 'secondary';\r\n        }\r\n        \r\n        return (\r\n          <Badge bg={typeColor} className=\"px-2 py-1\">\r\n            {projectType}\r\n          </Badge>\r\n        );\r\n      }\r\n    },\r\n    {\r\n      header: 'Empresa',\r\n      accessor: 'company_name',\r\n      render: (value, row) => (\r\n        <div>\r\n          <div className=\"fw-medium\">{row.company_name || 'Sin empresa'}</div>\r\n          {row.company_ruc && (\r\n            <small className=\"text-muted\">RUC: {row.company_ruc}</small>\r\n          )}\r\n        </div>\r\n      )\r\n    },\r\n    {\r\n      header: 'Estado',\r\n      accessor: 'status',\r\n      render: (value) => getStatusBadge(value || 'activo')\r\n    },\r\n    {\r\n      header: 'Servicios Requeridos',\r\n      accessor: 'services',\r\n      render: (value, row) => (\r\n        <div className=\"d-flex flex-wrap gap-1\">\r\n          {row.requiere_laboratorio && (\r\n            <Badge bg=\"info\" className=\"px-2 py-1\">\r\n              <FiHome size={12} className=\"me-1\" />\r\n              Laboratorio\r\n            </Badge>\r\n          )}\r\n          {row.requiere_ingenieria && (\r\n            <Badge bg=\"primary\" className=\"px-2 py-1\">\r\n              <FiUser size={12} className=\"me-1\" />\r\n              Ingeniería\r\n            </Badge>\r\n          )}\r\n          {!row.requiere_laboratorio && !row.requiere_ingenieria && (\r\n            <Badge bg=\"secondary\" className=\"px-2 py-1\">\r\n              Sin servicios\r\n            </Badge>\r\n          )}\r\n        </div>\r\n      )\r\n    },\r\n    {\r\n      header: 'Contacto',\r\n      accessor: 'contacto',\r\n      render: (value, row) => (\r\n        <div className=\"small\">\r\n          {row.contact_name && (\r\n            <div><strong>{row.contact_name}</strong></div>\r\n          )}\r\n          {row.contact_phone && (\r\n            <div className=\"text-muted\">{row.contact_phone}</div>\r\n          )}\r\n          {row.contact_email && (\r\n            <div className=\"text-muted\">{row.contact_email}</div>\r\n          )}\r\n          {!row.contact_name && !row.contact_phone && !row.contact_email && (\r\n            <span className=\"text-muted\">Sin contacto</span>\r\n          )}\r\n        </div>\r\n      )\r\n    },\r\n    {\r\n      header: 'Asignado a',\r\n      accessor: 'vendedor_name',\r\n      render: (value, row) => (\r\n        <div>\r\n          {row.vendedor_name && (\r\n            <div className=\"d-flex align-items-center\">\r\n              <FiUser size={14} className=\"me-1 text-muted\" />\r\n              <span>{row.vendedor_name}</span>\r\n            </div>\r\n          )}\r\n          {row.laboratorio_name && (\r\n            <div className=\"d-flex align-items-center mt-1\">\r\n              <FiHome size={14} className=\"me-1 text-muted\" />\r\n              <span className=\"small text-muted\">{row.laboratorio_name}</span>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )\r\n    },\r\n    {\r\n      header: 'Fecha Creación',\r\n      accessor: 'created_at',\r\n      type: 'date'\r\n    }\r\n  ];\r\n\r\n  const formFields = [\r\n    {\r\n      name: 'company_id',\r\n      label: 'Empresa/Cliente',\r\n      type: 'select',\r\n      required: true,\r\n      options: data?.companies?.map(company => ({\r\n        value: company.id,\r\n        label: `${company.name} (${company.ruc || company.dni || 'Sin RUC/DNI'})`\r\n      })) || [],\r\n      description: 'Selecciona un cliente existente o crea uno nuevo desde el módulo de clientes'\r\n    },\r\n    {\r\n      name: 'name',\r\n      label: 'Nombre del Proyecto',\r\n      type: 'text',\r\n      required: true,\r\n      placeholder: 'Ingresa el nombre del proyecto'\r\n    },\r\n    {\r\n      name: 'location',\r\n      label: 'Ubicación del Proyecto',\r\n      type: 'text',\r\n      placeholder: 'Ingresa la ubicación del proyecto',\r\n      required: true\r\n    },\r\n    {\r\n      name: 'contact_name',\r\n      label: 'Persona de Contacto',\r\n      type: 'text',\r\n      placeholder: 'Nombre de la persona con quien negociar',\r\n      description: 'Persona responsable del proyecto en el cliente'\r\n    },\r\n    {\r\n      name: 'contact_phone',\r\n      label: 'Teléfono de Contacto',\r\n      type: 'text',\r\n      placeholder: 'Teléfono para comunicación directa',\r\n      description: 'Número para llamadas urgentes o seguimiento'\r\n    },\r\n    {\r\n      name: 'contact_email',\r\n      label: 'Email de Contacto',\r\n      type: 'email',\r\n      placeholder: 'Email para comunicación',\r\n      description: 'Email para envío de reportes y documentos'\r\n    },\r\n    {\r\n      name: 'vendedor_id',\r\n      label: 'Vendedor Asignado',\r\n      type: 'select',\r\n      options: data?.users?.filter(user => \r\n        ['vendedor_comercial', 'jefa_comercial'].includes(user.role)\r\n      ).map(user => ({\r\n        value: user.id,\r\n        label: `${user.name} ${user.apellido}`\r\n      })) || []\r\n    },\r\n    {\r\n      name: 'laboratorio_id',\r\n      label: 'Responsable de Laboratorio',\r\n      type: 'select',\r\n      options: data?.users?.filter(user => \r\n        ['jefe_laboratorio', 'usuario_laboratorio', 'laboratorio'].includes(user.role)\r\n      ).map(user => ({\r\n        value: user.id,\r\n        label: `${user.name} ${user.apellido}`\r\n      })) || []\r\n    },\r\n    {\r\n      name: 'requiere_laboratorio',\r\n      label: 'Requiere Servicios de Laboratorio',\r\n      type: 'checkbox',\r\n      description: 'Marcar si el proyecto necesita análisis o pruebas de laboratorio'\r\n    },\r\n    {\r\n      name: 'requiere_ingenieria',\r\n      label: 'Requiere Servicios de Ingeniería',\r\n      type: 'checkbox',\r\n      description: 'Marcar si el proyecto necesita estudios o consultoría de ingeniería'\r\n    }\r\n  ];\r\n\r\n  // Calcular estadísticas\r\n  const stats = useMemo(() => {\r\n    if (statsData) {\r\n      console.log('📊 Stats - Usando estadísticas reales del backend:', statsData);\r\n      return {\r\n        total: statsData.total || 0,\r\n        activos: statsData.activos || 0,\r\n        completados: statsData.completados || 0,\r\n        pendientes: statsData.pendientes || 0,\r\n        cancelados: statsData.cancelados || 0\r\n      };\r\n    }\r\n    // Fallback: calcular desde los datos de la página actual\r\n    const projects = data?.data || [];\r\n    console.log('📊 Stats - Fallback: calculando desde página actual:', projects);\r\n    return {\r\n      total: projects.length,\r\n      activos: projects.filter(p => p.status === 'activo').length,\r\n      completados: projects.filter(p => p.status === 'completado').length,\r\n      pendientes: projects.filter(p => p.status === 'pendiente').length,\r\n      cancelados: projects.filter(p => p.status === 'cancelado').length\r\n    };\r\n  }, [statsData, data]);\r\n\r\n  return (\r\n    <Container fluid className=\"py-4\">\r\n      <div className=\"fade-in\">\r\n        <PageHeader\r\n          title=\"Gestión de Proyectos\"\r\n          subtitle={selectedClient ? `Crear proyecto para: ${selectedClient.name}` : \"Crear, editar y gestionar proyectos del sistema\"}\r\n          icon={FiHome}\r\n          actions={\r\n            <div className=\"d-flex gap-2\">\r\n              {selectedClient && (\r\n                <Badge bg=\"info\" className=\"px-3 py-2 d-flex align-items-center\">\r\n                  <FiUser className=\"me-1\" />\r\n                  Cliente: {selectedClient.name}\r\n                </Badge>\r\n              )}\r\n              <Button variant=\"primary\" onClick={handleCreate}>\r\n                <FiPlus className=\"me-2\" />\r\n                {selectedClient ? 'Crear Proyecto' : 'Nuevo Proyecto'}\r\n              </Button>\r\n            </div>\r\n          }\r\n        />\r\n\r\n        {/* Estadísticas */}\r\n        <Row className=\"g-4 mb-4\">\r\n          <Col md={6} lg={3}>\r\n            <StatsCard\r\n              title=\"Total Proyectos\"\r\n              value={stats.total}\r\n              icon={FiHome}\r\n              color=\"primary\"\r\n              subtitle=\"Proyectos registrados\"\r\n              loading={statsLoading}\r\n            />\r\n          </Col>\r\n          <Col md={6} lg={3}>\r\n            <StatsCard\r\n              title=\"Proyectos Activos\"\r\n              value={stats.activos}\r\n              icon={FiCheckCircle}\r\n              color=\"success\"\r\n              subtitle=\"En desarrollo\"\r\n              loading={statsLoading}\r\n            />\r\n          </Col>\r\n          <Col md={6} lg={3}>\r\n            <StatsCard\r\n              title=\"Completados\"\r\n              value={stats.completados}\r\n              icon={FiCheckCircle}\r\n              color=\"info\"\r\n              subtitle=\"Finalizados\"\r\n              loading={statsLoading}\r\n            />\r\n          </Col>\r\n          <Col md={6} lg={3}>\r\n            <StatsCard\r\n              title=\"Pendientes\"\r\n              value={stats.pendientes}\r\n              icon={FiClock}\r\n              color=\"warning\"\r\n              subtitle=\"Por iniciar\"\r\n              loading={statsLoading}\r\n            />\r\n          </Col>\r\n        </Row>\r\n\r\n        {/* Tabla de proyectos */}\r\n        <Card className=\"shadow-sm border-0\">\r\n          <Card.Header className=\"bg-white border-bottom\">\r\n            <div className=\"d-flex justify-content-between align-items-center\">\r\n              <h5 className=\"mb-0\">\r\n                <FiHome className=\"me-2 text-primary\" />\r\n                Lista de Proyectos\r\n              </h5>\r\n              <div className=\"d-flex align-items-center gap-2\">\r\n                <Button\r\n                  variant=\"outline-secondary\"\r\n                  size=\"sm\"\r\n                  onClick={() => refetch()}\r\n                  className=\"d-flex align-items-center\"\r\n                  title=\"Actualizar datos\"\r\n                >\r\n                  <FiRefreshCw className={`${isLoading ? 'spinning' : ''}`} />\r\n                </Button>\r\n                <Badge bg=\"light\" text=\"dark\" className=\"px-3 py-2\">\r\n                  {stats.total} proyectos\r\n                </Badge>\r\n              </div>\r\n            </div>\r\n          </Card.Header>\r\n          <Card.Body className=\"p-0\">\r\n            <DataTable\r\n              data={data?.data || []}\r\n              columns={columns}\r\n              loading={isLoading || isSearching}\r\n              onEdit={handleEdit}\r\n              onDelete={handleDelete}\r\n              actions={[\r\n                { label: 'Gestionar', icon: FiEye, onClick: handleViewProject, variant: 'outline-primary' },\r\n                { label: 'Eliminar', icon: FiTrash2, onClick: handleDelete, variant: 'outline-danger' }\r\n              ]}\r\n              emptyMessage=\"No hay proyectos registrados\"\r\n              // Props para paginación del backend\r\n              totalItems={data?.total || 0}\r\n              itemsPerPage={20}\r\n              currentPage={currentPage}\r\n              onPageChange={setCurrentPage}\r\n              onSearch={handleSearch}\r\n              onFilter={handleFilter}\r\n              // Filtros específicos para proyectos\r\n              filterOptions={projectFilterOptions}\r\n            />\r\n          </Card.Body>\r\n        </Card>\r\n\r\n      <ModalForm\r\n        show={showModal}\r\n        onHide={() => setShowModal(false)}\r\n        title={editingProject?.id ? 'Editar Proyecto' : 'Nuevo Proyecto'}\r\n        data={editingProject || emptyForm}\r\n        fields={formFields}\r\n        onSubmit={handleSubmit}\r\n        loading={createMutation.isLoading || updateMutation.isLoading}\r\n        submitText={editingProject?.id ? 'Actualizar' : 'Crear'}\r\n      />\r\n\r\n      {/* Modal Unificado para Gestionar Proyecto */}\r\n      <ModalForm\r\n        show={showViewModal}\r\n        onHide={() => setShowViewModal(false)}\r\n        title={`Gestionar Proyecto - ${selectedProject?.name || ''}`}\r\n        data={editingData}\r\n        fields={[\r\n          {\r\n            name: 'project_management',\r\n            label: 'Gestión del Proyecto',\r\n            type: 'custom',\r\n            render: (project) => (\r\n              <Tabs\r\n                activeKey={activeTab}\r\n                onSelect={(k) => setActiveTab(k)}\r\n                className=\"mb-3\"\r\n              >\r\n                {/* Tab Ver */}\r\n                <Tab eventKey=\"view\" title={\r\n                  <span>\r\n                    <FiEye className=\"me-1\" />\r\n                    Ver\r\n                  </span>\r\n                }>\r\n                  <div className=\"row g-3\">\r\n                    <div className=\"col-md-6\">\r\n                      <div className=\"border rounded p-3 h-100\">\r\n                        <h6 className=\"text-primary mb-3\">\r\n                          <FiHome className=\"me-2\" />\r\n                          Datos Generales\r\n                        </h6>\r\n                        <div className=\"mb-2\">\r\n                          <strong>ID:</strong> {project.id}\r\n                        </div>\r\n                        <div className=\"mb-2\">\r\n                          <strong>Nombre:</strong> {project.name}\r\n                        </div>\r\n                        <div className=\"mb-2\">\r\n                          <strong>Ubicación:</strong> {project.location}\r\n                        </div>\r\n                        <div className=\"mb-2\">\r\n                          <strong>Tipo:</strong> \r\n                          <Badge bg=\"info\" className=\"ms-2\">{project.project_type}</Badge>\r\n                        </div>\r\n                        <div className=\"mb-2\">\r\n                          <strong>Estado:</strong> \r\n                          <Badge bg=\"primary\" className=\"ms-2\">{project.status}</Badge>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-md-6\">\r\n                      <div className=\"border rounded p-3 h-100\">\r\n                        <h6 className=\"text-success mb-3\">\r\n                          <FiUser className=\"me-2\" />\r\n                          Información de Contacto\r\n                        </h6>\r\n                        <div className=\"mb-2\">\r\n                          <strong>Empresa:</strong> {project.company_name}\r\n                        </div>\r\n                        <div className=\"mb-2\">\r\n                          <strong>RUC:</strong> {project.company_ruc}\r\n                        </div>\r\n                        <div className=\"mb-2\">\r\n                          <strong>Contacto:</strong> {project.contact_name || 'Sin contacto'}\r\n                        </div>\r\n                        <div className=\"mb-2\">\r\n                          <strong>Teléfono:</strong> {project.contact_phone || 'Sin teléfono'}\r\n                        </div>\r\n                        <div className=\"mb-2\">\r\n                          <strong>Email:</strong> {project.contact_email || 'Sin email'}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-md-6\">\r\n                      <div className=\"border rounded p-3 h-100\">\r\n                        <h6 className=\"text-warning mb-3\">\r\n                          <FiSettings className=\"me-2\" />\r\n                          Servicios Requeridos\r\n                        </h6>\r\n                        <div className=\"mb-2\">\r\n                          <strong>Laboratorio:</strong> \r\n                          {project.requiere_laboratorio ? (\r\n                            <Badge bg=\"info\" className=\"ms-2\">Requerido</Badge>\r\n                          ) : (\r\n                            <Badge bg=\"secondary\" className=\"ms-2\">No requerido</Badge>\r\n                          )}\r\n                        </div>\r\n                        <div className=\"mb-2\">\r\n                          <strong>Ingeniería:</strong> \r\n                          {project.requiere_ingenieria ? (\r\n                            <Badge bg=\"success\" className=\"ms-2\">Requerido</Badge>\r\n                          ) : (\r\n                            <Badge bg=\"secondary\" className=\"ms-2\">No requerido</Badge>\r\n                          )}\r\n                        </div>\r\n                        <div className=\"mb-2\">\r\n                          <strong>Estado Lab:</strong> \r\n                          <Badge bg=\"info\" className=\"ms-2\">{project.laboratorio_status}</Badge>\r\n                        </div>\r\n                        <div className=\"mb-2\">\r\n                          <strong>Estado Ing:</strong> \r\n                          <Badge bg=\"success\" className=\"ms-2\">{project.ingenieria_status}</Badge>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-md-6\">\r\n                      <div className=\"border rounded p-3 h-100\">\r\n                        <h6 className=\"text-info mb-3\">\r\n                          <FiUsers className=\"me-2\" />\r\n                          Asignaciones\r\n                        </h6>\r\n                        <div className=\"mb-2\">\r\n                          <strong>Vendedor:</strong> {project.vendedor_name || 'Sin asignar'}\r\n                        </div>\r\n                        <div className=\"mb-2\">\r\n                          <strong>Laboratorio:</strong> {project.laboratorio_name || 'Sin asignar'}\r\n                        </div>\r\n                        <div className=\"mb-2\">\r\n                          <strong>Fecha Creación:</strong> {new Date(project.created_at).toLocaleDateString()}\r\n                        </div>\r\n                        <div className=\"mb-2\">\r\n                          <strong>Última Actualización:</strong> {new Date(project.updated_at).toLocaleDateString()}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    {project.status_notes && (\r\n                      <div className=\"col-12\">\r\n                        <div className=\"border rounded p-3\">\r\n                          <h6 className=\"text-muted mb-3\">\r\n                            <FiMessageCircle className=\"me-2\" />\r\n                            Notas del Estado\r\n                          </h6>\r\n                          <p className=\"mb-0\">{project.status_notes}</p>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </Tab>\r\n\r\n                {/* Tab Editar */}\r\n                <Tab eventKey=\"edit\" title={\r\n                  <span>\r\n                    <FiEdit className=\"me-1\" />\r\n                    Editar\r\n                  </span>\r\n                }>\r\n                  <div className=\"row g-3\">\r\n                    <div className=\"col-md-6\">\r\n                      <div className=\"mb-3\">\r\n                        <label className=\"form-label\">Nombre del Proyecto</label>\r\n                        <input \r\n                          type=\"text\" \r\n                          className=\"form-control\" \r\n                          value={editingData.name || ''} \r\n                          onChange={(e) => setEditingData({...editingData, name: e.target.value})}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-md-6\">\r\n                      <div className=\"mb-3\">\r\n                        <label className=\"form-label\">Ubicación</label>\r\n                        <input \r\n                          type=\"text\" \r\n                          className=\"form-control\" \r\n                          value={editingData.location || ''} \r\n                          onChange={(e) => setEditingData({...editingData, location: e.target.value})}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-md-6\">\r\n                      <div className=\"mb-3\">\r\n                        <label className=\"form-label\">Persona de Contacto</label>\r\n                        <input \r\n                          type=\"text\" \r\n                          className=\"form-control\" \r\n                          value={editingData.contact_name || ''} \r\n                          onChange={(e) => setEditingData({...editingData, contact_name: e.target.value})}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-md-6\">\r\n                      <div className=\"mb-3\">\r\n                        <label className=\"form-label\">Teléfono de Contacto</label>\r\n                        <input \r\n                          type=\"text\" \r\n                          className=\"form-control\" \r\n                          value={editingData.contact_phone || ''} \r\n                          onChange={(e) => setEditingData({...editingData, contact_phone: e.target.value})}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-12\">\r\n                      <div className=\"mb-3\">\r\n                        <label className=\"form-label\">Email de Contacto</label>\r\n                        <input \r\n                          type=\"email\" \r\n                          className=\"form-control\" \r\n                          value={editingData.contact_email || ''} \r\n                          onChange={(e) => setEditingData({...editingData, contact_email: e.target.value})}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-12\">\r\n                      <Button \r\n                        variant=\"primary\" \r\n                        onClick={() => {\r\n                          const projectId = selectedProject?.id;\r\n                          if (!projectId) {\r\n                            console.error('No se encontró el ID del proyecto');\r\n                            return;\r\n                          }\r\n                          \r\n                          updateCategoriesMutation.mutate({ \r\n                            id: projectId, \r\n                            requiere_laboratorio: editingData.requiere_laboratorio || false,\r\n                            requiere_ingenieria: editingData.requiere_ingenieria || false,\r\n                            requiere_consultoria: editingData.requiere_consultoria || false,\r\n                            requiere_capacitacion: editingData.requiere_capacitacion || false,\r\n                            requiere_auditoria: editingData.requiere_auditoria || false\r\n                          });\r\n                          setShowViewModal(false);\r\n                        }}\r\n                        disabled={updateCategoriesMutation.isLoading}\r\n                      >\r\n                        {updateCategoriesMutation.isLoading ? 'Guardando...' : 'Guardar Categorías'}\r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n                </Tab>\r\n\r\n                {/* Tab Estado */}\r\n                <Tab eventKey=\"status\" title={\r\n                  <span>\r\n                    <FiSettings className=\"me-1\" />\r\n                    Estado\r\n                  </span>\r\n                }>\r\n                  <div className=\"row g-3\">\r\n                    <div className=\"col-md-6\">\r\n                      <div className=\"mb-3\">\r\n                        <label className=\"form-label\">Estado del Proyecto</label>\r\n                        <select \r\n                          className=\"form-select\" \r\n                          value={editingData.status || ''} \r\n                          onChange={(e) => setEditingData({...editingData, status: e.target.value})}\r\n                        >\r\n                          <option value=\"pendiente\">Pendiente</option>\r\n                          <option value=\"en_proceso\">En Proceso</option>\r\n                          <option value=\"completado\">Completado</option>\r\n                          <option value=\"pausado\">Pausado</option>\r\n                          <option value=\"cancelado\">Cancelado</option>\r\n                        </select>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-md-6\">\r\n                      <div className=\"mb-3\">\r\n                        <label className=\"form-label\">Estado del Laboratorio</label>\r\n                        <select \r\n                          className=\"form-select\" \r\n                          value={editingData.laboratorio_status || ''} \r\n                          onChange={(e) => setEditingData({...editingData, laboratorio_status: e.target.value})}\r\n                        >\r\n                          <option value=\"no_requerido\">No Requerido</option>\r\n                          <option value=\"pendiente\">Pendiente</option>\r\n                          <option value=\"en_proceso\">En Proceso</option>\r\n                          <option value=\"completado\">Completado</option>\r\n                          <option value=\"pausado\">Pausado</option>\r\n                          <option value=\"cancelado\">Cancelado</option>\r\n                        </select>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-md-6\">\r\n                      <div className=\"mb-3\">\r\n                        <label className=\"form-label\">Estado de Ingeniería</label>\r\n                        <select \r\n                          className=\"form-select\" \r\n                          value={editingData.ingenieria_status || ''} \r\n                          onChange={(e) => setEditingData({...editingData, ingenieria_status: e.target.value})}\r\n                        >\r\n                          <option value=\"no_requerido\">No Requerido</option>\r\n                          <option value=\"pendiente\">Pendiente</option>\r\n                          <option value=\"en_proceso\">En Proceso</option>\r\n                          <option value=\"completado\">Completado</option>\r\n                          <option value=\"pausado\">Pausado</option>\r\n                          <option value=\"cancelado\">Cancelado</option>\r\n                        </select>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-12\">\r\n                      <div className=\"mb-3\">\r\n                        <label className=\"form-label\">Notas del Estado</label>\r\n                        <textarea \r\n                          className=\"form-control\" \r\n                          rows=\"3\"\r\n                          value={editingData.status_notes || ''} \r\n                          onChange={(e) => setEditingData({...editingData, status_notes: e.target.value})}\r\n                          placeholder=\"Agrega comentarios sobre el cambio de estado...\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-12\">\r\n                      <Button \r\n                        variant=\"success\" \r\n                        onClick={() => {\r\n                          const projectId = selectedProject?.id;\r\n                          if (!projectId) {\r\n                            console.error('No se encontró el ID del proyecto');\r\n                            return;\r\n                          }\r\n                          \r\n                          updateStatusMutation.mutate({ id: projectId, ...editingData });\r\n                          setShowViewModal(false);\r\n                        }}\r\n                        disabled={updateStatusMutation.isLoading}\r\n                      >\r\n                        {updateStatusMutation.isLoading ? 'Actualizando...' : 'Actualizar Estado'}\r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n                </Tab>\r\n\r\n                {/* Tab Categorías */}\r\n                <Tab eventKey=\"categories\" title={\r\n                  <span>\r\n                    <FiFolder className=\"me-1\" />\r\n                    Categorías\r\n                  </span>\r\n                }>\r\n                  <div className=\"row g-3\">\r\n                    <div className=\"col-12\">\r\n                      <h6 className=\"mb-3\">Categorías del Proyecto</h6>\r\n                      <div className=\"form-check\">\r\n                        <input \r\n                          className=\"form-check-input\" \r\n                          type=\"checkbox\" \r\n                          id=\"cat_laboratorio\"\r\n                          checked={editingData.requiere_laboratorio || false}\r\n                          onChange={(e) => setEditingData({...editingData, requiere_laboratorio: e.target.checked})}\r\n                        />\r\n                        <label className=\"form-check-label\" htmlFor=\"cat_laboratorio\">\r\n                          Laboratorio\r\n                        </label>\r\n                      </div>\r\n                      <div className=\"form-check\">\r\n                        <input \r\n                          className=\"form-check-input\" \r\n                          type=\"checkbox\" \r\n                          id=\"cat_ingenieria\"\r\n                          checked={editingData.requiere_ingenieria || false}\r\n                          onChange={(e) => setEditingData({...editingData, requiere_ingenieria: e.target.checked})}\r\n                        />\r\n                        <label className=\"form-check-label\" htmlFor=\"cat_ingenieria\">\r\n                          Ingeniería\r\n                        </label>\r\n                      </div>\r\n                      <div className=\"form-check\">\r\n                        <input \r\n                          className=\"form-check-input\" \r\n                          type=\"checkbox\" \r\n                          id=\"cat_consultoria\"\r\n                        />\r\n                        <label className=\"form-check-label\" htmlFor=\"cat_consultoria\">\r\n                          Consultoría\r\n                        </label>\r\n                      </div>\r\n                      <div className=\"form-check\">\r\n                        <input \r\n                          className=\"form-check-input\" \r\n                          type=\"checkbox\" \r\n                          id=\"cat_capacitacion\"\r\n                        />\r\n                        <label className=\"form-check-label\" htmlFor=\"cat_capacitacion\">\r\n                          Capacitación\r\n                        </label>\r\n                      </div>\r\n                      <div className=\"form-check\">\r\n                        <input \r\n                          className=\"form-check-input\" \r\n                          type=\"checkbox\" \r\n                          id=\"cat_auditoria\"\r\n                        />\r\n                        <label className=\"form-check-label\" htmlFor=\"cat_auditoria\">\r\n                          Auditoría\r\n                        </label>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-12\">\r\n                      <Button \r\n                        variant=\"info\" \r\n                        onClick={() => {\r\n                          console.log('selectedProject:', selectedProject);\r\n                          console.log('selectedProject.id:', selectedProject?.id);\r\n                          console.log('editingData:', editingData);\r\n                          \r\n                          const projectId = selectedProject?.id;\r\n                          if (!projectId) {\r\n                            console.error('No se encontró el ID del proyecto');\r\n                            return;\r\n                          }\r\n                          \r\n                          updateCategoriesMutation.mutate({ \r\n                            id: projectId, \r\n                            requiere_laboratorio: editingData.requiere_laboratorio || false,\r\n                            requiere_ingenieria: editingData.requiere_ingenieria || false,\r\n                            requiere_consultoria: editingData.requiere_consultoria || false,\r\n                            requiere_capacitacion: editingData.requiere_capacitacion || false,\r\n                            requiere_auditoria: editingData.requiere_auditoria || false\r\n                          });\r\n                          setShowViewModal(false);\r\n                        }}\r\n                        disabled={updateCategoriesMutation.isLoading}\r\n                      >\r\n                        {updateCategoriesMutation.isLoading ? 'Guardando...' : 'Guardar Categorías'}\r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n                </Tab>\r\n\r\n                {/* Tab Consultas */}\r\n                <Tab eventKey=\"queries\" title={\r\n                  <span>\r\n                    <FiMessageCircle className=\"me-1\" />\r\n                    Consultas\r\n                  </span>\r\n                }>\r\n                  <div className=\"row g-3\">\r\n                    <div className=\"col-12\">\r\n                      <div className=\"mb-3\">\r\n                        <label className=\"form-label\">Consultas y Dudas del Cliente</label>\r\n                        <textarea \r\n                          className=\"form-control\" \r\n                          rows=\"8\"\r\n                          value={editingData.queries || ''} \r\n                          onChange={(e) => setEditingData({...editingData, queries: e.target.value})}\r\n                          placeholder=\"Ingresa las consultas o dudas del cliente...\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-12\">\r\n                      <Button \r\n                        variant=\"warning\"\r\n                        onClick={() => {\r\n                          const projectId = selectedProject?.id;\r\n                          if (!projectId) {\r\n                            console.error('No se encontró el ID del proyecto');\r\n                            return;\r\n                          }\r\n                          \r\n                          updateQueriesMutation.mutate({ \r\n                            id: projectId, \r\n                            queries: editingData.queries || ''\r\n                          });\r\n                          setShowViewModal(false);\r\n                        }}\r\n                        disabled={updateQueriesMutation.isLoading}\r\n                      >\r\n                        {updateQueriesMutation.isLoading ? 'Guardando...' : 'Guardar Consultas'}\r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n                </Tab>\r\n\r\n                {/* Tab Marcar */}\r\n                <Tab eventKey=\"mark\" title={\r\n                  <span>\r\n                    <FiCheck className=\"me-1\" />\r\n                    Marcar\r\n                  </span>\r\n                }>\r\n                  <div className=\"row g-3\">\r\n                    <div className=\"col-12\">\r\n                      <div className=\"text-center\">\r\n                        <h6 className=\"mb-3\">Marcar Proyecto</h6>\r\n                        <p className=\"text-muted mb-4\">\r\n                          Marca este proyecto para seguimiento especial o prioridad alta.\r\n                        </p>\r\n                        <div className=\"mb-3\">\r\n                          <label className=\"form-label\">Prioridad</label>\r\n                          <select \r\n                            className=\"form-select\" \r\n                            value={editingData.priority || 'normal'} \r\n                            onChange={(e) => setEditingData({...editingData, priority: e.target.value})}\r\n                          >\r\n                            <option value=\"low\">Baja</option>\r\n                            <option value=\"normal\">Normal</option>\r\n                            <option value=\"high\">Alta</option>\r\n                            <option value=\"urgent\">Urgente</option>\r\n                          </select>\r\n                        </div>\r\n                        <Button \r\n                          variant=\"success\" \r\n                          size=\"lg\"\r\n                          onClick={() => {\r\n                            const projectId = selectedProject?.id;\r\n                            if (!projectId) {\r\n                              console.error('No se encontró el ID del proyecto');\r\n                              return;\r\n                            }\r\n                            \r\n                            updateMarkMutation.mutate({ \r\n                              id: projectId, \r\n                              marked: !editingData.marked,\r\n                              priority: editingData.priority || 'normal'\r\n                            });\r\n                            setShowViewModal(false);\r\n                          }}\r\n                          disabled={updateMarkMutation.isLoading}\r\n                        >\r\n                          <FiCheck className=\"me-2\" />\r\n                          {updateMarkMutation.isLoading ? 'Procesando...' : (editingData.marked ? 'Desmarcar Proyecto' : 'Marcar Proyecto')}\r\n                        </Button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </Tab>\r\n              </Tabs>\r\n            )\r\n          }\r\n        ]}\r\n        onSubmit={() => setShowViewModal(false)}\r\n        submitText=\"Cerrar\"\r\n        size=\"xl\"\r\n      />\r\n      </div>\r\n    </Container>\r\n  );\r\n};"],"names":["emptyForm","Proyectos","showModal","setShowModal","useState","editingProject","setEditingProject","deletingProject","setDeletingProject","showCategoriesModal","setShowCategoriesModal","showQueriesModal","setShowQueriesModal","showStatusModal","setShowStatusModal","showViewModal","setShowViewModal","selectedProject","setSelectedProject","activeTab","setActiveTab","editingData","setEditingData","currentPage","setCurrentPage","searchTerm","setSearchTerm","selectedStatus","setSelectedStatus","selectedCompany","setSelectedCompany","selectedProjectType","setSelectedProjectType","isSearching","setIsSearching","useNavigate","selectedClient","_a","useLocation","queryClient","useQueryClient","data","isLoading","refetch","useQuery","listProjects","statsData","statsLoading","getProjectStats","handleMutationSuccess","message","handleSearch","searchValue","handleFilter","filters","projectFilterOptions","createMutation","useMutation","createProject","error","updateMutation","updateProject","deleteMutation","deleteProject","updateStatusMutation","id","updateProjectStatus","updateCategoriesMutation","updateProjectCategories","updateQueriesMutation","updateProjectQueries","updateMarkMutation","updateProjectMark","handleCreate","formData","handleEdit","project","handleDelete","handleViewProject","handleSubmit","getStatusBadge","status","config","jsx","Badge","columns","value","row","jsxs","FiMapPin","projectType","typeColor","FiHome","FiUser","formFields","_b","company","_c","user","_d","stats","useMemo","projects","p","Container","PageHeader","Button","FiPlus","Row","Col","StatsCard","FiCheckCircle","FiClock","Card","FiRefreshCw","DataTable","FiEye","FiTrash2","ModalForm","Tabs","k","Tab","FiSettings","FiUsers","FiMessageCircle","FiEdit","e","projectId","FiFolder","FiCheck"],"mappings":"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"}