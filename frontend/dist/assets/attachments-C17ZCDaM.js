import{b as c}from"./index-xQVByYRi.js";const s=t=>c(`/api/attachments/${t}/attachments`),i=(t={})=>{const e=new URLSearchParams;t.page&&e.set("page",t.page),t.limit&&e.set("limit",t.limit),t.search&&e.set("search",t.search),t.project_id&&e.set("project_id",t.project_id),t.file_type&&e.set("file_type",t.file_type);const a=e.toString(),n=a?`/api/attachments/all?${a}`:"/api/attachments/all";return console.log("🔍 getAllAttachments - Llamando a:",n),c(n).then(o=>(console.log("✅ getAllAttachments - Respuesta recibida:",o),o)).catch(o=>{throw console.error("❌ getAllAttachments - Error:",o),o})},l=(t,e)=>c(`/api/attachments/${t}/attachments`,{method:"POST",body:e}),h=(t,e)=>{const a={method:"PUT",body:e};return e instanceof FormData||(a.headers={"Content-Type":"application/json"},a.body=JSON.stringify(e)),c(`/api/attachments/${t}`,a)},d=t=>c(`/api/attachments/${t}`,{method:"DELETE"}),m=async t=>{try{const e=await fetch(`/api/attachments/${t.id}/download`,{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error("Error al descargar el archivo");const a=await e.blob(),n=window.URL.createObjectURL(a),o=document.createElement("a");o.href=n,o.download=t.original_name,document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(n)}catch(e){throw console.error("Error al descargar archivo:",e),e}};export{d as a,h as b,m as d,i as g,s as l,l as u};
//# sourceMappingURL=attachments-C17ZCDaM.js.map
