{"version":3,"file":"CompanyProjectPicker-B5QY6E6K.js","sources":["../../src/components/CompanyProjectPicker.jsx"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport { listCompanies } from '../services/companies';\r\nimport { createProject, listProjects, updateProject } from '../services/projects';\r\n\r\n// Lightweight picker: select existing company and define minimal project data\r\nexport default function CompanyProjectPicker({ value, onChange }) {\r\n  const [companies, setCompanies] = useState([]);\r\n  const [projects, setProjects] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [form, setForm] = useState({ company_id: '', project_id: '', project_name: '', location: '' });\r\n  const [error, setError] = useState('');\r\n  \r\n  // Estados para el modal de proyectos\r\n  const [showProjectModal, setShowProjectModal] = useState(false);\r\n  const [editingProject, setEditingProject] = useState(null);\r\n  const [modalLoading, setModalLoading] = useState(false);\r\n\r\n  // Efecto para controlar el scroll del body cuando el modal está abierto\r\n  useEffect(() => {\r\n    if (showProjectModal) {\r\n      // Prevenir scroll del body\r\n      document.body.style.overflow = 'hidden';\r\n      \r\n      // Agregar listener para tecla Escape\r\n      const handleEscape = (e) => {\r\n        if (e.key === 'Escape') {\r\n          closeProjectModal();\r\n        }\r\n      };\r\n      \r\n      document.addEventListener('keydown', handleEscape);\r\n      \r\n      return () => {\r\n        document.removeEventListener('keydown', handleEscape);\r\n      };\r\n    } else {\r\n      // Restaurar scroll del body\r\n      document.body.style.overflow = 'unset';\r\n    }\r\n\r\n    // Cleanup al desmontar el componente\r\n    return () => {\r\n      document.body.style.overflow = 'unset';\r\n    };\r\n  }, [showProjectModal]);\r\n  const [projectForm, setProjectForm] = useState({\r\n    name: '',\r\n    location: '',\r\n    sector: '',\r\n    status: 'activo',\r\n    description: '',\r\n    start_date: '',\r\n    end_date: '',\r\n    priority: 'media'\r\n  });\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        setLoading(true);\r\n        // Solo cargar empresas inicialmente\r\n        const companiesRes = await listCompanies({ page: 1, limit: 50 });\r\n        const companiesData = Array.isArray(companiesRes?.data) ? companiesRes.data : companiesRes;\r\n        setCompanies(companiesData || []);\r\n      } catch (e) {\r\n        setError('No se pudo cargar empresas');\r\n      } finally { setLoading(false); }\r\n    })();\r\n  }, []);\r\n\r\n  // Cargar proyectos cuando se selecciona un cliente (con debounce)\r\n  useEffect(() => {\r\n    if (!form.company_id) {\r\n      setProjects([]);\r\n      return;\r\n    }\r\n\r\n    // Debounce para evitar llamadas excesivas\r\n    const timeoutId = setTimeout(async () => {\r\n      try {\r\n        setLoading(true);\r\n        setError('');\r\n        console.log('🔍 Cargando proyectos para company_id:', form.company_id);\r\n        \r\n        const projectsRes = await listProjects({ \r\n          page: 1, \r\n          limit: 50,\r\n          company_id: form.company_id\r\n        });\r\n        \r\n        const projectsData = Array.isArray(projectsRes?.data) ? projectsRes.data : projectsRes;\r\n        setProjects(projectsData || []);\r\n        console.log('✅ Proyectos cargados:', projectsData?.length || 0);\r\n      } catch (e) {\r\n        console.error('❌ Error cargando proyectos:', e);\r\n        setError('No se pudo cargar proyectos del cliente');\r\n        setProjects([]);\r\n      } finally { \r\n        setLoading(false); \r\n      }\r\n    }, 300); // 300ms de debounce\r\n\r\n    return () => clearTimeout(timeoutId);\r\n  }, [form.company_id]);\r\n\r\n  const selectedCompany = useMemo(() => companies.find(c => String(c.id) === String(form.company_id)), [companies, form.company_id]);\r\n  const selectedProject = useMemo(() => projects.find(p => String(p.id) === String(form.project_id)), [projects, form.project_id]);\r\n  \r\n  // Filtrar proyectos por empresa seleccionada\r\n  const filteredProjects = useMemo(() => {\r\n    if (!form.company_id) return [];\r\n    return projects.filter(p => String(p.company_id) === String(form.company_id));\r\n  }, [projects, form.company_id]);\r\n\r\n  useEffect(() => {\r\n    if (typeof onChange === 'function') {\r\n      const newValue = {\r\n        company_id: form.company_id ? Number(form.company_id) : null,\r\n        company: selectedCompany || null,\r\n        project_id: form.project_id ? Number(form.project_id) : null,\r\n        project: selectedProject || null,\r\n        project_name: form.project_name,\r\n        location: form.location,\r\n      };\r\n      \r\n      // Solo llamar onChange si los valores realmente cambiaron\r\n      const currentValue = JSON.stringify(value);\r\n      const newValueStr = JSON.stringify(newValue);\r\n      \r\n      if (currentValue !== newValueStr) {\r\n        console.log('🔄 CompanyProjectPicker - onChange:', newValue);\r\n        onChange(newValue);\r\n      }\r\n    }\r\n  }, [form.company_id, form.project_id, form.project_name, form.location, selectedCompany, selectedProject, onChange, value]);\r\n\r\n  const createQuickProject = async () => {\r\n    if (!form.company_id || !form.project_name || !form.location) return;\r\n    try {\r\n      setLoading(true);\r\n      const payload = { \r\n        company_id: Number(form.company_id), \r\n        name: form.project_name, \r\n        location: form.location \r\n      };\r\n      const prj = await createProject(payload);\r\n      \r\n      // Actualizar la lista de proyectos localmente\r\n      setProjects(prev => [...prev, prj]);\r\n      \r\n      // bubble up created project id\r\n      if (typeof onChange === 'function') {\r\n        onChange({ \r\n          ...value, \r\n          project_id: prj.id, \r\n          project: prj,\r\n          project_name: prj.name,\r\n          location: prj.location\r\n        });\r\n      }\r\n      \r\n      // Limpiar el formulario\r\n      setForm(prev => ({ ...prev, project_id: prj.id, project_name: '', location: '' }));\r\n      setError('');\r\n    } catch (e) {\r\n      setError(e.message || 'No se pudo crear proyecto');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Funciones para el modal de proyectos\r\n  const openProjectModal = (project = null) => {\r\n    console.log('🔍 openProjectModal llamado con:', project);\r\n    console.log('🔍 showProjectModal actual:', showProjectModal);\r\n    console.log('🔍 modalLoading actual:', modalLoading);\r\n    \r\n    // Si el modal está cargando, no hacer nada\r\n    if (modalLoading) {\r\n      console.log('⚠️ Modal está cargando, esperando...');\r\n      return;\r\n    }\r\n\r\n    // Si el modal ya está abierto, permitir cambio de modo\r\n    if (showProjectModal) {\r\n      console.log('🔄 Modal ya abierto, cambiando modo...');\r\n    } else {\r\n      console.log('🔍 Abriendo modal para proyecto:', project?.name || 'nuevo');\r\n      setShowProjectModal(true);\r\n    }\r\n    \r\n    if (project) {\r\n      console.log('🔍 Configurando modo edición para:', project.name);\r\n      setEditingProject(project);\r\n      setProjectForm({\r\n        name: project.name || '',\r\n        location: project.location || '',\r\n        sector: project.sector || '',\r\n        status: project.status || 'activo',\r\n        description: project.description || '',\r\n        start_date: project.start_date || '',\r\n        end_date: project.end_date || '',\r\n        priority: project.priority || 'media'\r\n      });\r\n    } else {\r\n      console.log('🔍 Configurando modo creación');\r\n      setEditingProject(null);\r\n      setProjectForm({\r\n        name: '',\r\n        location: '',\r\n        sector: '',\r\n        status: 'activo',\r\n        description: '',\r\n        start_date: '',\r\n        end_date: '',\r\n        priority: 'media'\r\n      });\r\n    }\r\n    console.log('✅ Modal configurado correctamente');\r\n  };\r\n\r\n  const closeProjectModal = () => {\r\n    console.log('🔍 Cerrando modal de proyectos');\r\n    setShowProjectModal(false);\r\n    setEditingProject(null);\r\n    setModalLoading(false);\r\n    setProjectForm({\r\n      name: '',\r\n      location: '',\r\n      sector: '',\r\n      status: 'activo',\r\n      description: '',\r\n      start_date: '',\r\n      end_date: '',\r\n      priority: 'media'\r\n    });\r\n  };\r\n\r\n  const saveProject = async () => {\r\n    if (!form.company_id || !projectForm.name || !projectForm.location) {\r\n      setError('Nombre y ubicación son requeridos');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      const payload = {\r\n        company_id: Number(form.company_id),\r\n        ...projectForm\r\n      };\r\n\r\n      let savedProject;\r\n      if (editingProject) {\r\n        savedProject = await updateProject(editingProject.id, payload);\r\n        // Actualizar en la lista local\r\n        setProjects(prev => prev.map(p => p.id === editingProject.id ? savedProject : p));\r\n      } else {\r\n        savedProject = await createProject(payload);\r\n        // Agregar a la lista local\r\n        setProjects(prev => [...prev, savedProject]);\r\n      }\r\n\r\n      // Seleccionar el proyecto guardado\r\n      setForm(prev => ({ ...prev, project_id: savedProject.id }));\r\n      \r\n      // Notificar al componente padre\r\n      if (typeof onChange === 'function') {\r\n        onChange({ \r\n          ...value, \r\n          project_id: savedProject.id, \r\n          project: savedProject,\r\n          project_name: savedProject.name,\r\n          location: savedProject.location\r\n        });\r\n      }\r\n\r\n      closeProjectModal();\r\n      setError('');\r\n    } catch (e) {\r\n      setError(e.message || 'No se pudo guardar el proyecto');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"border rounded p-3\">\r\n      <h6>Cliente y Proyecto</h6>\r\n      {error && <div className=\"alert alert-warning py-1 my-2\">{error}</div>}\r\n      <div className=\"row g-2 align-items-end\">\r\n        <div className=\"col-md-4\">\r\n          <label className=\"form-label\">Cliente</label>\r\n          <select className=\"form-select\" value={form.company_id} disabled={loading}\r\n                  onChange={(e)=>setForm({ ...form, company_id: e.target.value, project_id: '' })}>\r\n            <option value=\"\">Seleccione...</option>\r\n            {companies.map(c => (\r\n              <option key={c.id} value={c.id}>{c.name} {c.ruc ? `(RUC ${c.ruc})` : ''}</option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        <div className=\"col-md-4\">\r\n          <label className=\"form-label\">Proyecto</label>\r\n          <div className=\"d-flex gap-2\">\r\n            <input \r\n              className=\"form-control\" \r\n              value={selectedProject ? `${selectedProject.name} | ${selectedProject.location}` : 'Seleccionar proyecto...'}\r\n              readOnly\r\n              style={{ backgroundColor: '#f8f9fa', cursor: 'pointer' }}\r\n              onClick={() => form.company_id && openProjectModal()}\r\n            />\r\n            <button \r\n              type=\"button\" \r\n              className=\"btn btn-outline-primary\"\r\n              onClick={() => form.company_id && openProjectModal()}\r\n              disabled={!form.company_id || loading}\r\n              title=\"Gestionar proyectos\"\r\n            >\r\n              📋\r\n            </button>\r\n          </div>\r\n          {selectedProject && (\r\n            <div className=\"small text-muted mt-1\">\r\n              Sector: {selectedProject.sector || 'Sin sector'} | Estado: {selectedProject.status || 'Sin estado'}\r\n            </div>\r\n          )}\r\n        </div>\r\n        {form.project_id === 'new' && (\r\n          <>\r\n            <div className=\"col-md-3\">\r\n              <label className=\"form-label\">Nombre del proyecto</label>\r\n              <input className=\"form-control\" value={form.project_name}\r\n                     onChange={e=>setForm({ ...form, project_name: e.target.value })}\r\n                     placeholder=\"Ej. Control de calidad de mezclas\" />\r\n            </div>\r\n            <div className=\"col-md-3\">\r\n              <label className=\"form-label\">Ubicación</label>\r\n              <input className=\"form-control\" value={form.location}\r\n                     onChange={e=>setForm({ ...form, location: e.target.value })}\r\n                     placeholder=\"Ej. Lima, Perú\" />\r\n            </div>\r\n            <div className=\"col-md-2 d-grid\">\r\n              <button type=\"button\" className=\"btn btn-outline-secondary\" onClick={createQuickProject}\r\n                      disabled={!form.company_id || !form.project_name || !form.location}>Crear</button>\r\n            </div>\r\n          </>\r\n        )}\r\n        {form.project_id && form.project_id !== 'new' && (\r\n          <div className=\"col-md-4\">\r\n            <label className=\"form-label\">Ubicación</label>\r\n            <input className=\"form-control\" value={selectedProject?.location || ''} readOnly />\r\n          </div>\r\n        )}\r\n        {selectedCompany && (\r\n          <div className=\"small text-muted mt-2\">\r\n            Contacto: {selectedCompany.contact_name} · Tel: {selectedCompany.phone} · Email: {selectedCompany.email}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Modal de Gestión de Proyectos - RENDERIZADO CON PORTAL */}\r\n      {showProjectModal && createPortal(\r\n        <div \r\n          className=\"modal show d-block\" \r\n          style={{ \r\n            backgroundColor: 'rgba(0,0,0,0.5)',\r\n            position: 'fixed',\r\n            top: 0,\r\n            left: 0,\r\n            width: '100vw',\r\n            height: '100vh',\r\n            zIndex: 9999\r\n          }}\r\n          onClick={(e) => {\r\n            // Cerrar modal al hacer clic fuera del contenido\r\n            if (e.target === e.currentTarget) {\r\n              closeProjectModal();\r\n            }\r\n          }}\r\n        >\r\n          <div className=\"modal-dialog modal-lg\" style={{ margin: '2rem auto' }}>\r\n            <div className=\"modal-content\">\r\n              <div className=\"modal-header\">\r\n                <h5 className=\"modal-title\">\r\n                  {editingProject ? 'Editar Proyecto' : 'Gestionar Proyectos'}\r\n                </h5>\r\n                <button type=\"button\" className=\"btn-close\" onClick={closeProjectModal}></button>\r\n              </div>\r\n              <div className=\"modal-body\" style={{ maxHeight: '70vh', overflowY: 'auto' }}>\r\n                {!editingProject ? (\r\n                  // Lista de proyectos existentes\r\n                  <div>\r\n                    <div className=\"d-flex justify-content-between align-items-center mb-3\">\r\n                      <h6>Proyectos de {selectedCompany?.name}</h6>\r\n                      <button \r\n                        type=\"button\" \r\n                        className=\"btn btn-primary btn-sm\"\r\n                        onClick={() => openProjectModal()}\r\n                      >\r\n                        + Nuevo Proyecto\r\n                      </button>\r\n                    </div>\r\n                    {loading ? (\r\n                      <div className=\"text-center py-4\">\r\n                        <div className=\"spinner-border text-primary\" role=\"status\">\r\n                          <span className=\"visually-hidden\">Cargando...</span>\r\n                        </div>\r\n                        <p className=\"mt-2 text-muted\">Cargando proyectos...</p>\r\n                      </div>\r\n                    ) : filteredProjects.length > 0 ? (\r\n                      <div className=\"list-group\">\r\n                        {filteredProjects.map(project => (\r\n                          <div key={project.id} className=\"list-group-item\">\r\n                            <div className=\"d-flex justify-content-between align-items-start\">\r\n                              <div className=\"flex-grow-1\">\r\n                                <h6 className=\"mb-1\">{project.name}</h6>\r\n                                <p className=\"mb-1 text-muted\">\r\n                                  📍 {project.location} | 🏢 {project.sector || 'Sin sector'} | 📊 {project.status || 'Sin estado'}\r\n                                </p>\r\n                                {project.description && (\r\n                                  <small className=\"text-muted\">{project.description}</small>\r\n                                )}\r\n                              </div>\r\n                              <div className=\"d-flex gap-1\">\r\n                                <button \r\n                                  type=\"button\" \r\n                                  className=\"btn btn-outline-primary btn-sm\"\r\n                                  onClick={() => {\r\n                                    setForm(prev => ({ ...prev, project_id: project.id }));\r\n                                    if (typeof onChange === 'function') {\r\n                                      onChange({ \r\n                                        ...value, \r\n                                        project_id: project.id, \r\n                                        project: project,\r\n                                        project_name: project.name,\r\n                                        location: project.location\r\n                                      });\r\n                                    }\r\n                                    closeProjectModal();\r\n                                  }}\r\n                                >\r\n                                  Seleccionar\r\n                                </button>\r\n                                <button \r\n                                  type=\"button\" \r\n                                  className=\"btn btn-outline-secondary btn-sm\"\r\n                                  onClick={() => {\r\n                                    console.log('🔍 Botón editar clickeado para proyecto:', project);\r\n                                    openProjectModal(project);\r\n                                  }}\r\n                                  title=\"Editar proyecto\"\r\n                                >\r\n                                  ✏️\r\n                                </button>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    ) : (\r\n                      <div className=\"text-center py-4\">\r\n                        <p className=\"text-muted\">No hay proyectos para este cliente</p>\r\n                        <button \r\n                          type=\"button\" \r\n                          className=\"btn btn-primary\"\r\n                          onClick={() => openProjectModal()}\r\n                        >\r\n                          Crear Primer Proyecto\r\n                        </button>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                ) : (\r\n                  // Formulario de proyecto\r\n                  <div>\r\n                    <div className=\"row g-3\">\r\n                      <div className=\"col-md-6\">\r\n                        <label className=\"form-label\">Nombre del Proyecto *</label>\r\n                        <input \r\n                          type=\"text\" \r\n                          className=\"form-control\" \r\n                          value={projectForm.name}\r\n                          onChange={e => setProjectForm(prev => ({ ...prev, name: e.target.value }))}\r\n                          required\r\n                        />\r\n                      </div>\r\n                      <div className=\"col-md-6\">\r\n                        <label className=\"form-label\">Ubicación *</label>\r\n                        <input \r\n                          type=\"text\" \r\n                          className=\"form-control\" \r\n                          value={projectForm.location}\r\n                          onChange={e => setProjectForm(prev => ({ ...prev, location: e.target.value }))}\r\n                          required\r\n                        />\r\n                      </div>\r\n                      <div className=\"col-md-6\">\r\n                        <label className=\"form-label\">Sector</label>\r\n                        <select \r\n                          className=\"form-select\" \r\n                          value={projectForm.sector}\r\n                          onChange={e => setProjectForm(prev => ({ ...prev, sector: e.target.value }))}\r\n                        >\r\n                          <option value=\"\">Seleccionar sector...</option>\r\n                          <option value=\"Construcción\">Construcción</option>\r\n                          <option value=\"Geotécnico\">Geotécnico</option>\r\n                          <option value=\"Laboratorio\">Laboratorio</option>\r\n                          <option value=\"Consultoría\">Consultoría</option>\r\n                          <option value=\"Capacitación\">Capacitación</option>\r\n                          <option value=\"Auditoría\">Auditoría</option>\r\n                        </select>\r\n                      </div>\r\n                      <div className=\"col-md-6\">\r\n                        <label className=\"form-label\">Estado</label>\r\n                        <select \r\n                          className=\"form-select\" \r\n                          value={projectForm.status}\r\n                          onChange={e => setProjectForm(prev => ({ ...prev, status: e.target.value }))}\r\n                        >\r\n                          <option value=\"activo\">Activo</option>\r\n                          <option value=\"en_proceso\">En Proceso</option>\r\n                          <option value=\"completado\">Completado</option>\r\n                          <option value=\"pausado\">Pausado</option>\r\n                          <option value=\"cancelado\">Cancelado</option>\r\n                        </select>\r\n                      </div>\r\n                      <div className=\"col-md-6\">\r\n                        <label className=\"form-label\">Fecha de Inicio</label>\r\n                        <input \r\n                          type=\"date\" \r\n                          className=\"form-control\" \r\n                          value={projectForm.start_date}\r\n                          onChange={e => setProjectForm(prev => ({ ...prev, start_date: e.target.value }))}\r\n                        />\r\n                      </div>\r\n                      <div className=\"col-md-6\">\r\n                        <label className=\"form-label\">Fecha de Fin</label>\r\n                        <input \r\n                          type=\"date\" \r\n                          className=\"form-control\" \r\n                          value={projectForm.end_date}\r\n                          onChange={e => setProjectForm(prev => ({ ...prev, end_date: e.target.value }))}\r\n                        />\r\n                      </div>\r\n                      <div className=\"col-md-6\">\r\n                        <label className=\"form-label\">Prioridad</label>\r\n                        <select \r\n                          className=\"form-select\" \r\n                          value={projectForm.priority}\r\n                          onChange={e => setProjectForm(prev => ({ ...prev, priority: e.target.value }))}\r\n                        >\r\n                          <option value=\"baja\">Baja</option>\r\n                          <option value=\"media\">Media</option>\r\n                          <option value=\"alta\">Alta</option>\r\n                          <option value=\"urgente\">Urgente</option>\r\n                        </select>\r\n                      </div>\r\n                      <div className=\"col-12\">\r\n                        <label className=\"form-label\">Descripción</label>\r\n                        <textarea \r\n                          className=\"form-control\" \r\n                          rows=\"3\"\r\n                          value={projectForm.description}\r\n                          onChange={e => setProjectForm(prev => ({ ...prev, description: e.target.value }))}\r\n                          placeholder=\"Descripción detallada del proyecto...\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n              <div className=\"modal-footer\">\r\n                {editingProject ? (\r\n                  <>\r\n                    <button type=\"button\" className=\"btn btn-outline-secondary\" onClick={() => openProjectModal()}>\r\n                      ← Volver a Lista\r\n                    </button>\r\n                    <button type=\"button\" className=\"btn btn-secondary\" onClick={closeProjectModal}>\r\n                      Cancelar\r\n                    </button>\r\n                    <button \r\n                      type=\"button\" \r\n                      className=\"btn btn-primary\" \r\n                      onClick={saveProject}\r\n                      disabled={loading || !projectForm.name || !projectForm.location}\r\n                    >\r\n                      {loading ? 'Guardando...' : 'Guardar Cambios'}\r\n                    </button>\r\n                  </>\r\n                ) : (\r\n                  <button type=\"button\" className=\"btn btn-secondary\" onClick={closeProjectModal}>\r\n                    Cerrar\r\n                  </button>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>,\r\n        document.body // Renderizar directamente en el body\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":["CompanyProjectPicker","value","onChange","companies","setCompanies","useState","projects","setProjects","loading","setLoading","form","setForm","error","setError","showProjectModal","setShowProjectModal","editingProject","setEditingProject","modalLoading","setModalLoading","useEffect","handleEscape","e","closeProjectModal","projectForm","setProjectForm","companiesRes","listCompanies","companiesData","timeoutId","projectsRes","listProjects","projectsData","selectedCompany","useMemo","c","selectedProject","p","filteredProjects","newValue","currentValue","newValueStr","createQuickProject","payload","prj","createProject","prev","openProjectModal","project","saveProject","savedProject","updateProject","jsxs","jsx","Fragment","createPortal"],"mappings":"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"}