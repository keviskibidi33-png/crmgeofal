import{b as V,r as f,j as e,a9 as P,B as h,p as A,K as S,a8 as N,aa as z,h as b,F as g,f as m,ab as D,c as B,n as F,k as E,w as T,d as v,Q as I}from"./index-sJ-fqi2A.js";import{P as k,R as y,C as o}from"./PageHeader-CKES-3QI.js";import{D as R}from"./DataTable-BkIUefh0.js";import{S as x}from"./StatsCard-BK0WfEEV.js";import{C as n}from"./Card-fwrWtkyO.js";import{F as p}from"./Form-CC49TUrP.js";import{I as j}from"./InputGroup-CuakKslC.js";import{A as u}from"./Alert-BQ-VBbUX.js";import"./Spinner-ROzCSctr.js";const H=()=>V("/api/reports/ventas-por-vendedor"),C=()=>{const{data:c,isLoading:d,error:t}=B("ventasPorVendedor",H),s=[{header:"Vendedor",accessor:"name",render:(i,r)=>e.jsxs("div",{children:[e.jsx("div",{className:"fw-medium",children:r.name}),e.jsx("small",{className:"text-muted",children:r.email})]})},{header:"Período",accessor:"period",render:(i,r)=>e.jsxs("div",{children:[e.jsxs("div",{className:"fw-medium",children:[r.month,"/",r.year]}),e.jsx("small",{className:"text-muted",children:"Mes/Año"})]})},{header:"Total Proyectos",accessor:"total_proyectos",render:i=>e.jsxs(F,{bg:"primary",className:"status-badge",children:[i," proyectos"]})},{header:"Acciones",accessor:"actions",render:(i,r)=>e.jsxs(h,{variant:"outline-primary",size:"sm",children:[e.jsx(E,{className:"me-1"}),"Ver Detalles"]})}];return d?e.jsx(u,{variant:"info",children:"Cargando reporte..."}):t?e.jsxs(u,{variant:"danger",children:["Error al cargar el reporte: ",t.message]}):e.jsx(R,{data:c||[],columns:s,loading:d,emptyMessage:"No hay datos de ventas disponibles"})},M=()=>{const c=[{estado:"activo",cantidad:45,porcentaje:60},{estado:"pendiente",cantidad:20,porcentaje:27},{estado:"completado",cantidad:8,porcentaje:11},{estado:"cancelado",cantidad:2,porcentaje:2}],d=s=>{const r={activo:{bg:"success",text:"Activo",icon:v},pendiente:{bg:"warning",text:"Pendiente",icon:I},completado:{bg:"primary",text:"Completado",icon:v},cancelado:{bg:"danger",text:"Cancelado",icon:T}}[s]||{bg:"secondary",text:s,icon:v},l=r.icon;return e.jsxs(F,{bg:r.bg,className:"status-badge d-flex align-items-center",children:[e.jsx(l,{size:12,className:"me-1"}),r.text]})},t=[{header:"Estado",accessor:"estado",render:s=>d(s)},{header:"Cantidad",accessor:"cantidad",render:s=>e.jsx("div",{className:"fw-bold text-primary",children:s})},{header:"Porcentaje",accessor:"porcentaje",render:s=>e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"progress flex-grow-1 me-2",style:{height:"8px"},children:e.jsx("div",{className:"progress-bar bg-primary",style:{width:`${s}%`}})}),e.jsxs("span",{className:"fw-medium",children:[s,"%"]})]})}];return e.jsx(R,{data:c,columns:t,loading:!1,emptyMessage:"No hay datos de proyectos disponibles"})};function q(){var l;const[c,d]=f.useState("ventas"),[t,s]=f.useState({start:new Date().toISOString().slice(0,7),end:new Date().toISOString().slice(0,7)}),i=[{id:"ventas",title:"Ventas por Vendedor",description:"Análisis de ventas y proyectos por vendedor",icon:m,color:"primary"},{id:"proyectos",title:"Proyectos por Estado",description:"Distribución de proyectos según su estado",icon:b,color:"info"},{id:"cotizaciones",title:"Cotizaciones",description:"Reporte de cotizaciones generadas",icon:g,color:"success"},{id:"clientes",title:"Clientes",description:"Análisis de clientes y empresas",icon:m,color:"warning"}],r=()=>{switch(c){case"ventas":return e.jsx(C,{});case"proyectos":return e.jsx(M,{});case"cotizaciones":return e.jsxs(u,{variant:"info",children:[e.jsx(g,{className:"me-2"}),"Reporte de cotizaciones en desarrollo"]});case"clientes":return e.jsxs(u,{variant:"info",children:[e.jsx(m,{className:"me-2"}),"Reporte de clientes en desarrollo"]});default:return e.jsx(C,{})}};return e.jsxs("div",{className:"fade-in",children:[e.jsx(k,{title:"Reportes y Análisis",subtitle:"Visualiza estadísticas y genera reportes del sistema",icon:P,actions:e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs(h,{variant:"outline-primary",children:[e.jsx(A,{className:"me-2"}),"Exportar"]}),e.jsxs(h,{variant:"primary",children:[e.jsx(S,{className:"me-2"}),"Actualizar"]})]})}),e.jsx(n,{className:"mb-4",children:e.jsx(n.Body,{children:e.jsxs(y,{className:"align-items-center",children:[e.jsxs(o,{md:3,children:[e.jsx(p.Label,{children:"Período de Análisis"}),e.jsxs(j,{children:[e.jsx(j.Text,{children:e.jsx(N,{})}),e.jsx(p.Control,{type:"month",value:t.start,onChange:a=>s({...t,start:a.target.value})})]})]}),e.jsxs(o,{md:3,children:[e.jsx(p.Label,{children:"Hasta"}),e.jsxs(j,{children:[e.jsx(j.Text,{children:e.jsx(N,{})}),e.jsx(p.Control,{type:"month",value:t.end,onChange:a=>s({...t,end:a.target.value})})]})]}),e.jsx(o,{md:6,className:"d-flex align-items-end",children:e.jsxs(h,{variant:"outline-secondary",className:"me-2",children:[e.jsx(z,{className:"me-2"}),"Aplicar Filtros"]})})]})})}),e.jsxs(y,{className:"g-4 mb-4",children:[e.jsx(o,{md:6,lg:3,children:e.jsx(x,{title:"Total Proyectos",value:"75",icon:b,trend:"up",trendValue:"+12% este mes",variant:"primary"})}),e.jsx(o,{md:6,lg:3,children:e.jsx(x,{title:"Cotizaciones Enviadas",value:"45",icon:g,trend:"up",trendValue:"+8% esta semana",variant:"success"})}),e.jsx(o,{md:6,lg:3,children:e.jsx(x,{title:"Clientes Activos",value:"120",icon:m,trend:"up",trendValue:"+5% este trimestre",variant:"info"})}),e.jsx(o,{md:6,lg:3,children:e.jsx(x,{title:"Ventas del Mes",value:"S/ 85,000",icon:D,trend:"up",trendValue:"+15% respecto al mes anterior",variant:"warning"})})]}),e.jsx(n,{className:"mb-4",children:e.jsxs(n.Body,{children:[e.jsx("h5",{className:"mb-3",children:"Seleccionar Tipo de Reporte"}),e.jsx(y,{className:"g-3",children:i.map(a=>{const w=a.icon;return e.jsx(o,{md:6,lg:3,children:e.jsx(n,{className:`h-100 cursor-pointer ${c===a.id?"border-primary":""}`,onClick:()=>d(a.id),style:{cursor:"pointer"},children:e.jsxs(n.Body,{className:"text-center",children:[e.jsx(w,{size:32,className:`text-${a.color} mb-2`}),e.jsx("h6",{className:"fw-medium",children:a.title}),e.jsx("small",{className:"text-muted",children:a.description})]})})},a.id)})})]})}),e.jsxs(n,{children:[e.jsx(n.Header,{children:e.jsx("h5",{className:"mb-0",children:(l=i.find(a=>a.id===c))==null?void 0:l.title})}),e.jsx(n.Body,{children:r()})]})]})}export{q as default};
//# sourceMappingURL=Reportes-B4XIZQAV.js.map
