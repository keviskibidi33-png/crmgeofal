{"version":3,"file":"MisCotizaciones-ZquVdm6R.js","sources":["../../src/services/quoteApproval.js","../../src/pages/MisCotizaciones.jsx"],"sourcesContent":["import apiFetch from './api';\r\n\r\n// Aprobar cotización (vendedor autónomo)\r\nexport const approveQuote = async (quoteId) => {\r\n  try {\r\n    const response = await apiFetch(`/api/quote-approval/${quoteId}/approve`, {\r\n      method: 'POST',\r\n    });\r\n    return response;\r\n  } catch (error) {\r\n    console.error('Error approving quote:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Revertir cotización a borrador (vendedor autónomo)\r\nexport const revertQuoteToDraft = async (quoteId) => {\r\n  try {\r\n    const response = await apiFetch(`/api/quote-approval/${quoteId}/revert`, {\r\n      method: 'POST',\r\n    });\r\n    return response;\r\n  } catch (error) {\r\n    console.error('Error reverting quote:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Marcar como facturada (solo facturación)\r\nexport const markQuoteAsInvoiced = async (quoteId) => {\r\n  try {\r\n    const response = await apiFetch(`/api/quote-approval/${quoteId}/invoice`, {\r\n      method: 'POST',\r\n    });\r\n    return response;\r\n  } catch (error) {\r\n    console.error('Error marking quote as invoiced:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Obtener mis cotizaciones (con filtros)\r\nexport const getMyQuotes = async (filters = {}) => {\r\n  try {\r\n    const queryParams = new URLSearchParams();\r\n    \r\n    if (filters.status) queryParams.append('status', filters.status);\r\n    if (filters.page) queryParams.append('page', filters.page);\r\n    if (filters.limit) queryParams.append('limit', filters.limit);\r\n    \r\n    const queryString = queryParams.toString();\r\n    const url = `/api/quote-approval/my-quotes${queryString ? `?${queryString}` : ''}`;\r\n    \r\n    const response = await apiFetch(url);\r\n    return response;\r\n  } catch (error) {\r\n    console.error('Error getting my quotes:', error);\r\n    throw error;\r\n  }\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useQuery, useMutation, useQueryClient } from 'react-query';\r\nimport { Container, Row, Col, Card, Button, Badge, Form, Spinner, Alert } from 'react-bootstrap';\r\nimport { FiCheck, FiX, FiEdit, FiEye, FiFileText, FiRefreshCw } from 'react-icons/fi';\r\nimport { approveQuote, revertQuoteToDraft, getMyQuotes } from '../services/quoteApproval';\r\nimport { useAuth } from '../contexts/AuthContext';\r\n\r\nconst MisCotizaciones = () => {\r\n  const { user } = useAuth();\r\n  const queryClient = useQueryClient();\r\n  \r\n  // Estados\r\n  const [filters, setFilters] = useState({\r\n    status: '',\r\n    page: 1,\r\n    limit: 20\r\n  });\r\n  const [selectedQuote, setSelectedQuote] = useState(null);\r\n  const [showDetails, setShowDetails] = useState(false);\r\n\r\n  // Queries\r\n  const { data: quotesData, isLoading, error, refetch } = useQuery(\r\n    ['myQuotes', filters],\r\n    () => getMyQuotes(filters),\r\n    {\r\n      enabled: !!user,\r\n      refetchOnWindowFocus: false\r\n    }\r\n  );\r\n\r\n  // Mutations\r\n  const approveMutation = useMutation(approveQuote, {\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries(['myQuotes']);\r\n      alert('Cotización aprobada exitosamente');\r\n    },\r\n    onError: (error) => {\r\n      alert(`Error aprobando cotización: ${error.message}`);\r\n    }\r\n  });\r\n\r\n  const revertMutation = useMutation(revertQuoteToDraft, {\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries(['myQuotes']);\r\n      alert('Cotización revertida a borrador exitosamente');\r\n    },\r\n    onError: (error) => {\r\n      alert(`Error revirtiendo cotización: ${error.message}`);\r\n    }\r\n  });\r\n\r\n  // Handlers\r\n  const handleApprove = (quoteId) => {\r\n    if (window.confirm('¿Estás seguro de que quieres aprobar esta cotización?')) {\r\n      approveMutation.mutate(quoteId);\r\n    }\r\n  };\r\n\r\n  const handleRevert = (quoteId) => {\r\n    if (window.confirm('¿Estás seguro de que quieres revertir esta cotización a borrador?')) {\r\n      revertMutation.mutate(quoteId);\r\n    }\r\n  };\r\n\r\n  const handleFilterChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFilters(prev => ({\r\n      ...prev,\r\n      [name]: value,\r\n      page: 1 // Reset page when filtering\r\n    }));\r\n  };\r\n\r\n  const handlePageChange = (newPage) => {\r\n    setFilters(prev => ({\r\n      ...prev,\r\n      page: newPage\r\n    }));\r\n  };\r\n\r\n  const getStatusBadge = (status) => {\r\n    const statusConfig = {\r\n      'borrador': { variant: 'warning', text: 'Borrador' },\r\n      'aprobada': { variant: 'success', text: 'Aprobada' },\r\n      'facturada': { variant: 'info', text: 'Facturada' }\r\n    };\r\n    \r\n    const config = statusConfig[status] || { variant: 'secondary', text: status };\r\n    return <Badge bg={config.variant}>{config.text}</Badge>;\r\n  };\r\n\r\n  const getStatusActions = (quote) => {\r\n    const actions = [];\r\n    \r\n    if (quote.status === 'borrador') {\r\n      actions.push(\r\n        <Button\r\n          key=\"approve\"\r\n          variant=\"success\"\r\n          size=\"sm\"\r\n          onClick={() => handleApprove(quote.id)}\r\n          disabled={approveMutation.isLoading}\r\n        >\r\n          <FiCheck className=\"me-1\" />\r\n          Aprobar\r\n        </Button>\r\n      );\r\n    }\r\n    \r\n    if (quote.status === 'aprobada') {\r\n      actions.push(\r\n        <Button\r\n          key=\"revert\"\r\n          variant=\"warning\"\r\n          size=\"sm\"\r\n          onClick={() => handleRevert(quote.id)}\r\n          disabled={revertMutation.isLoading}\r\n        >\r\n          <FiRefreshCw className=\"me-1\" />\r\n          Revertir\r\n        </Button>\r\n      );\r\n    }\r\n    \r\n    actions.push(\r\n      <Button\r\n        key=\"view\"\r\n        variant=\"outline-primary\"\r\n        size=\"sm\"\r\n        onClick={() => {\r\n          setSelectedQuote(quote);\r\n          setShowDetails(true);\r\n        }}\r\n      >\r\n        <FiEye className=\"me-1\" />\r\n        Ver\r\n      </Button>\r\n    );\r\n    \r\n    return actions;\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <Container className=\"py-4\">\r\n        <div className=\"text-center\">\r\n          <Spinner animation=\"border\" />\r\n          <p className=\"mt-2\">Cargando mis cotizaciones...</p>\r\n        </div>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <Container className=\"py-4\">\r\n        <Alert variant=\"danger\">\r\n          Error cargando cotizaciones: {error.message}\r\n        </Alert>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  const quotes = quotesData?.data || [];\r\n  const pagination = quotesData?.pagination || {};\r\n\r\n  return (\r\n    <Container className=\"py-4\">\r\n      <Row className=\"mb-4\">\r\n        <Col>\r\n          <h2>Mis Cotizaciones</h2>\r\n          <p className=\"text-muted\">Gestiona tus cotizaciones de forma autónoma</p>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Filtros */}\r\n      <Row className=\"mb-4\">\r\n        <Col md={4}>\r\n          <Form.Select\r\n            name=\"status\"\r\n            value={filters.status}\r\n            onChange={handleFilterChange}\r\n          >\r\n            <option value=\"\">Todos los estados</option>\r\n            <option value=\"borrador\">Borrador</option>\r\n            <option value=\"aprobada\">Aprobada</option>\r\n            <option value=\"facturada\">Facturada</option>\r\n          </Form.Select>\r\n        </Col>\r\n        <Col md={4}>\r\n          <Button variant=\"outline-secondary\" onClick={() => refetch()}>\r\n            <FiRefreshCw className=\"me-1\" />\r\n            Actualizar\r\n          </Button>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Lista de cotizaciones */}\r\n      <Row>\r\n        {quotes.length === 0 ? (\r\n          <Col>\r\n            <Card>\r\n              <Card.Body className=\"text-center py-5\">\r\n                <FiFileText size={48} className=\"text-muted mb-3\" />\r\n                <h5>No hay cotizaciones</h5>\r\n                <p className=\"text-muted\">\r\n                  {filters.status \r\n                    ? `No se encontraron cotizaciones en estado \"${filters.status}\"`\r\n                    : 'No tienes cotizaciones registradas'\r\n                  }\r\n                </p>\r\n              </Card.Body>\r\n            </Card>\r\n          </Col>\r\n        ) : (\r\n          quotes.map((quote) => (\r\n            <Col key={quote.id} md={6} lg={4} className=\"mb-3\">\r\n              <Card>\r\n                <Card.Header className=\"d-flex justify-content-between align-items-center\">\r\n                  <strong>{quote.quote_number || `COT-${quote.id}`}</strong>\r\n                  {getStatusBadge(quote.status)}\r\n                </Card.Header>\r\n                <Card.Body>\r\n                  <div className=\"mb-2\">\r\n                    <strong>Cliente:</strong> {quote.company_name || 'N/A'}\r\n                  </div>\r\n                  <div className=\"mb-2\">\r\n                    <strong>Proyecto:</strong> {quote.project_name || 'N/A'}\r\n                  </div>\r\n                  <div className=\"mb-2\">\r\n                    <strong>Total:</strong> S/ {quote.total?.toFixed(2) || '0.00'}\r\n                  </div>\r\n                  <div className=\"mb-3\">\r\n                    <strong>Fecha:</strong> {new Date(quote.created_at).toLocaleDateString()}\r\n                  </div>\r\n                  \r\n                  <div className=\"d-flex gap-2 flex-wrap\">\r\n                    {getStatusActions(quote)}\r\n                  </div>\r\n                </Card.Body>\r\n              </Card>\r\n            </Col>\r\n          ))\r\n        )}\r\n      </Row>\r\n\r\n      {/* Paginación */}\r\n      {pagination.pages > 1 && (\r\n        <Row className=\"mt-4\">\r\n          <Col>\r\n            <div className=\"d-flex justify-content-center\">\r\n              <div className=\"btn-group\">\r\n                <Button\r\n                  variant=\"outline-secondary\"\r\n                  disabled={pagination.page === 1}\r\n                  onClick={() => handlePageChange(pagination.page - 1)}\r\n                >\r\n                  Anterior\r\n                </Button>\r\n                <Button variant=\"outline-secondary\" disabled>\r\n                  Página {pagination.page} de {pagination.pages}\r\n                </Button>\r\n                <Button\r\n                  variant=\"outline-secondary\"\r\n                  disabled={pagination.page === pagination.pages}\r\n                  onClick={() => handlePageChange(pagination.page + 1)}\r\n                >\r\n                  Siguiente\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n      )}\r\n\r\n      {/* Modal de detalles */}\r\n      {showDetails && selectedQuote && (\r\n        <div className=\"modal show d-block\" style={{ backgroundColor: 'rgba(0,0,0,0.5)' }}>\r\n          <div className=\"modal-dialog modal-lg\">\r\n            <div className=\"modal-content\">\r\n              <div className=\"modal-header\">\r\n                <h5 className=\"modal-title\">\r\n                  Detalles de Cotización\r\n                </h5>\r\n                <Button\r\n                  variant=\"outline-secondary\"\r\n                  onClick={() => setShowDetails(false)}\r\n                >\r\n                  <FiX />\r\n                </Button>\r\n              </div>\r\n              <div className=\"modal-body\">\r\n                <Row>\r\n                  <Col md={6}>\r\n                    <strong>Número:</strong> {selectedQuote.quote_number || `COT-${selectedQuote.id}`}\r\n                  </Col>\r\n                  <Col md={6}>\r\n                    <strong>Estado:</strong> {getStatusBadge(selectedQuote.status)}\r\n                  </Col>\r\n                </Row>\r\n                <hr />\r\n                <Row>\r\n                  <Col md={6}>\r\n                    <strong>Cliente:</strong> {selectedQuote.company_name || 'N/A'}\r\n                  </Col>\r\n                  <Col md={6}>\r\n                    <strong>RUC:</strong> {selectedQuote.company_ruc || 'N/A'}\r\n                  </Col>\r\n                </Row>\r\n                <Row>\r\n                  <Col md={6}>\r\n                    <strong>Proyecto:</strong> {selectedQuote.project_name || 'N/A'}\r\n                  </Col>\r\n                  <Col md={6}>\r\n                    <strong>Total:</strong> S/ {selectedQuote.total?.toFixed(2) || '0.00'}\r\n                  </Col>\r\n                </Row>\r\n                <hr />\r\n                <Row>\r\n                  <Col md={6}>\r\n                    <strong>Fecha de creación:</strong> {new Date(selectedQuote.created_at).toLocaleString()}\r\n                  </Col>\r\n                  <Col md={6}>\r\n                    <strong>Última actualización:</strong> {new Date(selectedQuote.updated_at).toLocaleString()}\r\n                  </Col>\r\n                </Row>\r\n              </div>\r\n              <div className=\"modal-footer\">\r\n                <Button\r\n                  variant=\"secondary\"\r\n                  onClick={() => setShowDetails(false)}\r\n                >\r\n                  Cerrar\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default MisCotizaciones;\r\n"],"names":["approveQuote","quoteId","apiFetch","error","revertQuoteToDraft","getMyQuotes","filters","queryParams","queryString","url","MisCotizaciones","user","useAuth","queryClient","useQueryClient","setFilters","useState","selectedQuote","setSelectedQuote","showDetails","setShowDetails","quotesData","isLoading","refetch","useQuery","approveMutation","useMutation","revertMutation","handleApprove","handleRevert","handleFilterChange","e","name","value","prev","handlePageChange","newPage","getStatusBadge","status","config","Badge","getStatusActions","quote","actions","jsxs","Button","jsx","FiCheck","FiRefreshCw","FiEye","Container","Spinner","Alert","quotes","pagination","Row","Col","Form","Card","FiFileText","_a","FiX"],"mappings":"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"}