{"version":3,"file":"Usuarios-tVEenNqu.js","sources":["../../src/components/Modal.jsx","../../src/pages/GestionUsuarios.jsx"],"sourcesContent":["import React from 'react';\r\n\r\nconst modalStyle = {\r\n  position: 'fixed', top: 0, left: 0, width: '100vw', height: '100vh', background: 'rgba(0,0,0,0.18)', zIndex: 9999,\r\n  display: 'flex', alignItems: 'center', justifyContent: 'center'\r\n};\r\nconst cardStyle = {\r\n  background: '#fff', borderRadius: 12, boxShadow: '0 2px 16px #0002', padding: '2rem 2.5rem', minWidth: 340, maxWidth: 420\r\n};\r\n\r\nexport default function Modal({ open, onClose, children }) {\r\n  if (!open) return null;\r\n  return (\r\n    <div style={modalStyle} onClick={onClose}>\r\n      <div style={cardStyle} onClick={e => e.stopPropagation()}>\r\n        {children}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport Modal from '../components/Modal';\r\nimport ModuloBase from '../components/ModuloBase';\r\nimport apiFetch from '../services/api';\r\n\r\nconst PAGE_LIMIT = 20;\r\n\r\nconst UserManagement = () => {\r\n  const [users, setUsers] = useState([]);\r\n  const [modalEdit, setModalEdit] = useState(null);\r\n  const [modalDelete, setModalDelete] = useState(null);\r\n  const [modalReset, setModalReset] = useState(null);\r\n  const [total, setTotal] = useState(0);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [page, setPage] = useState(1);\r\n  const [search, setSearch] = useState('');\r\n  const [role, setRole] = useState('');\r\n  // Estado para actualizar solo el usuario editado o cambiado\r\n  const [refresh, setRefresh] = useState(false);\r\n  const roles = [\r\n    { value: '', label: 'Todos los roles' },\r\n    { value: 'admin', label: 'Admin' },\r\n    { value: 'jefa_comercial', label: 'Jefa Comercial' },\r\n    { value: 'vendedor_comercial', label: 'Vendedor Comercial' },\r\n    { value: 'jefe_laboratorio', label: 'Jefe Laboratorio' },\r\n    { value: 'usuario_laboratorio', label: 'Usuario Laboratorio' },\r\n    { value: 'user', label: 'User' },\r\n  ];\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    (async () => {\r\n      try {\r\n        const qs = [];\r\n        qs.push(`page=${page}`);\r\n        qs.push(`limit=${PAGE_LIMIT}`);\r\n        if (search) qs.push(`search=${encodeURIComponent(search)}`);\r\n        if (role) qs.push(`role=${encodeURIComponent(role)}`);\r\n        const url = `/api/users?${qs.join('&')}`;\r\n        const json = await apiFetch(url);\r\n        setUsers(json.data || []);\r\n        setTotal(json.total || 0);\r\n      } catch (err) {\r\n        setError(err.message || 'Error al cargar usuarios');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    })();\r\n  }, [page, search, role, refresh]);\r\n\r\n  return (\r\n    <ModuloBase titulo=\"Gesti√≥n de Usuarios\" descripcion=\"Activa o desactiva el acceso de los agentes, gestiona sus contrase√±as y filtra por nombre o √°rea.\">\r\n      <div style={{display:'flex',gap:'1rem',marginBottom:'1.5rem',alignItems:'center'}}>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Buscar por nombre...\"\r\n          value={search}\r\n          onChange={e => { setSearch(e.target.value); setPage(1); }}\r\n          style={{padding:'0.5rem 1rem',border:'1px solid #ddd',borderRadius:6,minWidth:220}}\r\n        />\r\n        <select value={role} onChange={e => { setRole(e.target.value); setPage(1); }} style={{padding:'0.5rem',borderRadius:6,background:'#f5f5f5',fontWeight:500}}>\r\n          {roles.map(r => <option key={r.value} value={r.value}>{r.label}</option>)}\r\n        </select>\r\n      </div>\r\n      {loading && <p>Cargando...</p>}\r\n      {error && <p style={{color:'red'}}>{error}</p>}\r\n      {!loading && !error && (\r\n        <>\r\n          <table style={{width:'100%',borderCollapse:'collapse',marginBottom:'1rem',background:'#fff',boxShadow:'0 2px 8px #0001',borderRadius:8}}>\r\n            <thead>\r\n              <tr style={{background:'#f5f5f5'}}>\r\n                <th style={{textAlign:'center',padding:'0.7rem'}}>Nombre</th>\r\n                <th style={{textAlign:'center',padding:'0.7rem'}}>Apellido</th>\r\n                <th style={{textAlign:'center',padding:'0.7rem'}}>Correo</th>\r\n                <th style={{textAlign:'center',padding:'0.7rem'}}>Rol</th>\r\n                <th style={{textAlign:'center',padding:'0.7rem'}}>√Årea</th>\r\n                <th style={{textAlign:'center',padding:'0.7rem'}}>Estado</th>\r\n                <th style={{textAlign:'center',padding:'0.7rem'}}>Acceso</th>\r\n                <th style={{textAlign:'center',padding:'0.7rem'}}>Acciones</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {users.length === 0 && <tr><td colSpan={7} style={{textAlign:'center',padding:'1.5rem'}}>Sin usuarios</td></tr>}\r\n              {users.map(u => (\r\n                <tr key={u.id} style={{borderBottom:'1px solid #f0f0f0'}}>\r\n                  <td style={{fontWeight:600,textAlign:'center'}}>{u.name}</td>\r\n                  <td style={{textAlign:'center'}}>{u.apellido || '-'}</td>\r\n                  <td style={{textAlign:'center'}}>{u.email}</td>\r\n                  <td style={{textAlign:'center'}}>\r\n                    <span style={{\r\n                      background: u.role==='admin' ? '#ffe58f' : u.role==='jefa_comercial' ? '#ffd6e7' : u.role==='vendedor_comercial' ? '#e6f7ff' : u.role==='jefe_laboratorio' ? '#d9f7be' : u.role==='usuario_laboratorio' ? '#f4ffb8' : '#f5f5f5',\r\n                      color: u.role==='admin' ? '#ad8b00' : u.role==='jefa_comercial' ? '#c41d7f' : u.role==='vendedor_comercial' ? '#096dd9' : u.role==='jefe_laboratorio' ? '#389e0d' : u.role==='usuario_laboratorio' ? '#b7a200' : '#222',\r\n                      borderRadius:8,padding:'0.2rem 0.7rem',fontSize:13,fontWeight:600,display:'inline-block'\r\n                    }}>{roles.find(r=>r.value===u.role)?.label||u.role}</span>\r\n                  </td>\r\n                   <td style={{textAlign:'center'}}>{u.area || '-'}</td>\r\n                   <td style={{textAlign:'center'}}>\r\n                     <label style={{display:'inline-flex',alignItems:'center',cursor:'pointer'}}>\r\n                       <input\r\n                         type=\"checkbox\"\r\n                         checked={u.active}\r\n                         onChange={async e => {\r\n                           try {\r\n                             await apiFetch(`/api/users/${u.id}`, { method: 'PATCH', body: JSON.stringify({ active: e.target.checked }) });\r\n                             setRefresh(r => !r);\r\n                           } catch (err) {\r\n                             alert(err.message || 'Error al actualizar estado');\r\n                           }\r\n                         }}\r\n                         style={{marginRight:8}}\r\n                       />\r\n                       <span style={{fontWeight:600,color:u.active?'#0a7d2c':'#c0392b'}}>{u.active ? 'Activo' : 'Inactivo'}</span>\r\n                     </label>\r\n                   </td>\r\n                 <td style={{textAlign:'center'}}>\r\n                   <button title=\"Editar\" style={{background:'none',border:'1px solid #bbb',borderRadius:4,padding:'0.2rem 0.5rem',cursor:'pointer',marginRight:8}}\r\n                     onClick={()=>setModalEdit(u)}\r\n                   ><span role=\"img\" aria-label=\"edit\" style={{color:'#fa8c16'}}>‚úèÔ∏è</span></button>\r\n                   <button title=\"Restablecer contrase√±a\" style={{background:'none',border:'none',cursor:'pointer',marginRight:8}}\r\n                     onClick={()=>setModalReset(u)}\r\n                   ><span role=\"img\" aria-label=\"reset\" style={{color:'#faad14'}}>üîë</span></button>\r\n                   <button title=\"Eliminar\" style={{background:'none',border:'none',color:'#e74c3c',cursor:'pointer'}}\r\n                     onClick={()=>setModalDelete(u)}\r\n                   ><span role=\"img\" aria-label=\"delete\">üóëÔ∏è</span></button>\r\n                 </td>\r\n      {/* MODAL EDITAR USUARIO */}\r\n      <Modal open={!!modalEdit} onClose={()=>setModalEdit(null)}>\r\n        {modalEdit && (\r\n            <form onSubmit={async e => {\r\n            e.preventDefault();\r\n            const form = e.target;\r\n            const nombre = form.nombre.value.trim();\r\n            const apellido = form.apellido.value.trim();\r\n            const email = form.email.value.trim();\r\n            const rol = form.rol.value;\r\n            const area = form.area.value.trim();\r\n            try {\r\n              await apiFetch(`/api/users/${modalEdit.id}`, { method: 'PATCH', body: JSON.stringify({ name: nombre, apellido, email, role: rol, area }) });\r\n              setModalEdit(null);\r\n              setRefresh(r => !r);\r\n            } catch (err) {\r\n              alert(err.message || 'Error al editar usuario');\r\n            }\r\n          }}>\r\n            <h2 style={{marginBottom:8}}>Editar Usuario</h2>\r\n            <div style={{color:'#888',marginBottom:18}}>Actualiza los datos del usuario.</div>\r\n            <div style={{display:'flex',gap:'1rem',marginBottom:18}}>\r\n              <div style={{flex:1}}>\r\n                <label>Nombre</label>\r\n                <input name=\"nombre\" defaultValue={modalEdit.name} style={{width:'100%',padding:'0.6rem',borderRadius:8,border:'2px solid #222',marginTop:4,fontWeight:600}} required />\r\n              </div>\r\n              <div style={{flex:1}}>\r\n                <label>Apellido</label>\r\n                <input name=\"apellido\" defaultValue={modalEdit.apellido} style={{width:'100%',padding:'0.6rem',borderRadius:8,border:'1px solid #ccc',marginTop:4}} required />\r\n              </div>\r\n              <div style={{flex:1}}>\r\n                <label>√Årea</label>\r\n                <input name=\"area\" defaultValue={modalEdit.area} style={{width:'100%',padding:'0.6rem',borderRadius:8,border:'1px solid #ccc',marginTop:4}} required />\r\n              </div>\r\n            </div>\r\n            <div style={{marginBottom:18}}>\r\n              <label>Correo Electr√≥nico</label>\r\n              <input name=\"email\" defaultValue={modalEdit.email} style={{width:'100%',padding:'0.6rem',borderRadius:8,border:'1px solid #ccc',marginTop:4}} required />\r\n            </div>\r\n            <div style={{marginBottom:24}}>\r\n              <label>Rol</label>\r\n              <select name=\"rol\" defaultValue={modalEdit.role} style={{width:'100%',padding:'0.6rem',borderRadius:8,border:'1px solid #ccc',marginTop:4}}>\r\n                {roles.filter(r=>r.value).map(r=>(<option key={r.value} value={r.value}>{r.label}</option>))}\r\n              </select>\r\n            </div>\r\n            <div style={{display:'flex',justifyContent:'flex-end',gap:'1rem'}}>\r\n              <button type=\"button\" onClick={()=>setModalEdit(null)} style={{background:'#fff',border:'2px solid #222',borderRadius:8,padding:'0.7rem 2.2rem',fontWeight:600}}>Cancelar</button>\r\n              <button type=\"submit\" style={{background:'#222',color:'#fff',border:'none',borderRadius:8,padding:'0.7rem 2.2rem',fontWeight:600}}>Guardar Cambios</button>\r\n            </div>\r\n          </form>\r\n        )}\r\n      </Modal>\r\n\r\n      {/* MODAL RESTABLECER CONTRASE√ëA */}\r\n      <Modal open={!!modalReset} onClose={()=>setModalReset(null)}>\r\n        {modalReset && (\r\n            <form onSubmit={async e => {\r\n            e.preventDefault();\r\n            const password = e.target.password.value.trim();\r\n            if (password.length < 6) {\r\n              alert('La contrase√±a debe tener al menos 6 caracteres');\r\n              return;\r\n            }\r\n            try {\r\n              await apiFetch(`/api/users/${modalReset.id}/reset-password`, { method: 'POST', body: JSON.stringify({ password }) });\r\n              setModalReset(null);\r\n              setRefresh(r => !r);\r\n            } catch (err) {\r\n              alert(err.message || 'Error al restablecer contrase√±a');\r\n            }\r\n          }}>\r\n            <h2 style={{marginBottom:8}}>Restablecer contrase√±a</h2>\r\n            <div style={{color:'#888',marginBottom:18}}>Escribe la nueva contrase√±a para el usuario <b>{modalReset.name}</b>. Debe tener al menos 6 caracteres.</div>\r\n            <div style={{marginBottom:18}}>\r\n              <label>Nueva contrase√±a</label>\r\n              <input name=\"password\" type=\"password\" minLength={6} style={{width:'100%',padding:'0.6rem',borderRadius:8,border:'1px solid #ccc',marginTop:4}} required />\r\n            </div>\r\n            <div style={{display:'flex',justifyContent:'flex-end',gap:'1rem'}}>\r\n              <button type=\"button\" onClick={()=>setModalReset(null)} style={{background:'#fff',border:'2px solid #222',borderRadius:8,padding:'0.7rem 2.2rem',fontWeight:600}}>Cancelar</button>\r\n              <button type=\"submit\" style={{background:'#222',color:'#fff',border:'none',borderRadius:8,padding:'0.7rem 2.2rem',fontWeight:600}}>Restablecer</button>\r\n            </div>\r\n          </form>\r\n        )}\r\n      </Modal>\r\n\r\n      {/* MODAL ELIMINAR USUARIO */}\r\n      <Modal open={!!modalDelete} onClose={()=>setModalDelete(null)}>\r\n        {modalDelete && (\r\n            <form onSubmit={async e => {\r\n            e.preventDefault();\r\n            if (e.target.confirm.value === 'ELIMINAR') {\r\n              try {\r\n                await apiFetch(`/api/users/${modalDelete.id}`, { method: 'DELETE' });\r\n                setModalDelete(null);\r\n                setRefresh(r => !r);\r\n              } catch (err) {\r\n                alert(err.message || 'Error al eliminar usuario');\r\n              }\r\n            } else {\r\n              alert('Debes escribir ELIMINAR para confirmar');\r\n            }\r\n          }}>\r\n            <h2 style={{marginBottom:8}}>¬øEst√°s absolutamente seguro?</h2>\r\n            <div style={{color:'#888',marginBottom:18}}>Esta acci√≥n no se puede deshacer. Esto eliminar√° permanentemente al usuario <b>{modalDelete.name}</b> y todos sus datos asociados.</div>\r\n            <div style={{marginBottom:18}}>\r\n              <label>Por favor, escribe <b>ELIMINAR</b> para confirmar.</label>\r\n              <input name=\"confirm\" style={{width:'100%',padding:'0.6rem',borderRadius:8,border:'1px solid #ccc',marginTop:4}} required />\r\n            </div>\r\n            <div style={{display:'flex',justifyContent:'flex-end',gap:'1rem'}}>\r\n              <button type=\"button\" onClick={()=>setModalDelete(null)} style={{background:'#fff',border:'2px solid #222',borderRadius:8,padding:'0.7rem 2.2rem',fontWeight:600}}>Cancelar</button>\r\n              <button type=\"submit\" style={{background:'#e74c3c',color:'#fff',border:'none',borderRadius:8,padding:'0.7rem 2.2rem',fontWeight:600}}>S√≠, eliminar usuario</button>\r\n            </div>\r\n          </form>\r\n        )}\r\n      </Modal>\r\n                  \r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n          <div style={{display:'flex',justifyContent:'space-between',alignItems:'center'}}>\r\n            <button disabled={page===1} onClick={()=>setPage(p=>p-1)}>Anterior</button>\r\n            <span>P√°gina {page} de {Math.ceil(total/PAGE_LIMIT)||1}</span>\r\n            <button disabled={page*PAGE_LIMIT>=total} onClick={()=>setPage(p=>p+1)}>Siguiente</button>\r\n          </div>\r\n        </>\r\n      )}\r\n    </ModuloBase>\r\n  );\r\n};\r\n\r\nexport default UserManagement;\r\n"],"names":["modalStyle","cardStyle","Modal","open","onClose","children","jsx","e","PAGE_LIMIT","UserManagement","users","setUsers","useState","modalEdit","setModalEdit","modalDelete","setModalDelete","modalReset","setModalReset","total","setTotal","loading","setLoading","error","setError","page","setPage","search","setSearch","role","setRole","refresh","setRefresh","roles","useEffect","qs","url","json","apiFetch","err","jsxs","ModuloBase","Fragment","u","_a","r","form","nombre","apellido","email","rol","area","password","p"],"mappings":"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"}