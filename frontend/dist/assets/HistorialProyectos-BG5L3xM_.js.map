{"version":3,"file":"HistorialProyectos-BG5L3xM_.js","sources":["../../src/pages/HistorialProyectos.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\nimport { useQuery, useMutation, useQueryClient } from 'react-query';\r\nimport { \r\n  FiClock, FiUser, FiActivity, FiFilter, FiSearch, \r\n  FiRefreshCw, FiEye, FiCalendar, FiTrendingUp,\r\n  FiCheckCircle, FiAlertCircle, FiInfo, FiEdit3\r\n} from 'react-icons/fi';\r\nimport { apiFetch } from '../services/api';\r\nimport './HistorialProyectos.css';\r\n\r\nconst HistorialProyectos = () => {\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const queryClient = useQueryClient();\r\n  \r\n  const [projectId, setProjectId] = useState('');\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [filterAction, setFilterAction] = useState('all');\r\n  const [filterDate, setFilterDate] = useState('all');\r\n  const [page, setPage] = useState(1);\r\n  const [limit] = useState(20);\r\n\r\n  // Obtener proyectos para el selector\r\n  const { data: projectsData } = useQuery(\r\n    'projects-list',\r\n    () => apiFetch('/api/projects?limit=500'),\r\n    { staleTime: 5 * 60 * 1000 }\r\n  );\r\n\r\n  // Obtener historial del proyecto\r\n  const { data: historyData, isLoading, error } = useQuery(\r\n    ['project-history', projectId, page, limit, searchTerm, filterAction, filterDate],\r\n    () => getProjectHistory(projectId, { page, limit, search: searchTerm, action: filterAction, date: filterDate }),\r\n    {\r\n      enabled: !!projectId,\r\n      keepPreviousData: true,\r\n    }\r\n  );\r\n\r\n  const getProjectHistory = async (projectId, params = {}) => {\r\n    const queryParams = new URLSearchParams();\r\n    if (params.page) queryParams.set('page', params.page);\r\n    if (params.limit) queryParams.set('limit', params.limit);\r\n    if (params.search) queryParams.set('search', params.search);\r\n    if (params.action && params.action !== 'all') queryParams.set('action', params.action);\r\n    if (params.date && params.date !== 'all') queryParams.set('date', params.date);\r\n    \r\n    const queryString = queryParams.toString();\r\n    const url = `/api/project-history/project/${projectId}${queryString ? `?${queryString}` : ''}`;\r\n    \r\n    return apiFetch(url);\r\n  };\r\n\r\n  const history = historyData?.data || [];\r\n  const total = historyData?.total || 0;\r\n  const totalPages = Math.ceil(total / limit);\r\n\r\n  // Acciones disponibles para filtro\r\n  const actionTypes = [\r\n    { value: 'all', label: 'Todas las acciones', icon: FiActivity },\r\n    { value: 'created', label: 'Proyecto creado', icon: FiCheckCircle },\r\n    { value: 'updated', label: 'Proyecto actualizado', icon: FiEdit3 },\r\n    { value: 'status_changed', label: 'Estado cambiado', icon: FiTrendingUp },\r\n    { value: 'assigned', label: 'Asignado', icon: FiUser },\r\n    { value: 'completed', label: 'Completado', icon: FiCheckCircle },\r\n    { value: 'cancelled', label: 'Cancelado', icon: FiAlertCircle },\r\n  ];\r\n\r\n  // Obtener icono según el tipo de acción\r\n  const getActionIcon = (action) => {\r\n    const actionType = actionTypes.find(type => type.value === action);\r\n    return actionType ? actionType.icon : FiInfo;\r\n  };\r\n\r\n  // Obtener color según el tipo de acción\r\n  const getActionColor = (action) => {\r\n    const colors = {\r\n      created: '#10b981',\r\n      updated: '#3b82f6',\r\n      status_changed: '#f59e0b',\r\n      assigned: '#8b5cf6',\r\n      completed: '#10b981',\r\n      cancelled: '#ef4444',\r\n    };\r\n    return colors[action] || '#6b7280';\r\n  };\r\n\r\n  // Formatear fecha\r\n  const formatDate = (dateString) => {\r\n    const date = new Date(dateString);\r\n    return {\r\n      date: date.toLocaleDateString('es-ES'),\r\n      time: date.toLocaleTimeString('es-ES', { hour: '2-digit', minute: '2-digit' })\r\n    };\r\n  };\r\n\r\n  // Obtener nombre del usuario\r\n  const getUserName = (entry) => {\r\n    if (entry.performed_by_name) {\r\n      return entry.performed_by_name;\r\n    }\r\n    return `Usuario ${entry.performed_by}`;\r\n  };\r\n\r\n  const handleProjectChange = (newProjectId) => {\r\n    setProjectId(newProjectId);\r\n    setPage(1);\r\n  };\r\n\r\n  const handleSearch = () => {\r\n    setPage(1);\r\n  };\r\n\r\n  const handleClearFilters = () => {\r\n    setSearchTerm('');\r\n    setFilterAction('all');\r\n    setFilterDate('all');\r\n    setPage(1);\r\n  };\r\n\r\n  return (\r\n    <div className=\"historial-proyectos\">\r\n      {/* Header */}\r\n      <div className=\"historial-header\">\r\n        <div className=\"historial-title\">\r\n          <FiClock className=\"title-icon\" />\r\n          <div>\r\n            <h1>Historial de Proyectos</h1>\r\n            <p>Seguimiento completo de cambios y eventos en proyectos</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Filtros y búsqueda */}\r\n      <div className=\"historial-filters\">\r\n        <div className=\"filter-group\">\r\n          <label className=\"filter-label\">Proyecto</label>\r\n          <select \r\n            className=\"filter-select\"\r\n            value={projectId}\r\n            onChange={(e) => handleProjectChange(e.target.value)}\r\n          >\r\n            <option value=\"\">Seleccionar proyecto</option>\r\n            {projectsData?.data?.map(project => (\r\n              <option key={project.id} value={project.id}>\r\n                #{project.id} - {project.name}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n\r\n        <div className=\"filter-group\">\r\n          <label className=\"filter-label\">Buscar</label>\r\n          <div className=\"search-input-group\">\r\n            <FiSearch className=\"search-icon\" />\r\n              <input\r\n              type=\"text\"\r\n              className=\"search-input\"\r\n              placeholder=\"Buscar en historial...\"\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n              onKeyPress={(e) => e.key === 'Enter' && handleSearch()}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n        <div className=\"filter-group\">\r\n          <label className=\"filter-label\">Acción</label>\r\n          <select \r\n            className=\"filter-select\"\r\n            value={filterAction}\r\n            onChange={(e) => setFilterAction(e.target.value)}\r\n          >\r\n            {actionTypes.map(type => (\r\n              <option key={type.value} value={type.value}>\r\n                {type.label}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n\r\n        <div className=\"filter-group\">\r\n          <label className=\"filter-label\">Período</label>\r\n          <select \r\n            className=\"filter-select\"\r\n            value={filterDate}\r\n            onChange={(e) => setFilterDate(e.target.value)}\r\n          >\r\n            <option value=\"all\">Todos los períodos</option>\r\n            <option value=\"today\">Hoy</option>\r\n            <option value=\"week\">Esta semana</option>\r\n            <option value=\"month\">Este mes</option>\r\n            <option value=\"quarter\">Este trimestre</option>\r\n          </select>\r\n        </div>\r\n\r\n        <div className=\"filter-actions\">\r\n          <button \r\n            className=\"btn-search\"\r\n            onClick={handleSearch}\r\n            disabled={!projectId}\r\n          >\r\n            <FiSearch />\r\n            Buscar\r\n          </button>\r\n          <button \r\n            className=\"btn-clear\"\r\n            onClick={handleClearFilters}\r\n          >\r\n            <FiFilter />\r\n            Limpiar\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Contenido principal */}\r\n      {!projectId ? (\r\n        <div className=\"historial-empty\">\r\n          <FiActivity className=\"empty-icon\" />\r\n          <h3>Selecciona un proyecto</h3>\r\n          <p>Elige un proyecto de la lista para ver su historial completo</p>\r\n        </div>\r\n      ) : isLoading ? (\r\n        <div className=\"historial-loading\">\r\n          <FiRefreshCw className=\"loading-icon\" />\r\n          <p>Cargando historial...</p>\r\n        </div>\r\n      ) : error ? (\r\n        <div className=\"historial-error\">\r\n          <FiAlertCircle className=\"error-icon\" />\r\n          <h3>Error al cargar historial</h3>\r\n          <p>No se pudo obtener el historial del proyecto</p>\r\n        </div>\r\n      ) : history.length === 0 ? (\r\n        <div className=\"historial-empty\">\r\n          <FiClock className=\"empty-icon\" />\r\n          <h3>Sin historial</h3>\r\n          <p>Este proyecto no tiene registros en el historial</p>\r\n        </div>\r\n      ) : (\r\n        <>\r\n          {/* Estadísticas */}\r\n          <div className=\"historial-stats\">\r\n            <div className=\"stat-card\">\r\n              <FiActivity className=\"stat-icon\" />\r\n              <div>\r\n                <span className=\"stat-number\">{total}</span>\r\n                <span className=\"stat-label\">Registros totales</span>\r\n              </div>\r\n            </div>\r\n            <div className=\"stat-card\">\r\n              <FiCalendar className=\"stat-icon\" />\r\n              <div>\r\n                <span className=\"stat-number\">{history.length}</span>\r\n                <span className=\"stat-label\">En esta página</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Lista de historial */}\r\n          <div className=\"historial-list\">\r\n            {history.map((entry, index) => {\r\n              const ActionIcon = getActionIcon(entry.action);\r\n              const actionColor = getActionColor(entry.action);\r\n              const { date, time } = formatDate(entry.performed_at);\r\n              \r\n              return (\r\n                <div key={entry.id} className=\"historial-item\">\r\n                  <div className=\"historial-item-icon\" style={{ backgroundColor: actionColor }}>\r\n                    <ActionIcon />\r\n                  </div>\r\n                  <div className=\"historial-item-content\">\r\n                    <div className=\"historial-item-header\">\r\n                      <h4 className=\"historial-item-title\">{entry.action.replace('_', ' ').toUpperCase()}</h4>\r\n                      <div className=\"historial-item-meta\">\r\n                        <span className=\"historial-item-user\">\r\n                          <FiUser />\r\n                          {getUserName(entry)}\r\n                        </span>\r\n                        <span className=\"historial-item-date\">\r\n                          <FiCalendar />\r\n                          {date} a las {time}\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                    {entry.notes && (\r\n                      <div className=\"historial-item-notes\">\r\n                        <p>{entry.notes}</p>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n\r\n          {/* Paginación */}\r\n          {totalPages > 1 && (\r\n            <div className=\"historial-pagination\">\r\n              <div className=\"pagination-info\">\r\n                Mostrando {((page - 1) * limit) + 1} - {Math.min(page * limit, total)} de {total} registros\r\n              </div>\r\n              <div className=\"pagination-controls\">\r\n                <button \r\n                  className=\"pagination-btn\"\r\n                  onClick={() => setPage(p => p - 1)}\r\n                  disabled={page <= 1}\r\n                >\r\n                  Anterior\r\n                </button>\r\n                <span className=\"pagination-page\">\r\n                  Página {page} de {totalPages}\r\n                </span>\r\n                <button \r\n                  className=\"pagination-btn\"\r\n                  onClick={() => setPage(p => p + 1)}\r\n                  disabled={page >= totalPages}\r\n                >\r\n                  Siguiente\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HistorialProyectos;"],"names":["HistorialProyectos","useNavigate","useLocation","useQueryClient","projectId","setProjectId","useState","searchTerm","setSearchTerm","filterAction","setFilterAction","filterDate","setFilterDate","page","setPage","limit","projectsData","useQuery","apiFetch","historyData","isLoading","error","getProjectHistory","params","queryParams","queryString","url","history","total","totalPages","actionTypes","FiActivity","FiCheckCircle","FiEdit3","FiTrendingUp","FiUser","FiAlertCircle","getActionIcon","action","actionType","type","FiInfo","getActionColor","formatDate","dateString","date","getUserName","entry","handleProjectChange","newProjectId","handleSearch","handleClearFilters","jsxs","jsx","FiClock","e","_a","project","FiSearch","FiFilter","FiRefreshCw","Fragment","FiCalendar","index","ActionIcon","actionColor","time","p"],"mappings":"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"}