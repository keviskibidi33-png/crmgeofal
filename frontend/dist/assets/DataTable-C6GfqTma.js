import{r as x,j as e,l as I,ak as H,k as z,ap as L,B as J,a3 as K,aq as N,ar as Q,f as U,C as X,an as Y,v as Z}from"./index-Vrmn15ab.js";import{R as A,C as F}from"./PageHeader-BlrN-WgO.js";import{I as V,F as ee}from"./InputGroup-BN0s6ecM.js";const E=x.forwardRef(({active:l=!1,disabled:n=!1,className:a,style:c,activeLabel:i="(current)",children:d,linkStyle:h,linkClassName:j,as:p=H,...f},b)=>{const r=l||n?"span":p;return e.jsx("li",{ref:b,style:c,className:I(a,"page-item",{active:l,disabled:n}),children:e.jsxs(r,{className:I("page-link",j),style:h,...f,children:[d,l&&i&&e.jsx("span",{className:"visually-hidden",children:i})]})})});E.displayName="PageItem";function C(l,n,a=l){const c=x.forwardRef(({children:i,...d},h)=>e.jsxs(E,{...d,ref:h,children:[e.jsx("span",{"aria-hidden":"true",children:i||n}),e.jsx("span",{className:"visually-hidden",children:a})]}));return c.displayName=l,c}const se=C("First","«"),te=C("Prev","‹","Previous"),ae=C("Ellipsis","…","More"),re=C("Next","›"),ne=C("Last","»"),q=x.forwardRef(({bsPrefix:l,className:n,size:a,...c},i)=>{const d=z(l,"pagination");return e.jsx("ul",{ref:i,...c,className:I(n,d,a&&`${d}-${a}`)})});q.displayName="Pagination";const k=Object.assign(q,{First:se,Prev:te,Ellipsis:ae,Item:E,Next:re,Last:ne}),G=x.forwardRef(({bsPrefix:l,className:n,striped:a,bordered:c,borderless:i,hover:d,size:h,variant:j,responsive:p,...f},b)=>{const r=z(l,"table"),w=I(n,r,j&&`${r}-${j}`,h&&`${r}-${h}`,a&&`${r}-${typeof a=="string"?`striped-${a}`:"striped"}`,c&&`${r}-bordered`,i&&`${r}-borderless`,d&&`${r}-hover`),m=e.jsx("table",{...f,className:w,ref:b});if(p){let y=`${r}-responsive`;return typeof p=="string"&&(y=`${y}-${p}`),e.jsx("div",{className:y,children:m})}return m});G.displayName="Table";const de=({data:l=[],columns:n=[],searchable:a=!0,filterable:c=!0,actions:i=[],onEdit:d,onDelete:h,onView:j,loading:p=!1,emptyMessage:f="No hay datos disponibles",className:b=""})=>{const[r,w]=x.useState(""),[m,y]=x.useState(""),[v,T]=x.useState("asc"),[u,B]=x.useState(1),[P]=x.useState(10),$=x.useMemo(()=>{let s=l;return r&&a&&(s=s.filter(t=>n.some(o=>{const g=o.accessor?t[o.accessor]:"";return String(g).toLowerCase().includes(r.toLowerCase())}))),m&&(s=[...s].sort((t,o)=>{const g=t[m],R=o[m];return g<R?v==="asc"?-1:1:g>R?v==="asc"?1:-1:0})),s},[l,r,m,v,n,a]),D=Math.ceil($.length/P),S=(u-1)*P,M=$.slice(S,S+P),O=s=>{m===s?T(v==="asc"?"desc":"asc"):(y(s),T("asc"))},W=s=>m!==s?null:v==="asc"?"↑":"↓",_=(s,t)=>{const o=t.accessor?s[t.accessor]:"";return t.render?t.render(o,s):t.type==="badge"?e.jsx(Z,{bg:t.badgeColor||"secondary",children:o}):t.type==="date"?new Date(o).toLocaleDateString("es-ES"):o};return p?e.jsxs("div",{className:"text-center py-5",children:[e.jsx("div",{className:"spinner-border text-primary",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Cargando..."})}),e.jsx("p",{className:"mt-2 text-muted",children:"Cargando datos..."})]}):e.jsxs("div",{className:`data-table ${b}`,children:[(a||c)&&e.jsx("div",{className:"table-controls bg-light p-3 rounded-top border",children:e.jsxs(A,{className:"align-items-center",children:[a&&e.jsx(F,{md:6,children:e.jsxs(V,{children:[e.jsx(V.Text,{children:e.jsx(L,{})}),e.jsx(ee.Control,{type:"text",placeholder:"Buscar...",value:r,onChange:s=>w(s.target.value)})]})}),c&&e.jsx(F,{md:6,className:"text-end",children:e.jsxs(J,{variant:"outline-secondary",size:"sm",children:[e.jsx(K,{className:"me-1"}),"Filtros"]})})]})}),e.jsx("div",{className:"table-responsive",children:e.jsxs(G,{hover:!0,className:"mb-0",children:[e.jsx("thead",{className:"table-light",children:e.jsxs("tr",{children:[n.map((s,t)=>e.jsx("th",{className:s.sortable?"cursor-pointer":"",onClick:()=>s.sortable&&O(s.accessor),style:{minWidth:s.width||"auto"},children:e.jsxs("div",{className:"d-flex align-items-center",children:[s.header,s.sortable&&e.jsx("span",{className:"ms-1 text-muted",children:W(s.accessor)})]})},t)),i.length>0&&e.jsx("th",{width:"120",className:"text-center",children:"Acciones"})]})}),e.jsx("tbody",{children:M.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:n.length+(i.length>0?1:0),className:"text-center py-5",children:e.jsxs("div",{className:"text-muted",children:[e.jsx(L,{size:48,className:"mb-3 opacity-50"}),e.jsx("p",{className:"mb-0",children:f})]})})}):M.map((s,t)=>e.jsxs("tr",{children:[n.map((o,g)=>e.jsx("td",{children:_(s,o)},g)),i.length>0&&e.jsx("td",{className:"text-center",children:e.jsxs(N,{children:[e.jsx(N.Toggle,{variant:"link",size:"sm",className:"text-muted",children:e.jsx(Q,{})}),e.jsxs(N.Menu,{children:[j&&e.jsxs(N.Item,{onClick:()=>j(s),children:[e.jsx(U,{className:"me-2"}),"Ver"]}),d&&e.jsxs(N.Item,{onClick:()=>d(s),children:[e.jsx(X,{className:"me-2"}),"Editar"]}),h&&e.jsxs(N.Item,{onClick:()=>h(s),className:"text-danger",children:[e.jsx(Y,{className:"me-2"}),"Eliminar"]})]})]})})]},s.id||t))})]})}),D>1&&e.jsx("div",{className:"table-footer bg-light p-3 rounded-bottom border border-top-0",children:e.jsxs(A,{className:"align-items-center",children:[e.jsx(F,{children:e.jsxs("small",{className:"text-muted",children:["Mostrando ",S+1," a ",Math.min(S+P,$.length)," de ",$.length," registros"]})}),e.jsx(F,{xs:"auto",children:e.jsxs(k,{size:"sm",className:"mb-0",children:[e.jsx(k.Prev,{disabled:u===1,onClick:()=>B(u-1)}),[...Array(D)].map((s,t)=>e.jsx(k.Item,{active:u===t+1,onClick:()=>B(t+1),children:t+1},t+1)),e.jsx(k.Next,{disabled:u===D,onClick:()=>B(u+1)})]})})]})})]})};export{de as D};
//# sourceMappingURL=DataTable-C6GfqTma.js.map
