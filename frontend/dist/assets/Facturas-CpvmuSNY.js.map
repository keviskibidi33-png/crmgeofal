{"version":3,"file":"Facturas-CpvmuSNY.js","sources":["../../src/services/invoices.js","../../src/pages/Facturas.jsx"],"sourcesContent":["import apiFetch from './api';\r\n\r\nexport async function listInvoices({ page = 1, limit = 20, payment_status } = {}) {\r\n  const params = new URLSearchParams();\r\n  params.set('page', page);\r\n  params.set('limit', limit);\r\n  if (payment_status) params.set('payment_status', payment_status);\r\n  return apiFetch(`/api/invoices?${params.toString()}`);\r\n}\r\n\r\nexport async function getInvoice(id) {\r\n  return apiFetch(`/api/invoices/${id}`);\r\n}\r\n\r\nexport async function createInvoice(payload) {\r\n  return apiFetch('/api/invoices', { method: 'POST', body: JSON.stringify(payload) });\r\n}\r\n\r\nexport async function updateInvoiceStatus(id, payment_status) {\r\n  return apiFetch(`/api/invoices/${id}/status`, { method: 'PUT', body: JSON.stringify({ payment_status }) });\r\n}\r\n\r\nexport default { listInvoices, getInvoice, createInvoice, updateInvoiceStatus };\r\n","import React, { useEffect, useMemo, useState } from 'react';\r\nimport ModuloBase from '../components/ModuloBase';\r\nimport Toolbar from '../components/Toolbar';\r\nimport TableEmpty from '../components/TableEmpty';\r\nimport { listInvoices, updateInvoiceStatus, createInvoice } from '../services/invoices';\r\nimport { listProjects } from '../services/projects';\r\nimport { listCompanies } from '../services/companies';\r\nimport { useQuery, useMutation, useQueryClient } from 'react-query';\r\n\r\nconst paymentStatusOptions = [\r\n  { value: '', label: 'Todos' },\r\n  { value: 'pendiente', label: 'Pendiente' },\r\n  { value: 'pagado', label: 'Pagado' },\r\n  { value: 'vencido', label: 'Vencido' },\r\n];\r\n\r\nconst statusBadgeClass = (s) => {\r\n  const map = { pendiente: 'warning', pagado: 'success', vencido: 'danger' };\r\n  return map[String(s || '').toLowerCase()] || 'secondary';\r\n};\r\n\r\nexport default function Facturas() {\r\n  const [filters, setFilters] = useState({ payment_status: '' });\r\n  const [page, setPage] = useState(1);\r\n  const [limit] = useState(20);\r\n  const [error, setError] = useState('');\r\n  const [companies, setCompanies] = useState([]);\r\n  const [projects, setProjects] = useState([]);\r\n\r\n  const projectById = useMemo(() => {\r\n    const map = new Map();\r\n    projects.forEach(p => map.set(p.id, p));\r\n    return map;\r\n  }, [projects]);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const [c, p] = await Promise.all([\r\n          listCompanies({ page: 1, limit: 200 }),\r\n          listProjects({ page: 1, limit: 500 }),\r\n        ]);\r\n        setCompanies(Array.isArray(c?.data) ? c.data : (c || []));\r\n        setProjects(Array.isArray(p?.data) ? p.data : (p || []));\r\n      } catch {}\r\n    })();\r\n  }, []);\r\n\r\n  const queryClient = useQueryClient();\r\n\r\n  const { data, isLoading } = useQuery(\r\n    ['invoices', { page, limit, payment_status: filters.payment_status || '' }],\r\n    async () => {\r\n      const resp = await listInvoices({ page, limit, payment_status: filters.payment_status || undefined });\r\n      const rows = Array.isArray(resp?.data) ? resp.data : Array.isArray(resp) ? resp : [];\r\n      const total = Number(resp?.total || rows.length || 0);\r\n      return { rows, total };\r\n    },\r\n    { keepPreviousData: true }\r\n  );\r\n\r\n  const statusMutation = useMutation(({ id, payment_status }) => updateInvoiceStatus(id, payment_status), {\r\n    onSuccess: () => queryClient.invalidateQueries('invoices')\r\n  });\r\n\r\n  // Modal simple de creación (mínimo viable)\r\n  const [modalOpen, setModalOpen] = useState(false);\r\n  const [form, setForm] = useState({ project_id: '', quote_number: '', received_at: '', payment_due: '', payment_status: 'pendiente', amount: '' });\r\n  const createDisabled = !form.project_id || !form.quote_number || !form.received_at || !form.payment_due || !form.amount;\r\n  const createMutation = useMutation((payload) => createInvoice(payload), {\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries('invoices');\r\n    }\r\n  });\r\n  const onCreate = async () => {\r\n    try {\r\n      await createMutation.mutateAsync({ ...form, amount: Number(form.amount) });\r\n      setModalOpen(false);\r\n      setForm({ project_id: '', quote_number: '', received_at: '', payment_due: '', payment_status: 'pendiente', amount: '' });\r\n      setPage(1);\r\n    } catch (e) {\r\n      alert(e.message || 'No se pudo crear factura');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <ModuloBase titulo=\"Gestión de Facturas\" descripcion=\"Listado y gestión de facturas (jefa comercial/admin)\">\r\n      <Toolbar\r\n        left={\r\n          <>\r\n            <div>\r\n              <label className=\"form-label\">Estado de pago</label>\r\n              <select className=\"form-select\" value={filters.payment_status} onChange={e=>{ setPage(1); setFilters(f=>({ ...f, payment_status: e.target.value })); }}>\r\n                {paymentStatusOptions.map(opt => (\r\n                  <option key={opt.value} value={opt.value}>{opt.label}</option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n          </>\r\n        }\r\n        right={\r\n          <>\r\n            <button className=\"btn btn-primary\" onClick={()=>setModalOpen(true)}>Nueva factura</button>\r\n          </>\r\n        }\r\n      />\r\n\r\n  {error && <div className=\"alert alert-danger\">{error}</div>}\r\n\r\n      <div className=\"table-responsive mt-2\">\r\n        <table className=\"table table-striped align-middle\">\r\n          <thead>\r\n            <tr>\r\n              <th>ID</th>\r\n              <th>Proyecto</th>\r\n              <th>Quote #</th>\r\n              <th>Recibida</th>\r\n              <th>Vence</th>\r\n              <th>Monto</th>\r\n              <th>Estado</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {(data?.rows || []).map(inv => (\r\n              <tr key={inv.id}>\r\n                <td>{inv.id}</td>\r\n                <td>{projectById.get(inv.project_id)?.name || inv.project_id}</td>\r\n                <td>{inv.quote_number}</td>\r\n                <td>{inv.received_at?.slice(0,10)}</td>\r\n                <td>{inv.payment_due?.slice(0,10)}</td>\r\n                <td>S/ {Number(inv.amount||0).toFixed(2)}</td>\r\n                <td>\r\n                  <select className={`form-select form-select-sm badge-select text-bg-${statusBadgeClass(inv.payment_status)}`}\r\n                    value={inv.payment_status || ''}\r\n                    onChange={e=>statusMutation.mutate({ id: inv.id, payment_status: e.target.value })}\r\n                  >\r\n                    {paymentStatusOptions.filter(o=>o.value!=='').map(opt => (\r\n                      <option key={opt.value} value={opt.value}>{opt.label}</option>\r\n                    ))}\r\n                  </select>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n            {(!data?.rows || data.rows.length === 0) && !isLoading && <TableEmpty colSpan={7} label=\"Sin facturas\" />}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      <div className=\"d-flex justify-content-between align-items-center mt-2\">\r\n        <button className=\"btn btn-outline-secondary\" disabled={page===1 || isLoading} onClick={()=>setPage(p=>p-1)}>Anterior</button>\r\n        <span>Página {page} de {Math.max(1, Math.ceil((data?.total||0)/limit))}</span>\r\n        <button className=\"btn btn-outline-secondary\" disabled={page*limit>=(data?.total||0) || isLoading} onClick={()=>setPage(p=>p+1)}>Siguiente</button>\r\n      </div>\r\n\r\n      {/* Modal simple */}\r\n      {modalOpen && (\r\n        <div className=\"modal d-block\" tabIndex=\"-1\" role=\"dialog\" style={{ background: 'rgba(0,0,0,0.35)' }}>\r\n          <div className=\"modal-dialog\">\r\n            <div className=\"modal-content\">\r\n              <div className=\"modal-header\">\r\n                <h5 className=\"modal-title\">Nueva Factura</h5>\r\n                <button type=\"button\" className=\"btn-close\" onClick={()=>setModalOpen(false)}></button>\r\n              </div>\r\n              <div className=\"modal-body\">\r\n                <div className=\"mb-2\">\r\n                  <label className=\"form-label\">Proyecto</label>\r\n                  <select className=\"form-select\" value={form.project_id} onChange={e=>setForm(f=>({...f, project_id: e.target.value }))}>\r\n                    <option value=\"\">Seleccione</option>\r\n                    {projects.map(p => <option key={p.id} value={p.id}>{p.name}</option>)}\r\n                  </select>\r\n                </div>\r\n                <div className=\"row g-2\">\r\n                  <div className=\"col\">\r\n                    <label className=\"form-label\">Quote #</label>\r\n                    <input className=\"form-control\" value={form.quote_number} onChange={e=>setForm(f=>({...f, quote_number: e.target.value }))} />\r\n                  </div>\r\n                  <div className=\"col\">\r\n                    <label className=\"form-label\">Monto</label>\r\n                    <input type=\"number\" className=\"form-control\" value={form.amount} onChange={e=>setForm(f=>({...f, amount: e.target.value }))} />\r\n                  </div>\r\n                </div>\r\n                <div className=\"row g-2 mt-1\">\r\n                  <div className=\"col\">\r\n                    <label className=\"form-label\">Recibida</label>\r\n                    <input type=\"date\" className=\"form-control\" value={form.received_at} onChange={e=>setForm(f=>({...f, received_at: e.target.value }))} />\r\n                  </div>\r\n                  <div className=\"col\">\r\n                    <label className=\"form-label\">Vence</label>\r\n                    <input type=\"date\" className=\"form-control\" value={form.payment_due} onChange={e=>setForm(f=>({...f, payment_due: e.target.value }))} />\r\n                  </div>\r\n                </div>\r\n                <div className=\"mt-2\">\r\n                  <label className=\"form-label\">Estado</label>\r\n                  <select className=\"form-select\" value={form.payment_status} onChange={e=>setForm(f=>({...f, payment_status: e.target.value }))}>\r\n                    {paymentStatusOptions.filter(o=>o.value!=='').map(opt => <option key={opt.value} value={opt.value}>{opt.label}</option>)}\r\n                  </select>\r\n                </div>\r\n              </div>\r\n              <div className=\"modal-footer\">\r\n                <button className=\"btn btn-secondary\" onClick={()=>setModalOpen(false)}>Cancelar</button>\r\n                <button className=\"btn btn-primary\" disabled={createDisabled} onClick={onCreate}>Crear</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </ModuloBase>\r\n  );\r\n}\r\n\r\n"],"names":["listInvoices","page","limit","payment_status","params","apiFetch","createInvoice","payload","updateInvoiceStatus","id","paymentStatusOptions","statusBadgeClass","s","Facturas","filters","setFilters","useState","setPage","error","setError","companies","setCompanies","projects","setProjects","projectById","useMemo","map","p","useEffect","c","listCompanies","listProjects","queryClient","useQueryClient","data","isLoading","useQuery","resp","rows","total","statusMutation","useMutation","modalOpen","setModalOpen","form","setForm","createDisabled","createMutation","onCreate","e","jsxs","ModuloBase","jsx","Toolbar","Fragment","f","opt","inv","_a","_b","_c","o","TableEmpty"],"mappings":"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"}