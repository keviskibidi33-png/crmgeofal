{"version":3,"file":"ProyectosLaboratorio-Dg5EkHep.js","sources":["../../src/pages/ProyectosLaboratorio.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Container, Row, Col, Card, Badge, Button, Form, Spinner, Alert, Table } from 'react-bootstrap';\r\nimport { FiEye, FiFileText, FiUser, FiCalendar, FiDollarSign, FiTrendingUp, FiRefreshCw, FiUpload, FiCheck } from 'react-icons/fi';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport api from '../services/api';\r\n\r\nconst ProyectosLaboratorio = () => {\r\n  const { user } = useAuth();\r\n  const [projects, setProjects] = useState([]);\r\n  const [quotes, setQuotes] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [filters, setFilters] = useState({\r\n    status: '',\r\n    vendedor: '',\r\n    cliente: ''\r\n  });\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  const fetchData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n\r\n      // Obtener proyectos asignados a laboratorio\r\n      const projectsData = await api('/api/projects/laboratory');\r\n      setProjects(projectsData || []);\r\n\r\n      // Obtener cotizaciones relacionadas\r\n      const quotesData = await api('/api/quotes/with-projects');\r\n      setQuotes(quotesData || []);\r\n\r\n    } catch (error) {\r\n      console.error('Error fetching data:', error);\r\n      setError('Error al cargar los datos: ' + (error.message || 'Error desconocido'));\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getStatusBadge = (status) => {\r\n    const statusConfig = {\r\n      'borrador': { variant: 'warning', text: 'Borrador' },\r\n      'aprobada': { variant: 'success', text: 'Aprobada' },\r\n      'facturada': { variant: 'info', text: 'Facturada' },\r\n      'activo': { variant: 'primary', text: 'Activo' },\r\n      'completado': { variant: 'success', text: 'Completado' }\r\n    };\r\n    \r\n    const config = statusConfig[status] || { variant: 'secondary', text: status };\r\n    return <Badge bg={config.variant}>{config.text}</Badge>;\r\n  };\r\n\r\n  const getProjectStatus = (project) => {\r\n    // Determinar estado del proyecto basado en sus cotizaciones\r\n    const projectQuotes = quotes.filter(q => q.project_id === project.id);\r\n    \r\n    if (projectQuotes.length === 0) return 'sin_cotizaciones';\r\n    if (projectQuotes.some(q => q.status === 'facturada')) return 'completado';\r\n    if (projectQuotes.some(q => q.status === 'aprobada')) return 'en_proceso';\r\n    if (projectQuotes.some(q => q.status === 'borrador')) return 'pendiente';\r\n    \r\n    return 'activo';\r\n  };\r\n\r\n  const getProjectMetrics = (project) => {\r\n    const projectQuotes = quotes.filter(q => q.project_id === project.id);\r\n    \r\n    return {\r\n      totalQuotes: projectQuotes.length,\r\n      approvedQuotes: projectQuotes.filter(q => q.status === 'aprobada').length,\r\n      invoicedQuotes: projectQuotes.filter(q => q.status === 'facturada').length,\r\n      totalAmount: projectQuotes.reduce((sum, q) => sum + (q.total || 0), 0),\r\n      lastActivity: projectQuotes.length > 0 ? \r\n        new Date(Math.max(...projectQuotes.map(q => new Date(q.updated_at)))) : \r\n        new Date(project.updated_at)\r\n    };\r\n  };\r\n\r\n  const filteredProjects = projects.filter(project => {\r\n    if (filters.status && getProjectStatus(project) !== filters.status) return false;\r\n    if (filters.vendedor && !project.created_by_name?.toLowerCase().includes(filters.vendedor.toLowerCase())) return false;\r\n    if (filters.cliente && !project.company_name?.toLowerCase().includes(filters.cliente.toLowerCase())) return false;\r\n    return true;\r\n  });\r\n\r\n  if (loading) {\r\n    return (\r\n      <Container className=\"py-4\">\r\n        <div className=\"text-center\">\r\n          <Spinner animation=\"border\" />\r\n          <p className=\"mt-2\">Cargando proyectos de laboratorio...</p>\r\n        </div>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <Container className=\"py-4\">\r\n        <Alert variant=\"danger\">\r\n          {error}\r\n        </Alert>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container className=\"py-4\">\r\n      <Row className=\"mb-4\">\r\n        <Col>\r\n          <h2>ðŸ§ª Proyectos de Laboratorio</h2>\r\n          <p className=\"text-muted\">Proyectos asignados para trabajo de laboratorio</p>\r\n        </Col>\r\n        <Col md=\"auto\">\r\n          <Button variant=\"outline-secondary\" onClick={fetchData}>\r\n            <FiRefreshCw className=\"me-2\" />\r\n            Actualizar\r\n          </Button>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Filtros */}\r\n      <Row className=\"mb-4\">\r\n        <Col md={3}>\r\n          <Form.Select\r\n            value={filters.status}\r\n            onChange={(e) => setFilters(prev => ({ ...prev, status: e.target.value }))}\r\n          >\r\n            <option value=\"\">Todos los estados</option>\r\n            <option value=\"pendiente\">Pendiente</option>\r\n            <option value=\"en_proceso\">En Proceso</option>\r\n            <option value=\"completado\">Completado</option>\r\n            <option value=\"sin_cotizaciones\">Sin Cotizaciones</option>\r\n          </Form.Select>\r\n        </Col>\r\n        <Col md={3}>\r\n          <Form.Control\r\n            type=\"text\"\r\n            placeholder=\"Filtrar por vendedor...\"\r\n            value={filters.vendedor}\r\n            onChange={(e) => setFilters(prev => ({ ...prev, vendedor: e.target.value }))}\r\n          />\r\n        </Col>\r\n        <Col md={3}>\r\n          <Form.Control\r\n            type=\"text\"\r\n            placeholder=\"Filtrar por cliente...\"\r\n            value={filters.cliente}\r\n            onChange={(e) => setFilters(prev => ({ ...prev, cliente: e.target.value }))}\r\n          />\r\n        </Col>\r\n        <Col md={3}>\r\n          <div className=\"d-flex gap-2\">\r\n            <Button\r\n              variant=\"outline-secondary\"\r\n              onClick={() => setFilters({ status: '', vendedor: '', cliente: '' })}\r\n            >\r\n              Limpiar\r\n            </Button>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Resumen de mÃ©tricas */}\r\n      <Row className=\"mb-4\">\r\n        <Col md={3}>\r\n          <Card className=\"text-center\">\r\n            <Card.Body>\r\n              <FiFileText size={24} className=\"text-primary mb-2\" />\r\n              <h4>{projects.length}</h4>\r\n              <small className=\"text-muted\">Total Proyectos</small>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n        <Col md={3}>\r\n          <Card className=\"text-center\">\r\n            <Card.Body>\r\n              <FiTrendingUp size={24} className=\"text-success mb-2\" />\r\n              <h4>{projects.filter(p => getProjectStatus(p) === 'en_proceso').length}</h4>\r\n              <small className=\"text-muted\">En Proceso</small>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n        <Col md={3}>\r\n          <Card className=\"text-center\">\r\n            <Card.Body>\r\n              <FiDollarSign size={24} className=\"text-info mb-2\" />\r\n              <h4>S/ {projects.reduce((sum, p) => {\r\n                const metrics = getProjectMetrics(p);\r\n                return sum + metrics.totalAmount;\r\n              }, 0).toFixed(2)}</h4>\r\n              <small className=\"text-muted\">Monto Total</small>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n        <Col md={3}>\r\n          <Card className=\"text-center\">\r\n            <Card.Body>\r\n              <FiUser size={24} className=\"text-warning mb-2\" />\r\n              <h4>{new Set(projects.map(p => p.created_by_name)).size}</h4>\r\n              <small className=\"text-muted\">Vendedores Asignados</small>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* Lista de proyectos */}\r\n      <Row>\r\n        {filteredProjects.length === 0 ? (\r\n          <Col>\r\n            <Card>\r\n              <Card.Body className=\"text-center py-5\">\r\n                <FiFileText size={48} className=\"text-muted mb-3\" />\r\n                <h5>No hay proyectos</h5>\r\n                <p className=\"text-muted\">\r\n                  {Object.values(filters).some(f => f) \r\n                    ? 'No se encontraron proyectos con los filtros aplicados'\r\n                    : 'No hay proyectos asignados para laboratorio'\r\n                  }\r\n                </p>\r\n              </Card.Body>\r\n            </Card>\r\n          </Col>\r\n        ) : (\r\n          filteredProjects.map((project) => {\r\n            const metrics = getProjectMetrics(project);\r\n            const status = getProjectStatus(project);\r\n            const projectQuotes = quotes.filter(q => q.project_id === project.id);\r\n\r\n            return (\r\n              <Col key={project.id} md={6} lg={4} className=\"mb-3\">\r\n                <Card>\r\n                  <Card.Header className=\"d-flex justify-content-between align-items-center\">\r\n                    <strong>{project.name}</strong>\r\n                    {getStatusBadge(status)}\r\n                  </Card.Header>\r\n                  <Card.Body>\r\n                    <div className=\"mb-2\">\r\n                      <strong>Cliente:</strong> {project.company_name || 'N/A'}\r\n                    </div>\r\n                    <div className=\"mb-2\">\r\n                      <strong>Vendedor:</strong> {project.created_by_name || 'N/A'}\r\n                    </div>\r\n                    <div className=\"mb-2\">\r\n                      <strong>UbicaciÃ³n:</strong> {project.location || 'N/A'}\r\n                    </div>\r\n                    <div className=\"mb-2\">\r\n                      <strong>DescripciÃ³n:</strong> {project.description || 'Sin descripciÃ³n'}\r\n                    </div>\r\n                    \r\n                    <hr />\r\n                    \r\n                    <div className=\"mb-2\">\r\n                      <strong>Cotizaciones:</strong> {metrics.totalQuotes}\r\n                    </div>\r\n                    <div className=\"mb-2\">\r\n                      <strong>Monto Total:</strong> S/ {metrics.totalAmount.toFixed(2)}\r\n                    </div>\r\n                    <div className=\"mb-2\">\r\n                      <strong>Ãšltima Actividad:</strong> {metrics.lastActivity.toLocaleDateString()}\r\n                    </div>\r\n\r\n                    {projectQuotes.length > 0 && (\r\n                      <div className=\"mt-3\">\r\n                        <h6>Cotizaciones del Proyecto:</h6>\r\n                        <Table size=\"sm\">\r\n                          <thead>\r\n                            <tr>\r\n                              <th>NÃºmero</th>\r\n                              <th>Estado</th>\r\n                              <th>Monto</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            {projectQuotes.map((quote) => (\r\n                              <tr key={quote.id}>\r\n                                <td>{quote.quote_number || `COT-${quote.id}`}</td>\r\n                                <td>{getStatusBadge(quote.status)}</td>\r\n                                <td>S/ {quote.total?.toFixed(2) || '0.00'}</td>\r\n                              </tr>\r\n                            ))}\r\n                          </tbody>\r\n                        </Table>\r\n                      </div>\r\n                    )}\r\n\r\n                    <div className=\"d-flex gap-2 mt-3\">\r\n                      <Button\r\n                        variant=\"outline-primary\"\r\n                        size=\"sm\"\r\n                        onClick={() => {\r\n                          // Navegar a detalles del proyecto\r\n                          window.location.href = `/proyectos/${project.id}`;\r\n                        }}\r\n                      >\r\n                        <FiEye className=\"me-1\" />\r\n                        Ver Detalles\r\n                      </Button>\r\n                      <Button\r\n                        variant=\"outline-success\"\r\n                        size=\"sm\"\r\n                        onClick={() => {\r\n                          // Subir evidencias\r\n                          window.location.href = `/proyectos/${project.id}/evidencias`;\r\n                        }}\r\n                      >\r\n                        <FiUpload className=\"me-1\" />\r\n                        Subir Evidencias\r\n                      </Button>\r\n                    </div>\r\n                  </Card.Body>\r\n                </Card>\r\n              </Col>\r\n            );\r\n          })\r\n        )}\r\n      </Row>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default ProyectosLaboratorio;\r\n"],"names":["ProyectosLaboratorio","user","useAuth","projects","setProjects","useState","quotes","setQuotes","loading","setLoading","error","setError","filters","setFilters","useEffect","fetchData","projectsData","api","quotesData","getStatusBadge","status","config","Badge","getProjectStatus","project","projectQuotes","q","getProjectMetrics","sum","filteredProjects","_a","_b","Container","jsxs","jsx","Spinner","Alert","Row","Col","Button","FiRefreshCw","Form","e","prev","Card","FiFileText","FiTrendingUp","p","FiDollarSign","metrics","FiUser","f","Table","quote","FiEye","FiUpload"],"mappings":"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"}