{"version":3,"file":"Laboratorio-BJ2X_EUq.js","sources":["../../src/services/laboratorio.js","../../src/pages/Laboratorio.jsx"],"sourcesContent":["import { apiFetch } from './api';\r\n\r\n// Obtener proyectos asignados al laboratorio\r\nexport const getProyectosAsignados = async (filtros = {}) => {\r\n  try {\r\n    console.log('üî¨ getProyectosAsignados - Llamando a: /api/laboratorio/proyectos');\r\n    const params = new URLSearchParams();\r\n    \r\n    if (filtros.estado) params.append('estado', filtros.estado);\r\n    if (filtros.search) params.append('search', filtros.search);\r\n    if (filtros.page) params.append('page', filtros.page);\r\n    if (filtros.limit) params.append('limit', filtros.limit);\r\n    \r\n    const queryString = params.toString();\r\n    const url = `/api/laboratorio/proyectos${queryString ? `?${queryString}` : ''}`;\r\n    \r\n    const response = await apiFetch(url);\r\n    console.log('‚úÖ getProyectosAsignados - Respuesta recibida:', response);\r\n    return response;\r\n  } catch (error) {\r\n    console.error('‚ùå getProyectosAsignados - Error:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Obtener estad√≠sticas del laboratorio\r\nexport const getEstadisticasLaboratorio = async () => {\r\n  try {\r\n    console.log('üìä getEstadisticasLaboratorio - Llamando a: /api/laboratorio/estadisticas');\r\n    const response = await apiFetch('/api/laboratorio/estadisticas');\r\n    console.log('‚úÖ getEstadisticasLaboratorio - Respuesta recibida:', response);\r\n    return response;\r\n  } catch (error) {\r\n    console.error('‚ùå getEstadisticasLaboratorio - Error:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Actualizar estado de un proyecto\r\nexport const actualizarEstadoProyecto = async (projectId, data) => {\r\n  try {\r\n    console.log('üîÑ actualizarEstadoProyecto - Llamando a: /api/laboratorio/proyectos/' + projectId + '/estado');\r\n    const response = await apiFetch(`/api/laboratorio/proyectos/${projectId}/estado`, {\r\n      method: 'PUT',\r\n      body: JSON.stringify(data)\r\n    });\r\n    console.log('‚úÖ actualizarEstadoProyecto - Respuesta recibida:', response);\r\n    return response;\r\n  } catch (error) {\r\n    console.error('‚ùå actualizarEstadoProyecto - Error:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Subir archivos del laboratorio\r\nexport const subirArchivosLaboratorio = async (projectId, data) => {\r\n  try {\r\n    console.log('üìÅ subirArchivosLaboratorio - Llamando a: /api/laboratorio/proyectos/' + projectId + '/archivos');\r\n    const response = await apiFetch(`/api/laboratorio/proyectos/${projectId}/archivos`, {\r\n      method: 'POST',\r\n      body: JSON.stringify(data)\r\n    });\r\n    console.log('‚úÖ subirArchivosLaboratorio - Respuesta recibida:', response);\r\n    return response;\r\n  } catch (error) {\r\n    console.error('‚ùå subirArchivosLaboratorio - Error:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Obtener archivos de un proyecto\r\nexport const obtenerArchivosProyecto = async (projectId, tipo = '') => {\r\n  try {\r\n    console.log('üìÇ obtenerArchivosProyecto - Llamando a: /api/laboratorio/proyectos/' + projectId + '/archivos');\r\n    const params = new URLSearchParams();\r\n    if (tipo) params.append('tipo', tipo);\r\n    \r\n    const queryString = params.toString();\r\n    const url = `/api/laboratorio/proyectos/${projectId}/archivos${queryString ? `?${queryString}` : ''}`;\r\n    \r\n    const response = await apiFetch(url);\r\n    console.log('‚úÖ obtenerArchivosProyecto - Respuesta recibida:', response);\r\n    return response;\r\n  } catch (error) {\r\n    console.error('‚ùå obtenerArchivosProyecto - Error:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport default {\r\n  getProyectosAsignados,\r\n  getEstadisticasLaboratorio,\r\n  actualizarEstadoProyecto,\r\n  subirArchivosLaboratorio,\r\n  obtenerArchivosProyecto\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useQuery, useMutation, useQueryClient } from 'react-query';\r\nimport { \r\n  getProyectosAsignados, \r\n  getEstadisticasLaboratorio,\r\n  actualizarEstadoProyecto,\r\n  subirArchivosLaboratorio,\r\n  obtenerArchivosProyecto\r\n} from '../services/laboratorio';\r\n\r\nconst Laboratorio = () => {\r\n  const [filtros, setFiltros] = useState({\r\n    estado: '',\r\n    search: '',\r\n    page: 1\r\n  });\r\n  \r\n  const [proyectoSeleccionado, setProyectoSeleccionado] = useState(null);\r\n  const [mostrarModal, setMostrarModal] = useState(false);\r\n  const [archivos, setArchivos] = useState([]);\r\n  const [notas, setNotas] = useState('');\r\n\r\n  const queryClient = useQueryClient();\r\n\r\n  // Obtener proyectos asignados\r\n  const { data: proyectos, isLoading: proyectosLoading, error: proyectosError } = useQuery({\r\n    queryKey: ['laboratorio-proyectos', filtros],\r\n    queryFn: () => getProyectosAsignados(filtros),\r\n    keepPreviousData: true\r\n  });\r\n\r\n  // Obtener estad√≠sticas\r\n  const { data: estadisticas, isLoading: statsLoading } = useQuery({\r\n    queryKey: ['laboratorio-estadisticas'],\r\n    queryFn: getEstadisticasLaboratorio\r\n  });\r\n\r\n  // Obtener archivos del proyecto seleccionado\r\n  const { data: archivosProyecto, isLoading: archivosLoading } = useQuery({\r\n    queryKey: ['laboratorio-archivos', proyectoSeleccionado?.id],\r\n    queryFn: () => obtenerArchivosProyecto(proyectoSeleccionado.id),\r\n    enabled: !!proyectoSeleccionado\r\n  });\r\n\r\n  // Mutaci√≥n para actualizar estado\r\n  const actualizarEstadoMutation = useMutation({\r\n    mutationFn: ({ projectId, estado, notas }) => \r\n      actualizarEstadoProyecto(projectId, { estado, notas_laboratorio: notas }),\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries(['laboratorio-proyectos']);\r\n      queryClient.invalidateQueries(['laboratorio-estadisticas']);\r\n      setMostrarModal(false);\r\n      setProyectoSeleccionado(null);\r\n    }\r\n  });\r\n\r\n  // Mutaci√≥n para subir archivos\r\n  const subirArchivosMutation = useMutation({\r\n    mutationFn: ({ projectId, archivos, notas }) => \r\n      subirArchivosLaboratorio(projectId, { archivos, notas_laboratorio: notas }),\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries(['laboratorio-archivos']);\r\n      setArchivos([]);\r\n      setNotas('');\r\n    }\r\n  });\r\n\r\n  const handleFiltroChange = (campo, valor) => {\r\n    setFiltros(prev => ({\r\n      ...prev,\r\n      [campo]: valor,\r\n      page: campo !== 'page' ? 1 : valor\r\n    }));\r\n  };\r\n\r\n  const handleSeleccionarProyecto = (proyecto) => {\r\n    setProyectoSeleccionado(proyecto);\r\n    setMostrarModal(true);\r\n  };\r\n\r\n  const handleActualizarEstado = (estado) => {\r\n    if (proyectoSeleccionado) {\r\n      actualizarEstadoMutation.mutate({\r\n        projectId: proyectoSeleccionado.id,\r\n        estado,\r\n        notas\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleSubirArchivos = () => {\r\n    if (proyectoSeleccionado && archivos.length > 0) {\r\n      subirArchivosMutation.mutate({\r\n        projectId: proyectoSeleccionado.id,\r\n        archivos,\r\n        notas\r\n      });\r\n    }\r\n  };\r\n\r\n  const getEstadoColor = (estado) => {\r\n    const colores = {\r\n      'en_laboratorio': 'bg-yellow-100 text-yellow-800',\r\n      'completado': 'bg-green-100 text-green-800',\r\n      'cancelado': 'bg-red-100 text-red-800'\r\n    };\r\n    return colores[estado] || 'bg-gray-100 text-gray-800';\r\n  };\r\n\r\n  const getEstadoTexto = (estado) => {\r\n    const textos = {\r\n      'en_laboratorio': 'En Proceso',\r\n      'completado': 'Completado',\r\n      'cancelado': 'Cancelado'\r\n    };\r\n    return textos[estado] || estado;\r\n  };\r\n\r\n  if (proyectosLoading) {\r\n    return (\r\n      <div className=\"flex justify-center items-center h-64\">\r\n        <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (proyectosError) {\r\n    return (\r\n      <div className=\"bg-red-50 border border-red-200 rounded-md p-4\">\r\n        <div className=\"flex\">\r\n          <div className=\"ml-3\">\r\n            <h3 className=\"text-sm font-medium text-red-800\">Error</h3>\r\n            <div className=\"mt-2 text-sm text-red-700\">\r\n              {proyectosError.message}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"bg-white shadow rounded-lg p-6\">\r\n        <h1 className=\"text-2xl font-bold text-gray-900\">Dashboard de Laboratorio</h1>\r\n        <p className=\"text-gray-600\">Gestiona los proyectos asignados al laboratorio</p>\r\n      </div>\r\n\r\n      {/* Estad√≠sticas */}\r\n      {estadisticas && (\r\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\r\n          <div className=\"bg-white overflow-hidden shadow rounded-lg\">\r\n            <div className=\"p-5\">\r\n              <div className=\"flex items-center\">\r\n                <div className=\"flex-shrink-0\">\r\n                  <div className=\"w-8 h-8 bg-blue-500 rounded-md flex items-center justify-center\">\r\n                    <span className=\"text-white font-bold\">T</span>\r\n                  </div>\r\n                </div>\r\n                <div className=\"ml-5 w-0 flex-1\">\r\n                  <dl>\r\n                    <dt className=\"text-sm font-medium text-gray-500 truncate\">Total Proyectos</dt>\r\n                    <dd className=\"text-lg font-medium text-gray-900\">{estadisticas.data.total_proyectos}</dd>\r\n                  </dl>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"bg-white overflow-hidden shadow rounded-lg\">\r\n            <div className=\"p-5\">\r\n              <div className=\"flex items-center\">\r\n                <div className=\"flex-shrink-0\">\r\n                  <div className=\"w-8 h-8 bg-yellow-500 rounded-md flex items-center justify-center\">\r\n                    <span className=\"text-white font-bold\">P</span>\r\n                  </div>\r\n                </div>\r\n                <div className=\"ml-5 w-0 flex-1\">\r\n                  <dl>\r\n                    <dt className=\"text-sm font-medium text-gray-500 truncate\">En Proceso</dt>\r\n                    <dd className=\"text-lg font-medium text-gray-900\">{estadisticas.data.en_proceso}</dd>\r\n                  </dl>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"bg-white overflow-hidden shadow rounded-lg\">\r\n            <div className=\"p-5\">\r\n              <div className=\"flex items-center\">\r\n                <div className=\"flex-shrink-0\">\r\n                  <div className=\"w-8 h-8 bg-green-500 rounded-md flex items-center justify-center\">\r\n                    <span className=\"text-white font-bold\">C</span>\r\n                  </div>\r\n                </div>\r\n                <div className=\"ml-5 w-0 flex-1\">\r\n                  <dl>\r\n                    <dt className=\"text-sm font-medium text-gray-500 truncate\">Completados</dt>\r\n                    <dd className=\"text-lg font-medium text-gray-900\">{estadisticas.data.completados}</dd>\r\n                  </dl>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"bg-white overflow-hidden shadow rounded-lg\">\r\n            <div className=\"p-5\">\r\n              <div className=\"flex items-center\">\r\n                <div className=\"flex-shrink-0\">\r\n                  <div className=\"w-8 h-8 bg-purple-500 rounded-md flex items-center justify-center\">\r\n                    <span className=\"text-white font-bold\">S</span>\r\n                  </div>\r\n                </div>\r\n                <div className=\"ml-5 w-0 flex-1\">\r\n                  <dl>\r\n                    <dt className=\"text-sm font-medium text-gray-500 truncate\">Esta Semana</dt>\r\n                    <dd className=\"text-lg font-medium text-gray-900\">{estadisticas.data.esta_semana}</dd>\r\n                  </dl>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Filtros */}\r\n      <div className=\"bg-white shadow rounded-lg p-6\">\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700\">Estado</label>\r\n            <select\r\n              value={filtros.estado}\r\n              onChange={(e) => handleFiltroChange('estado', e.target.value)}\r\n              className=\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500\"\r\n            >\r\n              <option value=\"\">Todos los estados</option>\r\n              <option value=\"en_laboratorio\">En Proceso</option>\r\n              <option value=\"completado\">Completado</option>\r\n              <option value=\"cancelado\">Cancelado</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700\">Buscar</label>\r\n            <input\r\n              type=\"text\"\r\n              value={filtros.search}\r\n              onChange={(e) => handleFiltroChange('search', e.target.value)}\r\n              placeholder=\"Buscar por proyecto o cliente...\"\r\n              className=\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"flex items-end\">\r\n            <button\r\n              onClick={() => setFiltros({ estado: '', search: '', page: 1 })}\r\n              className=\"w-full bg-gray-500 text-white px-4 py-2 rounded-md hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500\"\r\n            >\r\n              Limpiar Filtros\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Lista de Proyectos */}\r\n      <div className=\"bg-white shadow rounded-lg\">\r\n        <div className=\"px-6 py-4 border-b border-gray-200\">\r\n          <h3 className=\"text-lg font-medium text-gray-900\">Proyectos Asignados</h3>\r\n        </div>\r\n        \r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"min-w-full divide-y divide-gray-200\">\r\n            <thead className=\"bg-gray-50\">\r\n              <tr>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Proyecto\r\n                </th>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Cliente\r\n                </th>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Estado\r\n                </th>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Fecha Env√≠o\r\n                </th>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Acciones\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody className=\"bg-white divide-y divide-gray-200\">\r\n              {proyectos?.data?.map((proyecto) => (\r\n                <tr key={proyecto.id} className=\"hover:bg-gray-50\">\r\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                    <div>\r\n                      <div className=\"text-sm font-medium text-gray-900\">{proyecto.proyecto_nombre}</div>\r\n                      <div className=\"text-sm text-gray-500\">{proyecto.description}</div>\r\n                    </div>\r\n                  </td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                    <div>\r\n                      <div className=\"text-sm font-medium text-gray-900\">{proyecto.cliente_nombre}</div>\r\n                      <div className=\"text-sm text-gray-500\">{proyecto.cliente_email}</div>\r\n                    </div>\r\n                  </td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                    <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${getEstadoColor(proyecto.estado)}`}>\r\n                      {getEstadoTexto(proyecto.estado)}\r\n                    </span>\r\n                  </td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                    {proyecto.fecha_envio_laboratorio ? \r\n                      new Date(proyecto.fecha_envio_laboratorio).toLocaleDateString() : \r\n                      'N/A'\r\n                    }\r\n                  </td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n                    <button\r\n                      onClick={() => handleSeleccionarProyecto(proyecto)}\r\n                      className=\"text-blue-600 hover:text-blue-900 mr-3\"\r\n                    >\r\n                      Ver Detalles\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n\r\n        {/* Paginaci√≥n */}\r\n        {proyectos?.pagination && (\r\n          <div className=\"px-6 py-3 border-t border-gray-200\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div className=\"text-sm text-gray-700\">\r\n                Mostrando {((proyectos.pagination.page - 1) * proyectos.pagination.limit) + 1} a{' '}\r\n                {Math.min(proyectos.pagination.page * proyectos.pagination.limit, proyectos.pagination.total)} de{' '}\r\n                {proyectos.pagination.total} resultados\r\n              </div>\r\n              <div className=\"flex space-x-2\">\r\n                <button\r\n                  onClick={() => handleFiltroChange('page', filtros.page - 1)}\r\n                  disabled={filtros.page <= 1}\r\n                  className=\"px-3 py-1 border border-gray-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                >\r\n                  Anterior\r\n                </button>\r\n                <button\r\n                  onClick={() => handleFiltroChange('page', filtros.page + 1)}\r\n                  disabled={filtros.page >= proyectos.pagination.pages}\r\n                  className=\"px-3 py-1 border border-gray-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                >\r\n                  Siguiente\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Modal de Detalles */}\r\n      {mostrarModal && proyectoSeleccionado && (\r\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\r\n          <div className=\"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white\">\r\n            <div className=\"mt-3\">\r\n              <div className=\"flex items-center justify-between mb-4\">\r\n                <h3 className=\"text-lg font-medium text-gray-900\">\r\n                  {proyectoSeleccionado.proyecto_nombre}\r\n                </h3>\r\n                <button\r\n                  onClick={() => setMostrarModal(false)}\r\n                  className=\"text-gray-400 hover:text-gray-600\"\r\n                >\r\n                  <span className=\"sr-only\">Cerrar</span>\r\n                  <svg className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                  </svg>\r\n                </button>\r\n              </div>\r\n\r\n              <div className=\"space-y-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700\">Cliente</label>\r\n                  <p className=\"mt-1 text-sm text-gray-900\">{proyectoSeleccionado.cliente_nombre}</p>\r\n                  <p className=\"text-sm text-gray-500\">{proyectoSeleccionado.cliente_email}</p>\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700\">Estado Actual</label>\r\n                  <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${getEstadoColor(proyectoSeleccionado.estado)}`}>\r\n                    {getEstadoTexto(proyectoSeleccionado.estado)}\r\n                  </span>\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700\">Notas del Vendedor</label>\r\n                  <p className=\"mt-1 text-sm text-gray-900\">{proyectoSeleccionado.notas_vendedor || 'Sin notas'}</p>\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700\">Notas del Laboratorio</label>\r\n                  <textarea\r\n                    value={notas}\r\n                    onChange={(e) => setNotas(e.target.value)}\r\n                    rows={3}\r\n                    className=\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500\"\r\n                    placeholder=\"Agregar notas sobre el trabajo realizado...\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"flex space-x-3\">\r\n                  <button\r\n                    onClick={() => handleActualizarEstado('en_laboratorio')}\r\n                    disabled={actualizarEstadoMutation.isPending}\r\n                    className=\"flex-1 bg-yellow-600 text-white px-4 py-2 rounded-md hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-yellow-500 disabled:opacity-50\"\r\n                  >\r\n                    {actualizarEstadoMutation.isPending ? 'Actualizando...' : 'Marcar En Proceso'}\r\n                  </button>\r\n                  \r\n                  <button\r\n                    onClick={() => handleActualizarEstado('completado')}\r\n                    disabled={actualizarEstadoMutation.isPending}\r\n                    className=\"flex-1 bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 disabled:opacity-50\"\r\n                  >\r\n                    {actualizarEstadoMutation.isPending ? 'Completando...' : 'Marcar Completado'}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Laboratorio;\r\n"],"names":["getProyectosAsignados","filtros","params","queryString","url","response","apiFetch","error","getEstadisticasLaboratorio","actualizarEstadoProyecto","projectId","data","subirArchivosLaboratorio","obtenerArchivosProyecto","tipo","Laboratorio","setFiltros","useState","proyectoSeleccionado","setProyectoSeleccionado","mostrarModal","setMostrarModal","archivos","setArchivos","notas","setNotas","queryClient","useQueryClient","proyectos","proyectosLoading","proyectosError","useQuery","estadisticas","statsLoading","archivosProyecto","archivosLoading","actualizarEstadoMutation","useMutation","estado","handleFiltroChange","campo","valor","prev","handleSeleccionarProyecto","proyecto","handleActualizarEstado","getEstadoColor","getEstadoTexto","jsx","jsxs","e","_a"],"mappings":"2EAGO,MAAMA,EAAwB,MAAOC,EAAU,KAAO,CAC3D,GAAI,CACF,QAAQ,IAAI,mEAAmE,EAC/E,MAAMC,EAAS,IAAI,gBAEfD,EAAQ,QAAQC,EAAO,OAAO,SAAUD,EAAQ,MAAM,EACtDA,EAAQ,QAAQC,EAAO,OAAO,SAAUD,EAAQ,MAAM,EACtDA,EAAQ,MAAMC,EAAO,OAAO,OAAQD,EAAQ,IAAI,EAChDA,EAAQ,OAAOC,EAAO,OAAO,QAASD,EAAQ,KAAK,EAEvD,MAAME,EAAcD,EAAO,WACrBE,EAAM,6BAA6BD,EAAc,IAAIA,CAAW,GAAK,EAAE,GAEvEE,EAAW,MAAMC,EAASF,CAAG,EACnC,eAAQ,IAAI,gDAAiDC,CAAQ,EAC9DA,CACT,OAASE,EAAO,CACd,cAAQ,MAAM,mCAAoCA,CAAK,EACjDA,CACR,CACF,EAGaC,EAA6B,SAAY,CACpD,GAAI,CACF,QAAQ,IAAI,2EAA2E,EACvF,MAAMH,EAAW,MAAMC,EAAS,+BAA+B,EAC/D,eAAQ,IAAI,qDAAsDD,CAAQ,EACnEA,CACT,OAASE,EAAO,CACd,cAAQ,MAAM,wCAAyCA,CAAK,EACtDA,CACR,CACF,EAGaE,EAA2B,MAAOC,EAAWC,IAAS,CACjE,GAAI,CACF,QAAQ,IAAI,wEAA0ED,EAAY,SAAS,EAC3G,MAAML,EAAW,MAAMC,EAAS,8BAA8BI,CAAS,UAAW,CAChF,OAAQ,MACR,KAAM,KAAK,UAAUC,CAAI,CAC/B,CAAK,EACD,eAAQ,IAAI,mDAAoDN,CAAQ,EACjEA,CACT,OAASE,EAAO,CACd,cAAQ,MAAM,sCAAuCA,CAAK,EACpDA,CACR,CACF,EAGaK,EAA2B,MAAOF,EAAWC,IAAS,CACjE,GAAI,CACF,QAAQ,IAAI,wEAA0ED,EAAY,WAAW,EAC7G,MAAML,EAAW,MAAMC,EAAS,8BAA8BI,CAAS,YAAa,CAClF,OAAQ,OACR,KAAM,KAAK,UAAUC,CAAI,CAC/B,CAAK,EACD,eAAQ,IAAI,mDAAoDN,CAAQ,EACjEA,CACT,OAASE,EAAO,CACd,cAAQ,MAAM,sCAAuCA,CAAK,EACpDA,CACR,CACF,EAGaM,EAA0B,MAAOH,EAAWI,EAAO,KAAO,CACrE,GAAI,CACF,QAAQ,IAAI,uEAAyEJ,EAAY,WAAW,EAC5G,MAAMR,EAAS,IAAI,gBACfY,GAAMZ,EAAO,OAAO,OAAQY,CAAI,EAEpC,MAAMX,EAAcD,EAAO,WACrBE,EAAM,8BAA8BM,CAAS,YAAYP,EAAc,IAAIA,CAAW,GAAK,EAAE,GAE7FE,EAAW,MAAMC,EAASF,CAAG,EACnC,eAAQ,IAAI,kDAAmDC,CAAQ,EAChEA,CACT,OAASE,EAAO,CACd,cAAQ,MAAM,qCAAsCA,CAAK,EACnDA,CACR,CACF,EC7EMQ,EAAc,IAAM,OACxB,KAAM,CAACd,EAASe,CAAU,EAAIC,WAAS,CACrC,OAAQ,GACR,OAAQ,GACR,KAAM,CAAA,CACP,EAEK,CAACC,EAAsBC,CAAuB,EAAIF,EAAAA,SAAS,IAAI,EAC/D,CAACG,EAAcC,CAAe,EAAIJ,EAAAA,SAAS,EAAK,EAChD,CAACK,EAAUC,CAAW,EAAIN,EAAAA,SAAS,CAAA,CAAE,EACrC,CAACO,EAAOC,CAAQ,EAAIR,EAAAA,SAAS,EAAE,EAE/BS,EAAcC,EAAA,EAGd,CAAE,KAAMC,EAAW,UAAWC,EAAkB,MAAOC,CAAA,EAAmBC,EAAS,CACvF,SAAU,CAAC,wBAAyB9B,CAAO,EAC3C,QAAS,IAAMD,EAAsBC,CAAO,EAC5C,iBAAkB,EAAA,CACnB,EAGK,CAAE,KAAM+B,EAAc,UAAWC,CAAA,EAAiBF,EAAS,CAC/D,SAAU,CAAC,0BAA0B,EACrC,QAASvB,CAAA,CACV,EAGK,CAAE,KAAM0B,EAAkB,UAAWC,CAAA,EAAoBJ,EAAS,CACtE,SAAU,CAAC,uBAAwBb,GAAA,YAAAA,EAAsB,EAAE,EAC3D,QAAS,IAAML,EAAwBK,EAAqB,EAAE,EAC9D,QAAS,CAAC,CAACA,CAAA,CACZ,EAGKkB,EAA2BC,EAAY,CAC3C,WAAY,CAAC,CAAE,UAAA3B,EAAW,OAAA4B,EAAQ,MAAAd,CAAAA,IAChCf,EAAyBC,EAAW,CAAE,OAAA4B,EAAQ,kBAAmBd,EAAO,EAC1E,UAAW,IAAM,CACfE,EAAY,kBAAkB,CAAC,uBAAuB,CAAC,EACvDA,EAAY,kBAAkB,CAAC,0BAA0B,CAAC,EAC1DL,EAAgB,EAAK,EACrBF,EAAwB,IAAI,CAC9B,CAAA,CACD,EAG6BkB,EAAY,CACxC,WAAY,CAAC,CAAE,UAAA3B,EAAW,SAAAY,EAAU,MAAAE,CAAAA,IAClCZ,EAAyBF,EAAW,CAAE,SAAAY,EAAU,kBAAmBE,EAAO,EAC5E,UAAW,IAAM,CACfE,EAAY,kBAAkB,CAAC,sBAAsB,CAAC,EACtDH,EAAY,CAAA,CAAE,EACdE,EAAS,EAAE,CACb,CAAA,CACD,EAED,MAAMc,EAAqB,CAACC,EAAOC,IAAU,CAC3CzB,EAAW0B,IAAS,CAClB,GAAGA,EACH,CAACF,CAAK,EAAGC,EACT,KAAMD,IAAU,OAAS,EAAIC,CAAA,EAC7B,CACJ,EAEME,EAA6BC,GAAa,CAC9CzB,EAAwByB,CAAQ,EAChCvB,EAAgB,EAAI,CACtB,EAEMwB,EAA0BP,GAAW,CACrCpB,GACFkB,EAAyB,OAAO,CAC9B,UAAWlB,EAAqB,GAChC,OAAAoB,EACA,MAAAd,CAAA,CACD,CAEL,EAYMsB,EAAkBR,IACN,CACd,eAAkB,gCAClB,WAAc,8BACd,UAAa,yBAAA,GAEAA,CAAM,GAAK,4BAGtBS,EAAkBT,IACP,CACb,eAAkB,aAClB,WAAc,aACd,UAAa,WAAA,GAEDA,CAAM,GAAKA,EAG3B,OAAIT,EAEAmB,MAAC,OAAI,UAAU,wCACb,eAAC,MAAA,CAAI,UAAU,iEAAiE,CAAA,CAClF,EAIAlB,EAEAkB,EAAAA,IAAC,MAAA,CAAI,UAAU,iDACb,SAAAA,EAAAA,IAAC,MAAA,CAAI,UAAU,OACb,SAAAC,EAAAA,KAAC,MAAA,CAAI,UAAU,OACb,SAAA,CAAAD,EAAAA,IAAC,KAAA,CAAG,UAAU,mCAAmC,SAAA,QAAK,EACtDA,EAAAA,IAAC,MAAA,CAAI,UAAU,4BACZ,WAAe,OAAA,CAClB,CAAA,CAAA,CACF,EACF,EACF,EAKFC,EAAAA,KAAC,MAAA,CAAI,UAAU,YAEb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,iCACb,SAAA,CAAAD,EAAAA,IAAC,KAAA,CAAG,UAAU,mCAAmC,SAAA,2BAAwB,EACzEA,EAAAA,IAAC,IAAA,CAAE,UAAU,gBAAgB,SAAA,iDAAA,CAA+C,CAAA,EAC9E,EAGChB,GACCiB,EAAAA,KAAC,MAAA,CAAI,UAAU,wCACb,SAAA,CAAAD,EAAAA,IAAC,MAAA,CAAI,UAAU,6CACb,SAAAA,EAAAA,IAAC,MAAA,CAAI,UAAU,MACb,SAAAC,OAAC,MAAA,CAAI,UAAU,oBACb,SAAA,CAAAD,MAAC,MAAA,CAAI,UAAU,gBACb,SAAAA,EAAAA,IAAC,MAAA,CAAI,UAAU,kEACb,SAAAA,EAAAA,IAAC,OAAA,CAAK,UAAU,uBAAuB,SAAA,GAAA,CAAC,EAC1C,EACF,EACAA,MAAC,MAAA,CAAI,UAAU,kBACb,gBAAC,KAAA,CACC,SAAA,CAAAA,EAAAA,IAAC,KAAA,CAAG,UAAU,6CAA6C,SAAA,kBAAe,QACzE,KAAA,CAAG,UAAU,oCAAqC,SAAAhB,EAAa,KAAK,eAAA,CAAgB,CAAA,CAAA,CACvF,CAAA,CACF,CAAA,CAAA,CACF,EACF,EACF,EAEAgB,EAAAA,IAAC,MAAA,CAAI,UAAU,6CACb,SAAAA,EAAAA,IAAC,MAAA,CAAI,UAAU,MACb,SAAAC,OAAC,MAAA,CAAI,UAAU,oBACb,SAAA,CAAAD,MAAC,MAAA,CAAI,UAAU,gBACb,SAAAA,EAAAA,IAAC,MAAA,CAAI,UAAU,oEACb,SAAAA,EAAAA,IAAC,OAAA,CAAK,UAAU,uBAAuB,SAAA,GAAA,CAAC,EAC1C,EACF,EACAA,MAAC,MAAA,CAAI,UAAU,kBACb,gBAAC,KAAA,CACC,SAAA,CAAAA,EAAAA,IAAC,KAAA,CAAG,UAAU,6CAA6C,SAAA,aAAU,QACpE,KAAA,CAAG,UAAU,oCAAqC,SAAAhB,EAAa,KAAK,UAAA,CAAW,CAAA,CAAA,CAClF,CAAA,CACF,CAAA,CAAA,CACF,EACF,EACF,EAEAgB,EAAAA,IAAC,MAAA,CAAI,UAAU,6CACb,SAAAA,EAAAA,IAAC,MAAA,CAAI,UAAU,MACb,SAAAC,OAAC,MAAA,CAAI,UAAU,oBACb,SAAA,CAAAD,MAAC,MAAA,CAAI,UAAU,gBACb,SAAAA,EAAAA,IAAC,MAAA,CAAI,UAAU,mEACb,SAAAA,EAAAA,IAAC,OAAA,CAAK,UAAU,uBAAuB,SAAA,GAAA,CAAC,EAC1C,EACF,EACAA,MAAC,MAAA,CAAI,UAAU,kBACb,gBAAC,KAAA,CACC,SAAA,CAAAA,EAAAA,IAAC,KAAA,CAAG,UAAU,6CAA6C,SAAA,cAAW,QACrE,KAAA,CAAG,UAAU,oCAAqC,SAAAhB,EAAa,KAAK,WAAA,CAAY,CAAA,CAAA,CACnF,CAAA,CACF,CAAA,CAAA,CACF,EACF,EACF,EAEAgB,EAAAA,IAAC,MAAA,CAAI,UAAU,6CACb,SAAAA,EAAAA,IAAC,MAAA,CAAI,UAAU,MACb,SAAAC,OAAC,MAAA,CAAI,UAAU,oBACb,SAAA,CAAAD,MAAC,MAAA,CAAI,UAAU,gBACb,SAAAA,EAAAA,IAAC,MAAA,CAAI,UAAU,oEACb,SAAAA,EAAAA,IAAC,OAAA,CAAK,UAAU,uBAAuB,SAAA,GAAA,CAAC,EAC1C,EACF,EACAA,MAAC,MAAA,CAAI,UAAU,kBACb,gBAAC,KAAA,CACC,SAAA,CAAAA,EAAAA,IAAC,KAAA,CAAG,UAAU,6CAA6C,SAAA,cAAW,QACrE,KAAA,CAAG,UAAU,oCAAqC,SAAAhB,EAAa,KAAK,WAAA,CAAY,CAAA,CAAA,CACnF,CAAA,CACF,CAAA,CAAA,CACF,EACF,CAAA,CACF,CAAA,EACF,QAID,MAAA,CAAI,UAAU,iCACb,SAAAiB,EAAAA,KAAC,MAAA,CAAI,UAAU,wCACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAD,EAAAA,IAAC,QAAA,CAAM,UAAU,0CAA0C,SAAA,SAAM,EACjEC,EAAAA,KAAC,SAAA,CACC,MAAOhD,EAAQ,OACf,SAAWiD,GAAMX,EAAmB,SAAUW,EAAE,OAAO,KAAK,EAC5D,UAAU,mGAEV,SAAA,CAAAF,EAAAA,IAAC,SAAA,CAAO,MAAM,GAAG,SAAA,oBAAiB,EAClCA,EAAAA,IAAC,SAAA,CAAO,MAAM,iBAAiB,SAAA,aAAU,EACzCA,EAAAA,IAAC,SAAA,CAAO,MAAM,aAAa,SAAA,aAAU,EACrCA,EAAAA,IAAC,SAAA,CAAO,MAAM,YAAY,SAAA,WAAA,CAAS,CAAA,CAAA,CAAA,CACrC,EACF,SAEC,MAAA,CACC,SAAA,CAAAA,EAAAA,IAAC,QAAA,CAAM,UAAU,0CAA0C,SAAA,SAAM,EACjEA,EAAAA,IAAC,QAAA,CACC,KAAK,OACL,MAAO/C,EAAQ,OACf,SAAWiD,GAAMX,EAAmB,SAAUW,EAAE,OAAO,KAAK,EAC5D,YAAY,mCACZ,UAAU,kGAAA,CAAA,CACZ,EACF,EAEAF,EAAAA,IAAC,MAAA,CAAI,UAAU,iBACb,SAAAA,EAAAA,IAAC,SAAA,CACC,QAAS,IAAMhC,EAAW,CAAE,OAAQ,GAAI,OAAQ,GAAI,KAAM,EAAG,EAC7D,UAAU,2HACX,SAAA,iBAAA,CAAA,CAED,CACF,CAAA,CAAA,CACF,CAAA,CACF,EAGAiC,EAAAA,KAAC,MAAA,CAAI,UAAU,6BACb,SAAA,CAAAD,EAAAA,IAAC,MAAA,CAAI,UAAU,qCACb,SAAAA,EAAAA,IAAC,MAAG,UAAU,oCAAoC,+BAAmB,CAAA,CACvE,QAEC,MAAA,CAAI,UAAU,kBACb,SAAAC,EAAAA,KAAC,QAAA,CAAM,UAAU,sCACf,SAAA,CAAAD,MAAC,QAAA,CAAM,UAAU,aACf,SAAAC,EAAAA,KAAC,KAAA,CACC,SAAA,CAAAD,EAAAA,IAAC,KAAA,CAAG,UAAU,iFAAiF,SAAA,WAE/F,EACAA,EAAAA,IAAC,KAAA,CAAG,UAAU,iFAAiF,SAAA,UAE/F,EACAA,EAAAA,IAAC,KAAA,CAAG,UAAU,iFAAiF,SAAA,SAE/F,EACAA,EAAAA,IAAC,KAAA,CAAG,UAAU,iFAAiF,SAAA,cAE/F,EACAA,EAAAA,IAAC,KAAA,CAAG,UAAU,iFAAiF,SAAA,UAAA,CAE/F,CAAA,CAAA,CACF,CAAA,CACF,EACAA,EAAAA,IAAC,QAAA,CAAM,UAAU,oCACd,UAAAG,EAAAvB,GAAA,YAAAA,EAAW,OAAX,YAAAuB,EAAiB,IAAKP,GACrBK,EAAAA,KAAC,KAAA,CAAqB,UAAU,mBAC9B,SAAA,CAAAD,MAAC,KAAA,CAAG,UAAU,8BACZ,SAAAC,EAAAA,KAAC,MAAA,CACC,SAAA,CAAAD,EAAAA,IAAC,MAAA,CAAI,UAAU,oCAAqC,SAAAJ,EAAS,gBAAgB,EAC7EI,EAAAA,IAAC,MAAA,CAAI,UAAU,wBAAyB,WAAS,WAAA,CAAY,CAAA,CAAA,CAC/D,CAAA,CACF,EACAA,MAAC,KAAA,CAAG,UAAU,8BACZ,gBAAC,MAAA,CACC,SAAA,CAAAA,EAAAA,IAAC,MAAA,CAAI,UAAU,oCAAqC,SAAAJ,EAAS,eAAe,EAC5EI,EAAAA,IAAC,MAAA,CAAI,UAAU,wBAAyB,WAAS,aAAA,CAAc,CAAA,CAAA,CACjE,CAAA,CACF,QACC,KAAA,CAAG,UAAU,8BACZ,SAAAA,MAAC,QAAK,UAAW,4DAA4DF,EAAeF,EAAS,MAAM,CAAC,GACzG,WAAeA,EAAS,MAAM,EACjC,EACF,EACAI,EAAAA,IAAC,KAAA,CAAG,UAAU,oDACX,SAAAJ,EAAS,wBACR,IAAI,KAAKA,EAAS,uBAAuB,EAAE,mBAAA,EAC3C,KAAA,CAEJ,EACAI,EAAAA,IAAC,KAAA,CAAG,UAAU,kDACZ,SAAAA,EAAAA,IAAC,SAAA,CACC,QAAS,IAAML,EAA0BC,CAAQ,EACjD,UAAU,yCACX,SAAA,cAAA,CAAA,CAED,CACF,CAAA,GA/BOA,EAAS,EAgClB,EACD,CACH,CAAA,CAAA,CACF,CAAA,CACF,GAGChB,GAAA,YAAAA,EAAW,aACVoB,EAAAA,IAAC,MAAA,CAAI,UAAU,qCACb,SAAAC,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,wBAAwB,SAAA,CAAA,cACxBrB,EAAU,WAAW,KAAO,GAAKA,EAAU,WAAW,MAAS,EAAE,KAAG,IAChF,KAAK,IAAIA,EAAU,WAAW,KAAOA,EAAU,WAAW,MAAOA,EAAU,WAAW,KAAK,EAAE,MAAI,IACjGA,EAAU,WAAW,MAAM,aAAA,EAC9B,EACAqB,EAAAA,KAAC,MAAA,CAAI,UAAU,iBACb,SAAA,CAAAD,EAAAA,IAAC,SAAA,CACC,QAAS,IAAMT,EAAmB,OAAQtC,EAAQ,KAAO,CAAC,EAC1D,SAAUA,EAAQ,MAAQ,EAC1B,UAAU,sGACX,SAAA,UAAA,CAAA,EAGD+C,EAAAA,IAAC,SAAA,CACC,QAAS,IAAMT,EAAmB,OAAQtC,EAAQ,KAAO,CAAC,EAC1D,SAAUA,EAAQ,MAAQ2B,EAAU,WAAW,MAC/C,UAAU,sGACX,SAAA,WAAA,CAAA,CAED,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CACF,CAAA,EAEJ,EAGCR,GAAgBF,GACf8B,EAAAA,IAAC,MAAA,CAAI,UAAU,6EACb,SAAAA,MAAC,MAAA,CAAI,UAAU,6FACb,SAAAC,EAAAA,KAAC,MAAA,CAAI,UAAU,OACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAD,EAAAA,IAAC,KAAA,CAAG,UAAU,oCACX,SAAA9B,EAAqB,gBACxB,EACA+B,EAAAA,KAAC,SAAA,CACC,QAAS,IAAM5B,EAAgB,EAAK,EACpC,UAAU,oCAEV,SAAA,CAAA2B,EAAAA,IAAC,OAAA,CAAK,UAAU,UAAU,SAAA,SAAM,EAChCA,EAAAA,IAAC,OAAI,UAAU,UAAU,KAAK,OAAO,QAAQ,YAAY,OAAO,eAC9D,eAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,uBAAuB,CAAA,CAC9F,CAAA,CAAA,CAAA,CACF,EACF,EAEAC,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAD,EAAAA,IAAC,QAAA,CAAM,UAAU,0CAA0C,SAAA,UAAO,EAClEA,EAAAA,IAAC,IAAA,CAAE,UAAU,6BAA8B,WAAqB,eAAe,EAC/EA,EAAAA,IAAC,IAAA,CAAE,UAAU,wBAAyB,WAAqB,aAAA,CAAc,CAAA,EAC3E,SAEC,MAAA,CACC,SAAA,CAAAA,EAAAA,IAAC,QAAA,CAAM,UAAU,0CAA0C,SAAA,gBAAa,EACxEA,EAAAA,IAAC,OAAA,CAAK,UAAW,4DAA4DF,EAAe5B,EAAqB,MAAM,CAAC,GACrH,SAAA6B,EAAe7B,EAAqB,MAAM,CAAA,CAC7C,CAAA,EACF,SAEC,MAAA,CACC,SAAA,CAAA8B,EAAAA,IAAC,QAAA,CAAM,UAAU,0CAA0C,SAAA,qBAAkB,QAC5E,IAAA,CAAE,UAAU,6BAA8B,SAAA9B,EAAqB,gBAAkB,WAAA,CAAY,CAAA,EAChG,SAEC,MAAA,CACC,SAAA,CAAA8B,EAAAA,IAAC,QAAA,CAAM,UAAU,0CAA0C,SAAA,wBAAqB,EAChFA,EAAAA,IAAC,WAAA,CACC,MAAOxB,EACP,SAAW0B,GAAMzB,EAASyB,EAAE,OAAO,KAAK,EACxC,KAAM,EACN,UAAU,mGACV,YAAY,6CAAA,CAAA,CACd,EACF,EAEAD,EAAAA,KAAC,MAAA,CAAI,UAAU,iBACb,SAAA,CAAAD,EAAAA,IAAC,SAAA,CACC,QAAS,IAAMH,EAAuB,gBAAgB,EACtD,SAAUT,EAAyB,UACnC,UAAU,qJAET,SAAAA,EAAyB,UAAY,kBAAoB,mBAAA,CAAA,EAG5DY,EAAAA,IAAC,SAAA,CACC,QAAS,IAAMH,EAAuB,YAAY,EAClD,SAAUT,EAAyB,UACnC,UAAU,kJAET,SAAAA,EAAyB,UAAY,iBAAmB,mBAAA,CAAA,CAC3D,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CACF,EACF,CAAA,CACF,CAAA,EAEJ,CAEJ"}