{"type":"operationStart","subtype":"profile","data":{"_id":"E0e7OHvdzlwJjp1E","timestamp":"2025-10-11T15:22:24.678Z","state":"queued","mode":"standard","creationDate":"2025-10-11T15:22:24.679Z","modificationDate":"2025-10-11T15:22:24.679Z","shortid":"HVptV8c","$entitySet":"profiles"},"doDiffs":false,"timestamp":1760196144678,"id":"gbc5gqqfzrx87yz","previousOperationId":null,"operationId":"riszksja2xgo08l"}
{"type":"log","level":"info","message":"Render request 51 queued for execution and waiting for available worker","previousOperationId":"riszksja2xgo08l","timestamp":1760196144678,"id":"d75pqgyc5n1i08m"}
{"type":"operationStart","subtype":"render","name":"cotizacion","previousOperationId":"riszksja2xgo08l","timestamp":1760196144684,"id":"xkkmn0duc1omgy8","previousEventId":"gbc5gqqfzrx87yz","operationId":"fbsw1vq93yian48"}
{"type":"log","timestamp":1760196144684,"level":"info","message":"Starting rendering request 51","meta":{"rootId":"p7wg26pvjo01yv2","id":"p7wg26pvjo01yv2"},"id":"29mk5r2n46jm3z8","previousOperationId":"fbsw1vq93yian48"}
{"type":"log","timestamp":1760196144684,"level":"info","message":"Rendering template { name: cotizacion, recipe: chrome-pdf, engine: handlebars, preview: false }","meta":{"rootId":"p7wg26pvjo01yv2","id":"p7wg26pvjo01yv2"},"id":"6ko915fjjerdjsg","previousOperationId":"fbsw1vq93yian48"}
{"type":"log","timestamp":1760196144684,"level":"debug","message":"Inline data specified.","meta":{"rootId":"p7wg26pvjo01yv2","id":"p7wg26pvjo01yv2"},"id":"3zddmiwpnqpe7gw","previousOperationId":"fbsw1vq93yian48"}
{"type":"log","timestamp":1760196144685,"level":"debug","message":"Base url not specified, skipping its injection.","meta":{"rootId":"p7wg26pvjo01yv2","id":"p7wg26pvjo01yv2"},"id":"4qwbxlb8miztjw1","previousOperationId":"fbsw1vq93yian48"}
{"type":"operationStart","subtype":"engine","name":"handlebars","timestamp":1760196144685,"id":"kom7k5p833g3p3g","previousEventId":"xkkmn0duc1omgy8","operationId":"n1imw326sw25512","previousOperationId":"fbsw1vq93yian48"}
{"type":"log","timestamp":1760196144685,"level":"debug","message":"Rendering engine handlebars","meta":{"rootId":"p7wg26pvjo01yv2","id":"p7wg26pvjo01yv2"},"id":"dy848xwxs16ipfa","previousOperationId":"n1imw326sw25512"}
{"type":"log","timestamp":1760196144690,"level":"warn","message":"Error when processing render request 51\n(because) error when evaluating engine handlebars for template /cotizacion\n(because) unexpected token ':'\nSyntaxError: Unexpected token ':'\n  at Object.eval (eval at makeEvaluate (C:\\Users\\Lenovo\\Documents\\crmgeofal\\servidor_reportes\\node_modules\\@jsreport\\ses\\index.js:8504:27), <anonymous>:12:36)\n  at safeEvaluate (C:\\Users\\Lenovo\\Documents\\crmgeofal\\servidor_reportes\\node_modules\\@jsreport\\ses\\index.js:8605:14)\n  at compartmentEvaluate (C:\\Users\\Lenovo\\Documents\\crmgeofal\\servidor_reportes\\node_modules\\@jsreport\\ses\\index.js:11351:10)\n  at Compartment.evaluate (C:\\Users\\Lenovo\\Documents\\crmgeofal\\servidor_reportes\\node_modules\\@jsreport\\ses\\index.js:12177:12)\n  at run (C:\\Users\\Lenovo\\Documents\\crmgeofal\\servidor_reportes\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\createSandbox.js:132:36)\n  at WorkerReporter.runInSandbox [as _runInSandbox] (C:\\Users\\Lenovo\\Documents\\crmgeofal\\servidor_reportes\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\runInSandbox.js:214:20)\n  at async executeEngine (C:\\Users\\Lenovo\\Documents\\crmgeofal\\servidor_reportes\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:354:16)\n  at async engine.engine (C:\\Users\\Lenovo\\Documents\\crmgeofal\\servidor_reportes\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:162:14)\n  at async invokeRender (C:\\Users\\Lenovo\\Documents\\crmgeofal\\servidor_reportes\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:61:23)\n  at async WorkerReporter._render (C:\\Users\\Lenovo\\Documents\\crmgeofal\\servidor_reportes\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:148:7)\n  at async C:\\Users\\Lenovo\\Documents\\crmgeofal\\servidor_reportes\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\reporter.js:233:24\n  at async processAndResponse (C:\\Users\\Lenovo\\Documents\\crmgeofal\\servidor_reportes\\node_modules\\@jsreport\\advanced-workers\\lib\\workerHandler.js:42:17)\nwrapped by:\nError: Error when evaluating engine handlebars for template /cotizacion\n(because) unexpected token ':'\n  at module.exports (C:\\Users\\Lenovo\\Documents\\crmgeofal\\servidor_reportes\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\createError.js:10:13)\n  at WorkerReporter.createError (C:\\Users\\Lenovo\\Documents\\crmgeofal\\servidor_reportes\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\reporter.js:53:12)\n  at executeEngine (C:\\Users\\Lenovo\\Documents\\crmgeofal\\servidor_reportes\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:377:35)\n  at async engine.engine (C:\\Users\\Lenovo\\Documents\\crmgeofal\\servidor_reportes\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:162:14)\n  at async invokeRender (C:\\Users\\Lenovo\\Documents\\crmgeofal\\servidor_reportes\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:61:23)\n  at async WorkerReporter._render (C:\\Users\\Lenovo\\Documents\\crmgeofal\\servidor_reportes\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:148:7)\n  at async C:\\Users\\Lenovo\\Documents\\crmgeofal\\servidor_reportes\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\reporter.js:233:24\n  at async processAndResponse (C:\\Users\\Lenovo\\Documents\\crmgeofal\\servidor_reportes\\node_modules\\@jsreport\\advanced-workers\\lib\\workerHandler.js:42:17)","meta":{"rootId":"p7wg26pvjo01yv2","id":"p7wg26pvjo01yv2"},"id":"k4uyy42i6awex2t","previousOperationId":"n1imw326sw25512"}
{"type":"log","timestamp":1760196144690,"level":"warn","message":"Rendering request 51 finished with error in 12 ms","meta":{"rootId":"p7wg26pvjo01yv2","id":"p7wg26pvjo01yv2"},"id":"2fjhahs8sjv0h16","previousOperationId":"n1imw326sw25512"}
{"type":"error","timestamp":1760196144691,"entity":{"shortid":"xX2vvMuYm","name":"cotizacion","content":"<html>\r\n<head>\r\n    <meta charset=\"utf8\" />\r\n    <style>\r\n        body { font-family: Arial, sans-serif; font-size: 10px; color: #333; }\r\n        .page { padding: 2cm 1.5cm; }\r\n        .header-table { width: 100%; border-bottom: 2px solid #005a9c; margin-bottom: 20px; }\r\n        .header-table .logo { font-size: 24px; font-weight: bold; color: #005a9c; }\r\n        .header-table .company-info { text-align: right; font-size: 11px; }\r\n        .quote-title-box { border: 1px solid #ccc; padding: 8px; text-align: center; margin-bottom: 20px; }\r\n        .quote-title-box h2 { margin: 0; font-size: 16px; }\r\n        .info-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; font-size: 11px; margin-bottom: 20px; border: 1px solid #eee; padding: 10px; }\r\n        .info-grid div { line-height: 1.6; }\r\n        .info-grid strong { display: inline-block; width: 120px; color: #555; }\r\n        .items-table { width: 100%; border-collapse: collapse; margin-top: 15px; }\r\n        .items-table th, .items-table td { border: 1px solid #ccc; padding: 8px; text-align: left; }\r\n        .items-table th { background-color: #f2f2f2; font-weight: bold; }\r\n        .text-center { text-align: center; }\r\n        .text-right { text-align: right; }\r\n        .totals-section { width: 35%; margin-left: auto; margin-top: 20px; }\r\n        .totals-table { width: 100%; }\r\n        .totals-table td { padding: 5px; }\r\n    </style>\r\n</head>\r\n<body>\r\n    <div class=\"page\">\r\n        <table class=\"header-table\">\r\n            <tr>\r\n                <td class=\"logo\">Geofal</td>\r\n                <td class=\"company-info\">Ingeniería y laboratorio de materiales<br/>Av. Marañón Nº 763, Los Olivos, Lima<br/>www.geofal.com.pe</td>\r\n            </tr>\r\n        </table>\r\n        <div class=\"quote-title-box\">\r\n            <h2>COTIZACIÓN N° {{numeroCotizacion}}</h2>\r\n        </div>\r\n        <div class=\"info-grid\">\r\n            <div class=\"client-info\">\r\n                <strong>CLIENTE:</strong> {{cliente.nombre}}<br/>\r\n                <strong>RUC:</strong> {{cliente.ruc}}<br/>\r\n                <strong>CONTACTO:</strong> {{cliente.contacto}}<br/>\r\n                <strong>TELÉFONO:</strong> {{cliente.telefono}}<br/>\r\n                <strong>CORREO:</strong> {{cliente.correo}}\r\n            </div>\r\n            <div class=\"project-info\">\r\n                <strong>PROYECTO:</strong> {{proyecto.nombre}}<br/>\r\n                <strong>UBICACIÓN:</strong> {{proyecto.ubicacion}}<br/>\r\n                <strong>ASESOR COMERCIAL:</strong> {{asesor.nombre}}<br/>\r\n                <strong>FECHA EMISIÓN:</strong> {{fechaEmision}}\r\n            </div>\r\n        </div>\r\n        <p>Es grato dirigirnos a Ud. a fin de alcanzarle, de acuerdo a su requerimiento, nuestra cotización por los servicios solicitados de los siguientes ensayos de laboratorio:</p>\r\n        <table class=\"items-table\">\r\n            <thead>\r\n                <tr>\r\n                    <th class=\"text-center\">Código</th>\r\n                    <th>Descripción Ensayo</th>\r\n                    <th>Norma</th>\r\n                    <th class=\"text-center\">Acreditación</th>\r\n                    <th class=\"text-center\">Cantidad</th>\r\n                    <th class=\"text-right\">Costo Parcial (S/)</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {{#each items}}\r\n                <tr>\r\n                    <td class=\"text-center\">{{this.codigo}}</td>\r\n                    <td>{{this.descripcion}}</td>\r\n                    <td>{{this.norma}}</td>\r\n                    <td class=\"text-center\">{{this.acreditacion}}</td>\r\n                    <td class=\"text-center\">{{this.cantidad}}</td>\r\n                    <td class=\"text-right\">{{this.costoParcial}}</td>\r\n                </tr>\r\n                {{/each}}\r\n            </tbody>\r\n        </table>\r\n        <div class=\"totals-section\">\r\n            <table class=\"totals-table\">\r\n                <tr>\r\n                    <td><strong>Costo Parcial:</strong></td>\r\n                    <td class=\"text-right\">S/ {{totales.parcial}}</td>\r\n                </tr>\r\n                <tr>\r\n                    <td><strong>IGV 18%:</strong></td>\r\n                    <td class=\"text-right\">S/ {{totales.igv}}</td>\r\n                </tr>\r\n                <tr>\r\n                    <td><strong>Costo Total:</strong></td>\r\n                    <td class=\"text-right\">S/ {{totales.total}}</td>\r\n                </tr>\r\n            </table>\r\n        </div>\r\n    </div>\r\n</body>\r\n</html>"},"property":"helpers","statusCode":400,"weak":true,"logged":true,"previousOperationId":"n1imw326sw25512","id":"eerbh08m5tv1tjy","stack":"SyntaxError: Unexpected token ':'\n  at Object.eval (eval at makeEvaluate (C:\\Users\\Lenovo\\Documents\\crmgeofal\\servidor_reportes\\node_modules\\@jsreport\\ses\\index.js:8504:27), <anonymous>:12:36)\n  at safeEvaluate (C:\\Users\\Lenovo\\Documents\\crmgeofal\\servidor_reportes\\node_modules\\@jsreport\\ses\\index.js:8605:14)\n  at compartmentEvaluate (C:\\Users\\Lenovo\\Documents\\crmgeofal\\servidor_reportes\\node_modules\\@jsreport\\ses\\index.js:11351:10)\n  at Compartment.evaluate (C:\\Users\\Lenovo\\Documents\\crmgeofal\\servidor_reportes\\node_modules\\@jsreport\\ses\\index.js:12177:12)\n  at run (C:\\Users\\Lenovo\\Documents\\crmgeofal\\servidor_reportes\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\createSandbox.js:132:36)\n  at WorkerReporter.runInSandbox [as _runInSandbox] (C:\\Users\\Lenovo\\Documents\\crmgeofal\\servidor_reportes\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\runInSandbox.js:214:20)\n  at async executeEngine (C:\\Users\\Lenovo\\Documents\\crmgeofal\\servidor_reportes\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:354:16)\n  at async engine.engine (C:\\Users\\Lenovo\\Documents\\crmgeofal\\servidor_reportes\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:162:14)\n  at async invokeRender (C:\\Users\\Lenovo\\Documents\\crmgeofal\\servidor_reportes\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:61:23)\n  at async WorkerReporter._render (C:\\Users\\Lenovo\\Documents\\crmgeofal\\servidor_reportes\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:148:7)\n  at async C:\\Users\\Lenovo\\Documents\\crmgeofal\\servidor_reportes\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\reporter.js:233:24\n  at async processAndResponse (C:\\Users\\Lenovo\\Documents\\crmgeofal\\servidor_reportes\\node_modules\\@jsreport\\advanced-workers\\lib\\workerHandler.js:42:17)\nwrapped by:\nError: Error when evaluating engine handlebars for template /cotizacion\n(because) unexpected token ':'\n  at module.exports (C:\\Users\\Lenovo\\Documents\\crmgeofal\\servidor_reportes\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\createError.js:10:13)\n  at WorkerReporter.createError (C:\\Users\\Lenovo\\Documents\\crmgeofal\\servidor_reportes\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\reporter.js:53:12)\n  at executeEngine (C:\\Users\\Lenovo\\Documents\\crmgeofal\\servidor_reportes\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:377:35)\n  at async engine.engine (C:\\Users\\Lenovo\\Documents\\crmgeofal\\servidor_reportes\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:162:14)\n  at async invokeRender (C:\\Users\\Lenovo\\Documents\\crmgeofal\\servidor_reportes\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:61:23)\n  at async WorkerReporter._render (C:\\Users\\Lenovo\\Documents\\crmgeofal\\servidor_reportes\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:148:7)\n  at async C:\\Users\\Lenovo\\Documents\\crmgeofal\\servidor_reportes\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\reporter.js:233:24\n  at async processAndResponse (C:\\Users\\Lenovo\\Documents\\crmgeofal\\servidor_reportes\\node_modules\\@jsreport\\advanced-workers\\lib\\workerHandler.js:42:17)","message":"Error when evaluating engine handlebars for template /cotizacion\n(because) unexpected token ':'"}
